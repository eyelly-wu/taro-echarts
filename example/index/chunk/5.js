(window.webpackJsonp=window.webpackJsonp||[]).push([[5],[,,,,,,,,,,,,,,,,function(t,e,n){var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=n(46),a="object"==("undefined"==typeof self?"undefined":i(self))&&self&&self.Object===Object&&self,r=o||a||Function("return this")();t.exports=r},function(t,e,n){var i=n(112),o=n(117);t.exports=function getNative(t,e){var n=o(t,e);return i(n)?n:void 0}},,function(t,e,n){var i=n(102),o=n(103),a=n(104),r=n(105),s=n(106);function ListCache(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}ListCache.prototype.clear=i,ListCache.prototype.delete=o,ListCache.prototype.get=a,ListCache.prototype.has=r,ListCache.prototype.set=s,t.exports=ListCache},function(t,e,n){var i=n(44);t.exports=function assocIndexOf(t,e){for(var n=t.length;n--;)if(i(t[n][0],e))return n;return-1}},function(t,e,n){var i=n(31),o=n(113),a=n(114),r="[object Null]",s="[object Undefined]",l=i?i.toStringTag:void 0;t.exports=function baseGetTag(t){return null==t?void 0===t?s:r:l&&l in Object(t)?o(t):a(t)}},function(t,e,n){var i=n(17)(Object,"create");t.exports=i},function(t,e,n){var i=n(126);t.exports=function getMapData(t,e){var n=t.__data__;return i(e)?n["string"==typeof e?"string":"hash"]:n.map}},function(t,e){var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};t.exports=function isObjectLike(t){return null!=t&&"object"==(void 0===t?"undefined":n(t))}},,,,,,function(t,e,n){var i=n(17)(n(16),"Map");t.exports=i},function(t,e,n){var i=n(16).Symbol;t.exports=i},function(t,e){var n=Array.isArray;t.exports=n},,,,,,,,,,,,function(t,e){t.exports=function eq(t,e){return t===e||t!=t&&e!=e}},function(t,e,n){var i=n(21),o=n(47),a="[object AsyncFunction]",r="[object Function]",s="[object GeneratorFunction]",l="[object Proxy]";t.exports=function isFunction(t){if(!o(t))return!1;var e=i(t);return e==r||e==s||e==a||e==l}},function(t,e,n){(function(e){var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i="object"==(void 0===e?"undefined":n(e))&&e&&e.Object===Object&&e;t.exports=i}).call(this,n(6))},function(t,e){var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};t.exports=function isObject(t){var e=void 0===t?"undefined":n(t);return null!=t&&("object"==e||"function"==e)}},function(t,e){var n=Function.prototype.toString;t.exports=function toSource(t){if(null!=t){try{return n.call(t)}catch(t){}try{return t+""}catch(t){}}return""}},function(t,e,n){var i=n(118),o=n(125),a=n(127),r=n(128),s=n(129);function MapCache(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}MapCache.prototype.clear=i,MapCache.prototype.delete=o,MapCache.prototype.get=a,MapCache.prototype.has=r,MapCache.prototype.set=s,t.exports=MapCache},function(t,e,n){var i=n(130),o=n(133),a=n(134),r=1,s=2;t.exports=function equalArrays(t,e,n,l,u,h){var c=n&r,d=t.length,f=e.length;if(d!=f&&!(c&&f>d))return!1;var p=h.get(t);if(p&&h.get(e))return p==e;var g=-1,m=!0,v=n&s?new i:void 0;for(h.set(t,e),h.set(e,t);++g<d;){var y=t[g],x=e[g];if(l)var _=c?l(x,y,g,e,t,h):l(y,x,g,t,e,h);if(void 0!==_){if(_)continue;m=!1;break}if(v){if(!o(e,function(t,e){if(!a(v,e)&&(y===t||u(y,t,n,l,h)))return v.push(e)})){m=!1;break}}else if(y!==x&&!u(y,x,n,l,h)){m=!1;break}}return h.delete(t),h.delete(e),m}},function(t,e,n){(function(t){var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=n(16),a=n(151),r="object"==i(e)&&e&&!e.nodeType&&e,s=r&&"object"==i(t)&&t&&!t.nodeType&&t,l=s&&s.exports===r?o.Buffer:void 0,u=(l?l.isBuffer:void 0)||a;t.exports=u}).call(this,n(52)(t))},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{"enumerable":!0,"get":function get(){return t.l}}),Object.defineProperty(t,"id",{"enumerable":!0,"get":function get(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,n){var i=n(153),o=n(154),a=n(155),r=a&&a.isTypedArray,s=r?o(r):i;t.exports=s},function(t,e){var n=9007199254740991;t.exports=function isLength(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=n}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){t.exports=n(96)()},function(t,e,n){"use strict";var i=n(97);function emptyFunction(){}function emptyFunctionWithReset(){}emptyFunctionWithReset.resetWarningCache=emptyFunction,t.exports=function(){function shim(t,e,n,o,a,r){if(r!==i){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function getShim(){return shim}shim.isRequired=shim;var t={"array":shim,"bool":shim,"func":shim,"number":shim,"object":shim,"string":shim,"symbol":shim,"any":shim,"arrayOf":getShim,"element":shim,"elementType":shim,"instanceOf":getShim,"node":shim,"objectOf":getShim,"oneOf":getShim,"oneOfType":getShim,"shape":getShim,"exact":getShim,"checkPropTypes":emptyFunctionWithReset,"resetWarningCache":emptyFunction};return t.PropTypes=t,t}},function(t,e,n){"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(t,e,n){var i=n(99);t.exports=function isEqual(t,e){return i(t,e)}},function(t,e,n){var i=n(100),o=n(24);t.exports=function baseIsEqual(t,e,n,a,r){return t===e||(null==t||null==e||!o(t)&&!o(e)?t!=t&&e!=e:i(t,e,n,a,baseIsEqual,r))}},function(t,e,n){var i=n(101),o=n(50),a=n(135),r=n(139),s=n(161),l=n(32),u=n(51),h=n(53),c=1,d="[object Arguments]",f="[object Array]",p="[object Object]",g=Object.prototype.hasOwnProperty;t.exports=function baseIsEqualDeep(t,e,n,m,v,y){var x=l(t),_=l(e),b=x?f:s(t),w=_?f:s(e),S=(b=b==d?p:b)==p,M=(w=w==d?p:w)==p,I=b==w;if(I&&u(t)){if(!u(e))return!1;x=!0,S=!1}if(I&&!S)return y||(y=new i),x||h(t)?o(t,e,n,m,v,y):a(t,e,b,n,m,v,y);if(!(n&c)){var T=S&&g.call(t,"__wrapped__"),A=M&&g.call(e,"__wrapped__");if(T||A){var D=T?t.value():t,C=A?e.value():e;return y||(y=new i),v(D,C,n,m,y)}}return!!I&&(y||(y=new i),r(t,e,n,m,v,y))}},function(t,e,n){var i=n(19),o=n(107),a=n(108),r=n(109),s=n(110),l=n(111);function Stack(t){var e=this.__data__=new i(t);this.size=e.size}Stack.prototype.clear=o,Stack.prototype.delete=a,Stack.prototype.get=r,Stack.prototype.has=s,Stack.prototype.set=l,t.exports=Stack},function(t,e){t.exports=function listCacheClear(){this.__data__=[],this.size=0}},function(t,e,n){var i=n(20),o=Array.prototype.splice;t.exports=function listCacheDelete(t){var e=this.__data__,n=i(e,t);return!(n<0||(n==e.length-1?e.pop():o.call(e,n,1),--this.size,0))}},function(t,e,n){var i=n(20);t.exports=function listCacheGet(t){var e=this.__data__,n=i(e,t);return n<0?void 0:e[n][1]}},function(t,e,n){var i=n(20);t.exports=function listCacheHas(t){return i(this.__data__,t)>-1}},function(t,e,n){var i=n(20);t.exports=function listCacheSet(t,e){var n=this.__data__,o=i(n,t);return o<0?(++this.size,n.push([t,e])):n[o][1]=e,this}},function(t,e,n){var i=n(19);t.exports=function stackClear(){this.__data__=new i,this.size=0}},function(t,e){t.exports=function stackDelete(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}},function(t,e){t.exports=function stackGet(t){return this.__data__.get(t)}},function(t,e){t.exports=function stackHas(t){return this.__data__.has(t)}},function(t,e,n){var i=n(19),o=n(30),a=n(49),r=200;t.exports=function stackSet(t,e){var n=this.__data__;if(n instanceof i){var s=n.__data__;if(!o||s.length<r-1)return s.push([t,e]),this.size=++n.size,this;n=this.__data__=new a(s)}return n.set(t,e),this.size=n.size,this}},function(t,e,n){var i=n(45),o=n(115),a=n(47),r=n(48),s=/^\[object .+?Constructor\]$/,l=Function.prototype,u=Object.prototype,h=l.toString,c=u.hasOwnProperty,d=RegExp("^"+h.call(c).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=function baseIsNative(t){return!(!a(t)||o(t))&&(i(t)?d:s).test(r(t))}},function(t,e,n){var i=n(31),o=Object.prototype,a=o.hasOwnProperty,r=o.toString,s=i?i.toStringTag:void 0;t.exports=function getRawTag(t){var e=a.call(t,s),n=t[s];try{t[s]=void 0;var i=!0}catch(t){}var o=r.call(t);return i&&(e?t[s]=n:delete t[s]),o}},function(t,e){var n=Object.prototype.toString;t.exports=function objectToString(t){return n.call(t)}},function(t,e,n){var i,o=n(116),a=(i=/[^.]+$/.exec(o&&o.keys&&o.keys.IE_PROTO||""))?"Symbol(src)_1."+i:"";t.exports=function isMasked(t){return!!a&&a in t}},function(t,e,n){var i=n(16)["__core-js_shared__"];t.exports=i},function(t,e){t.exports=function getValue(t,e){return null==t?void 0:t[e]}},function(t,e,n){var i=n(119),o=n(19),a=n(30);t.exports=function mapCacheClear(){this.size=0,this.__data__={"hash":new i,"map":new(a||o),"string":new i}}},function(t,e,n){var i=n(120),o=n(121),a=n(122),r=n(123),s=n(124);function Hash(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}Hash.prototype.clear=i,Hash.prototype.delete=o,Hash.prototype.get=a,Hash.prototype.has=r,Hash.prototype.set=s,t.exports=Hash},function(t,e,n){var i=n(22);t.exports=function hashClear(){this.__data__=i?i(null):{},this.size=0}},function(t,e){t.exports=function hashDelete(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}},function(t,e,n){var i=n(22),o="__lodash_hash_undefined__",a=Object.prototype.hasOwnProperty;t.exports=function hashGet(t){var e=this.__data__;if(i){var n=e[t];return n===o?void 0:n}return a.call(e,t)?e[t]:void 0}},function(t,e,n){var i=n(22),o=Object.prototype.hasOwnProperty;t.exports=function hashHas(t){var e=this.__data__;return i?void 0!==e[t]:o.call(e,t)}},function(t,e,n){var i=n(22),o="__lodash_hash_undefined__";t.exports=function hashSet(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=i&&void 0===e?o:e,this}},function(t,e,n){var i=n(23);t.exports=function mapCacheDelete(t){var e=i(this,t).delete(t);return this.size-=e?1:0,e}},function(t,e){var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};t.exports=function isKeyable(t){var e=void 0===t?"undefined":n(t);return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}},function(t,e,n){var i=n(23);t.exports=function mapCacheGet(t){return i(this,t).get(t)}},function(t,e,n){var i=n(23);t.exports=function mapCacheHas(t){return i(this,t).has(t)}},function(t,e,n){var i=n(23);t.exports=function mapCacheSet(t,e){var n=i(this,t),o=n.size;return n.set(t,e),this.size+=n.size==o?0:1,this}},function(t,e,n){var i=n(49),o=n(131),a=n(132);function SetCache(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new i;++e<n;)this.add(t[e])}SetCache.prototype.add=SetCache.prototype.push=o,SetCache.prototype.has=a,t.exports=SetCache},function(t,e){var n="__lodash_hash_undefined__";t.exports=function setCacheAdd(t){return this.__data__.set(t,n),this}},function(t,e){t.exports=function setCacheHas(t){return this.__data__.has(t)}},function(t,e){t.exports=function arraySome(t,e){for(var n=-1,i=null==t?0:t.length;++n<i;)if(e(t[n],n,t))return!0;return!1}},function(t,e){t.exports=function cacheHas(t,e){return t.has(e)}},function(t,e,n){var i=n(31),o=n(136),a=n(44),r=n(50),s=n(137),l=n(138),u=1,h=2,c="[object Boolean]",d="[object Date]",f="[object Error]",p="[object Map]",g="[object Number]",m="[object RegExp]",v="[object Set]",y="[object String]",x="[object Symbol]",_="[object ArrayBuffer]",b="[object DataView]",w=i?i.prototype:void 0,S=w?w.valueOf:void 0;t.exports=function equalByTag(t,e,n,i,w,M,I){switch(n){case b:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case _:return!(t.byteLength!=e.byteLength||!M(new o(t),new o(e)));case c:case d:case g:return a(+t,+e);case f:return t.name==e.name&&t.message==e.message;case m:case y:return t==e+"";case p:var T=s;case v:var A=i&u;if(T||(T=l),t.size!=e.size&&!A)return!1;var D=I.get(t);if(D)return D==e;i|=h,I.set(t,e);var C=r(T(t),T(e),i,w,M,I);return I.delete(t),C;case x:if(S)return S.call(t)==S.call(e)}return!1}},function(t,e,n){var i=n(16).Uint8Array;t.exports=i},function(t,e){t.exports=function mapToArray(t){var e=-1,n=Array(t.size);return t.forEach(function(t,i){n[++e]=[i,t]}),n}},function(t,e){t.exports=function setToArray(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}},function(t,e,n){var i=n(140),o=1,a=Object.prototype.hasOwnProperty;t.exports=function equalObjects(t,e,n,r,s,l){var u=n&o,h=i(t),c=h.length;if(c!=i(e).length&&!u)return!1;for(var d=c;d--;){var f=h[d];if(!(u?f in e:a.call(e,f)))return!1}var p=l.get(t);if(p&&l.get(e))return p==e;var g=!0;l.set(t,e),l.set(e,t);for(var m=u;++d<c;){var v=t[f=h[d]],y=e[f];if(r)var x=u?r(y,v,f,e,t,l):r(v,y,f,t,e,l);if(!(void 0===x?v===y||s(v,y,n,r,l):x)){g=!1;break}m||(m="constructor"==f)}if(g&&!m){var _=t.constructor,b=e.constructor;_!=b&&"constructor"in t&&"constructor"in e&&!("function"==typeof _&&_ instanceof _&&"function"==typeof b&&b instanceof b)&&(g=!1)}return l.delete(t),l.delete(e),g}},function(t,e,n){var i=n(141),o=n(143),a=n(146);t.exports=function getAllKeys(t){return i(t,a,o)}},function(t,e,n){var i=n(142),o=n(32);t.exports=function baseGetAllKeys(t,e,n){var a=e(t);return o(t)?a:i(a,n(t))}},function(t,e){t.exports=function arrayPush(t,e){for(var n=-1,i=e.length,o=t.length;++n<i;)t[o+n]=e[n];return t}},function(t,e,n){var i=n(144),o=n(145),a=Object.prototype.propertyIsEnumerable,r=Object.getOwnPropertySymbols,s=r?function(t){return null==t?[]:(t=Object(t),i(r(t),function(e){return a.call(t,e)}))}:o;t.exports=s},function(t,e){t.exports=function arrayFilter(t,e){for(var n=-1,i=null==t?0:t.length,o=0,a=[];++n<i;){var r=t[n];e(r,n,t)&&(a[o++]=r)}return a}},function(t,e){t.exports=function stubArray(){return[]}},function(t,e,n){var i=n(147),o=n(156),a=n(160);t.exports=function keys(t){return a(t)?i(t):o(t)}},function(t,e,n){var i=n(148),o=n(149),a=n(32),r=n(51),s=n(152),l=n(53),u=Object.prototype.hasOwnProperty;t.exports=function arrayLikeKeys(t,e){var n=a(t),h=!n&&o(t),c=!n&&!h&&r(t),d=!n&&!h&&!c&&l(t),f=n||h||c||d,p=f?i(t.length,String):[],g=p.length;for(var m in t)!e&&!u.call(t,m)||f&&("length"==m||c&&("offset"==m||"parent"==m)||d&&("buffer"==m||"byteLength"==m||"byteOffset"==m)||s(m,g))||p.push(m);return p}},function(t,e){t.exports=function baseTimes(t,e){for(var n=-1,i=Array(t);++n<t;)i[n]=e(n);return i}},function(t,e,n){var i=n(150),o=n(24),a=Object.prototype,r=a.hasOwnProperty,s=a.propertyIsEnumerable,l=i(function(){return arguments}())?i:function(t){return o(t)&&r.call(t,"callee")&&!s.call(t,"callee")};t.exports=l},function(t,e,n){var i=n(21),o=n(24),a="[object Arguments]";t.exports=function baseIsArguments(t){return o(t)&&i(t)==a}},function(t,e){t.exports=function stubFalse(){return!1}},function(t,e){var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=9007199254740991,o=/^(?:0|[1-9]\d*)$/;t.exports=function isIndex(t,e){var a=void 0===t?"undefined":n(t);return!!(e=null==e?i:e)&&("number"==a||"symbol"!=a&&o.test(t))&&t>-1&&t%1==0&&t<e}},function(t,e,n){var i=n(21),o=n(54),a=n(24),r={};r["[object Float32Array]"]=r["[object Float64Array]"]=r["[object Int8Array]"]=r["[object Int16Array]"]=r["[object Int32Array]"]=r["[object Uint8Array]"]=r["[object Uint8ClampedArray]"]=r["[object Uint16Array]"]=r["[object Uint32Array]"]=!0,r["[object Arguments]"]=r["[object Array]"]=r["[object ArrayBuffer]"]=r["[object Boolean]"]=r["[object DataView]"]=r["[object Date]"]=r["[object Error]"]=r["[object Function]"]=r["[object Map]"]=r["[object Number]"]=r["[object Object]"]=r["[object RegExp]"]=r["[object Set]"]=r["[object String]"]=r["[object WeakMap]"]=!1,t.exports=function baseIsTypedArray(t){return a(t)&&o(t.length)&&!!r[i(t)]}},function(t,e){t.exports=function baseUnary(t){return function(e){return t(e)}}},function(t,e,n){(function(t){var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=n(46),a="object"==i(e)&&e&&!e.nodeType&&e,r=a&&"object"==i(t)&&t&&!t.nodeType&&t,s=r&&r.exports===a&&o.process,l=function(){try{var t=r&&r.require&&r.require("util").types;return t||s&&s.binding&&s.binding("util")}catch(t){}}();t.exports=l}).call(this,n(52)(t))},function(t,e,n){var i=n(157),o=n(158),a=Object.prototype.hasOwnProperty;t.exports=function baseKeys(t){if(!i(t))return o(t);var e=[];for(var n in Object(t))a.call(t,n)&&"constructor"!=n&&e.push(n);return e}},function(t,e){var n=Object.prototype;t.exports=function isPrototype(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||n)}},function(t,e,n){var i=n(159)(Object.keys,Object);t.exports=i},function(t,e){t.exports=function overArg(t,e){return function(n){return t(e(n))}}},function(t,e,n){var i=n(45),o=n(54);t.exports=function isArrayLike(t){return null!=t&&o(t.length)&&!i(t)}},function(t,e,n){var i=n(162),o=n(30),a=n(163),r=n(164),s=n(165),l=n(21),u=n(48),h=u(i),c=u(o),d=u(a),f=u(r),p=u(s),g=l;(i&&"[object DataView]"!=g(new i(new ArrayBuffer(1)))||o&&"[object Map]"!=g(new o)||a&&"[object Promise]"!=g(a.resolve())||r&&"[object Set]"!=g(new r)||s&&"[object WeakMap]"!=g(new s))&&(g=function getTag(t){var e=l(t),n="[object Object]"==e?t.constructor:void 0,i=n?u(n):"";if(i)switch(i){case h:return"[object DataView]";case c:return"[object Map]";case d:return"[object Promise]";case f:return"[object Set]";case p:return"[object WeakMap]"}return e}),t.exports=g},function(t,e,n){var i=n(17)(n(16),"DataView");t.exports=i},function(t,e,n){var i=n(17)(n(16),"Promise");t.exports=i},function(t,e,n){var i=n(17)(n(16),"Set");t.exports=i},function(t,e,n){var i=n(17)(n(16),"WeakMap");t.exports=i},function(t,ot,rt){var pt,gt,kt,Wt,se="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};Wt=function(ot){"use strict";function e(t,e){"createCanvas"===t&&(W_=null),hx[t]=e}function i(t){if(null==t||"object"!=(void 0===t?"undefined":se(t)))return t;var e=t,n=Pa.call(t);if("[object Array]"===n){if(!O(t)){e=[];for(var o=0,a=t.length;o<a;o++)e[o]=i(t[o])}}else if(Ro[n]){if(!O(t)){var r=t.constructor;if(t.constructor.from)e=r.from(t);else{e=new r(t.length);for(o=0,a=t.length;o<a;o++)e[o]=i(t[o])}}}else if(!Se[n]&&!O(t)&&!M(t))for(var s in e={},t)t.hasOwnProperty(s)&&(e[s]=i(t[s]));return e}function n(t,e,o){if(!w(e)||!w(t))return o?i(e):t;for(var a in e)if(e.hasOwnProperty(a)){var r=t[a],s=e[a];!w(s)||!w(r)||y(s)||y(r)||M(s)||M(r)||b(s)||b(r)||O(s)||O(r)?!o&&a in t||(t[a]=i(e[a])):n(r,s,o)}return t}function o(t,e){for(var i=t[0],o=1,a=t.length;o<a;o++)i=n(i,t[o],e);return i}function a(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function r(t,e,n){for(var i in e)e.hasOwnProperty(i)&&(n?null!=e[i]:null==t[i])&&(t[i]=e[i]);return t}function s(){return W_||(W_=gx().getContext("2d")),W_}function l(t,e){if(t){if(t.indexOf)return t.indexOf(e);for(var n=0,i=t.length;n<i;n++)if(t[n]===e)return n}return-1}function u(t,e){function i(){}var n=t.prototype;for(var o in i.prototype=e.prototype,t.prototype=new i,n)t.prototype[o]=n[o];t.prototype.constructor=t,t.superClass=e}function h(t,e,n){r(t="prototype"in t?t.prototype:t,e="prototype"in e?e.prototype:e,n)}function c(t){if(t)return"string"!=typeof t&&"number"==typeof t.length}function d(t,e,n){if(t&&e)if(t.forEach&&t.forEach===Hl)t.forEach(e,n);else if(t.length===+t.length)for(var i=0,o=t.length;i<o;i++)e.call(n,t[i],i,t);else for(var a in t)t.hasOwnProperty(a)&&e.call(n,t[a],a,t)}function f(t,e,n){if(t&&e){if(t.map&&t.map===sg)return t.map(e,n);for(var i=[],o=0,a=t.length;o<a;o++)i.push(e.call(n,t[o],o,t));return i}}function p(t,e,n,i){if(t&&e){if(t.reduce&&t.reduce===Ag)return t.reduce(e,n,i);for(var o=0,a=t.length;o<a;o++)n=e.call(i,n,t[o],o,t);return n}}function g(t,e,n){if(t&&e){if(t.filter&&t.filter===oh)return t.filter(e,n);for(var i=[],o=0,a=t.length;o<a;o++)e.call(n,t[o],o,t)&&i.push(t[o]);return i}}function m(t,e){var n=Tp.call(arguments,2);return function(){return t.apply(e,n.concat(Tp.call(arguments)))}}function v(t){var e=Tp.call(arguments,1);return function(){return t.apply(this,e.concat(Tp.call(arguments)))}}function y(t){return"[object Array]"===Pa.call(t)}function x(t){return"function"==typeof t}function _(t){return"[object String]"===Pa.call(t)}function w(t){var e=void 0===t?"undefined":se(t);return"function"===e||!!t&&"object"===e}function b(t){return!!Se[Pa.call(t)]}function S(t){return!!Ro[Pa.call(t)]}function M(t){return"object"==(void 0===t?"undefined":se(t))&&"number"==typeof t.nodeType&&"object"==se(t.ownerDocument)}function I(t){return t!=t}function T(t){for(var e=0,n=arguments.length;e<n;e++)if(null!=arguments[e])return arguments[e]}function A(t,e){return null!=t?t:e}function D(t,e,n){return null!=t?t:null!=e?e:n}function C(){return Function.call.apply(Tp,arguments)}function L(t){if("number"==typeof t)return[t,t,t,t];var e=t.length;return 2===e?[t[0],t[1],t[0],t[1]]:3===e?[t[0],t[1],t[2],t[1]]:t}function k(t,e){if(!t)throw new Error(e)}function P(t){return null==t?null:"function"==typeof t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}function N(t){t[j_]=!0}function O(t){return t[j_]}function E(t){function e(t,e){n?i.set(t,e):i.set(e,t)}var n=y(t);this.data={};var i=this;t instanceof E?t.each(e):t&&d(t,e)}function R(t){return new E(t)}function z(t,e){for(var n=new t.constructor(t.length+e.length),i=0;i<t.length;i++)n[i]=t[i];var o=t.length;for(i=0;i<e.length;i++)n[i+o]=e[i];return n}function B(){}function V(t,e){var n=new U_(2);return null==t&&(t=0),null==e&&(e=0),n[0]=t,n[1]=e,n}function G(t,e){return t[0]=e[0],t[1]=e[1],t}function F(t){var e=new U_(2);return e[0]=t[0],e[1]=t[1],e}function W(t,e,n){return t[0]=e,t[1]=n,t}function H(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t}function Z(t,e,n,i){return t[0]=e[0]+n[0]*i,t[1]=e[1]+n[1]*i,t}function U(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t}function X(t){return Math.sqrt(j(t))}function j(t){return t[0]*t[0]+t[1]*t[1]}function Y(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t}function q(t,e){var n=X(e);return 0===n?(t[0]=0,t[1]=0):(t[0]=e[0]/n,t[1]=e[1]/n),t}function K(t,e){return Math.sqrt((t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1]))}function $(t,e){return(t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1])}function J(t,e,n,i){return t[0]=e[0]+i*(n[0]-e[0]),t[1]=e[1]+i*(n[1]-e[1]),t}function Q(t,e,n){var i=e[0],o=e[1];return t[0]=n[0]*i+n[2]*o+n[4],t[1]=n[1]*i+n[3]*o+n[5],t}function tt(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t}function et(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t}function it(){this.on("mousedown",this._dragStart,this),this.on("mousemove",this._drag,this),this.on("mouseup",this._dragEnd,this),this.on("globalout",this._dragEnd,this)}function nt(t,e){return{"target":t,"topTarget":e&&e.topTarget}}function at(t,e,n,i,o,a){var r=t._$handlers;if("function"==typeof n&&(o=i,i=n,n=null),!i||!e)return t;n=function ot(t,e){var n=t._$eventProcessor;return null!=e&&n&&n.normalizeQuery&&(e=n.normalizeQuery(e)),e}(t,n),r[e]||(r[e]=[]);for(var s=0;s<r[e].length;s++)if(r[e][s].h===i)return t;var l={"h":i,"one":a,"query":n,"ctx":o||t,"callAtLast":i.zrEventfulCallAtLast},u=r[e].length-1,h=r[e][u];return h&&h.callAtLast?r[e].splice(u,0,l):r[e].push(l),t}function st(t,e,n,i){return n=n||{},i||!be.canvasSupported?lt(t,e,n):be.browser.firefox&&null!=e.layerX&&e.layerX!==e.offsetX?(n.zrX=e.layerX,n.zrY=e.layerY):null!=e.offsetX?(n.zrX=e.offsetX,n.zrY=e.offsetY):lt(t,e,n),n}function lt(t,e,n){var i=function rt(t){return t.getBoundingClientRect?t.getBoundingClientRect():{"left":0,"top":0}}(t);n.zrX=e.clientX-i.left,n.zrY=e.clientY-i.top}function ut(t,e,n){if(null!=(e=e||window.event).zrX)return e;var i=e.type;if(i&&i.indexOf("touch")>=0){var o="touchend"!==i?e.targetTouches[0]:e.changedTouches[0];o&&st(t,o,e,n)}else st(t,e,e,n),e.zrDelta=e.wheelDelta?e.wheelDelta/120:-(e.detail||0)/3;var a=e.button;return null==e.which&&void 0!==a&&nb.test(e.type)&&(e.which=1&a?1:2&a?3:4&a?2:0),e}function ht(t,e,n){eb?t.addEventListener(e,n):t.attachEvent("on"+e,n)}function ct(t,e,n){eb?t.removeEventListener(e,n):t.detachEvent("on"+e,n)}function dt(t){return 2===t.which||3===t.which}function ft(t){var e=t[1][0]-t[0][0],n=t[1][1]-t[0][1];return Math.sqrt(e*e+n*n)}function mt(t){ib(this.event)}function vt(){}function yt(t,e,n){if(t[t.rectHover?"rectContain":"contain"](e,n)){for(var i,o=t;o;){if(o.clipPath&&!o.clipPath.contain(e,n))return!1;o.silent&&(i=!0),o=o.parent}return!i||sb}return!1}function xt(){var t=new hb(6);return _t(t),t}function _t(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t}function wt(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t}function bt(t,e,n){var i=e[0]*n[0]+e[2]*n[1],o=e[1]*n[0]+e[3]*n[1],a=e[0]*n[2]+e[2]*n[3],r=e[1]*n[2]+e[3]*n[3],s=e[0]*n[4]+e[2]*n[5]+e[4],l=e[1]*n[4]+e[3]*n[5]+e[5];return t[0]=i,t[1]=o,t[2]=a,t[3]=r,t[4]=s,t[5]=l,t}function St(t,e,n){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4]+n[0],t[5]=e[5]+n[1],t}function Mt(t,e,n){var i=e[0],o=e[2],a=e[4],r=e[1],s=e[3],l=e[5],u=Math.sin(n),h=Math.cos(n);return t[0]=i*h+r*u,t[1]=-i*u+r*h,t[2]=o*h+s*u,t[3]=-o*u+h*s,t[4]=h*a+u*l,t[5]=h*l-u*a,t}function It(t,e,n){var i=n[0],o=n[1];return t[0]=e[0]*i,t[1]=e[1]*o,t[2]=e[2]*i,t[3]=e[3]*o,t[4]=e[4]*i,t[5]=e[5]*o,t}function Tt(t,e){var n=e[0],i=e[2],o=e[4],a=e[1],r=e[3],s=e[5],l=n*r-a*i;return l?(l=1/l,t[0]=r*l,t[1]=-a*l,t[2]=-i*l,t[3]=n*l,t[4]=(i*s-r*o)*l,t[5]=(a*o-n*s)*l,t):null}function At(t){var e=xt();return wt(e,t),e}function Dt(t){return t>fb||t<-fb}function Ct(t){this._target=t.target,this._life=t.life||1e3,this._delay=t.delay||0,this._initialized=!1,this.loop=null!=t.loop&&t.loop,this.gap=t.gap||0,this.easing=t.easing||"Linear",this.onframe=t.onframe,this.ondestroy=t.ondestroy,this.onrestart=t.onrestart,this._pausedTime=0,this._paused=!1}function Lt(t){return(t=Math.round(t))<0?0:t>255?255:t}function Pt(t){return t<0?0:t>1?1:t}function Nt(t){return Lt(t.length&&"%"===t.charAt(t.length-1)?parseFloat(t)/100*255:parseInt(t,10))}function Ot(t){return Pt(t.length&&"%"===t.charAt(t.length-1)?parseFloat(t)/100:parseFloat(t))}function Et(t,e,n){return n<0?n+=1:n>1&&(n-=1),6*n<1?t+(e-t)*n*6:2*n<1?e:3*n<2?t+(e-t)*(2/3-n)*6:t}function Rt(t,e,n){return t+(e-t)*n}function zt(t,e,n,i,o){return t[0]=e,t[1]=n,t[2]=i,t[3]=o,t}function Bt(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}function Vt(t,e){Db&&Bt(Db,e),Db=Ab.put(t,Db||e.slice())}function Gt(t,e){if(t){e=e||[];var n=Ab.get(t);if(n)return Bt(e,n);var i=(t+="").replace(/ /g,"").toLowerCase();if(i in Tb)return Bt(e,Tb[i]),Vt(t,e),e;if("#"!==i.charAt(0)){var o=i.indexOf("("),a=i.indexOf(")");if(-1!==o&&a+1===i.length){var r=i.substr(0,o),s=i.substr(o+1,a-(o+1)).split(","),l=1;switch(r){case"rgba":if(4!==s.length)return void zt(e,0,0,0,1);l=Ot(s.pop());case"rgb":return 3!==s.length?void zt(e,0,0,0,1):(zt(e,Nt(s[0]),Nt(s[1]),Nt(s[2]),l),Vt(t,e),e);case"hsla":return 4!==s.length?void zt(e,0,0,0,1):(s[3]=Ot(s[3]),Ft(s,e),Vt(t,e),e);case"hsl":return 3!==s.length?void zt(e,0,0,0,1):(Ft(s,e),Vt(t,e),e);default:return}}zt(e,0,0,0,1)}else{if(4===i.length)return(u=parseInt(i.substr(1),16))>=0&&u<=4095?(zt(e,(3840&u)>>4|(3840&u)>>8,240&u|(240&u)>>4,15&u|(15&u)<<4,1),Vt(t,e),e):void zt(e,0,0,0,1);if(7===i.length){var u=parseInt(i.substr(1),16);return u>=0&&u<=16777215?(zt(e,(16711680&u)>>16,(65280&u)>>8,255&u,1),Vt(t,e),e):void zt(e,0,0,0,1)}}}}function Ft(t,e){var n=(parseFloat(t[0])%360+360)%360/360,i=Ot(t[1]),o=Ot(t[2]),a=o<=.5?o*(i+1):o+i-o*i,r=2*o-a;return zt(e=e||[],Lt(255*Et(r,a,n+1/3)),Lt(255*Et(r,a,n)),Lt(255*Et(r,a,n-1/3)),1),4===t.length&&(e[3]=t[3]),e}function Ht(t,e){var n=Gt(t);if(n){for(var i=0;i<3;i++)n[i]=e<0?n[i]*(1-e)|0:(255-n[i])*e+n[i]|0,n[i]>255?n[i]=255:t[i]<0&&(n[i]=0);return qt(n,4===n.length?"rgba":"rgb")}}function Zt(t){var e=Gt(t);if(e)return((1<<24)+(e[0]<<16)+(e[1]<<8)+ +e[2]).toString(16).slice(1)}function Ut(t,e,n){if(e&&e.length&&t>=0&&t<=1){n=n||[];var i=t*(e.length-1),o=Math.floor(i),a=Math.ceil(i),r=e[o],s=e[a],l=i-o;return n[0]=Lt(Rt(r[0],s[0],l)),n[1]=Lt(Rt(r[1],s[1],l)),n[2]=Lt(Rt(r[2],s[2],l)),n[3]=Pt(Rt(r[3],s[3],l)),n}}function Xt(t,e,n){if(e&&e.length&&t>=0&&t<=1){var i=t*(e.length-1),o=Math.floor(i),a=Math.ceil(i),r=Gt(e[o]),s=Gt(e[a]),l=i-o,u=qt([Lt(Rt(r[0],s[0],l)),Lt(Rt(r[1],s[1],l)),Lt(Rt(r[2],s[2],l)),Pt(Rt(r[3],s[3],l))],"rgba");return n?{"color":u,"leftIndex":o,"rightIndex":a,"value":i}:u}}function jt(t,e,n,i){if(t=Gt(t))return t=function Wt(t){if(t){var e,n,i=t[0]/255,o=t[1]/255,a=t[2]/255,r=Math.min(i,o,a),s=Math.max(i,o,a),l=s-r,u=(s+r)/2;if(0===l)e=0,n=0;else{n=u<.5?l/(s+r):l/(2-s-r);var h=((s-i)/6+l/2)/l,c=((s-o)/6+l/2)/l,d=((s-a)/6+l/2)/l;i===s?e=d-c:o===s?e=1/3+h-d:a===s&&(e=2/3+c-h),e<0&&(e+=1),e>1&&(e-=1)}var f=[360*e,n,u];return null!=t[3]&&f.push(t[3]),f}}(t),null!=e&&(t[0]=function kt(t){return(t=Math.round(t))<0?0:t>360?360:t}(e)),null!=n&&(t[1]=Ot(n)),null!=i&&(t[2]=Ot(i)),qt(Ft(t),"rgba")}function Yt(t,e){if((t=Gt(t))&&null!=e)return t[3]=Pt(e),qt(t,"rgba")}function qt(t,e){if(t&&t.length){var n=t[0]+","+t[1]+","+t[2];return"rgba"!==e&&"hsva"!==e&&"hsla"!==e||(n+=","+t[3]),e+"("+n+")"}}function Kt(t,e){return t[e]}function $t(t,e,n){t[e]=n}function Jt(t,e,n){return(e-t)*n+t}function Qt(t,e,n){return n>.5?e:t}function te(t,e,n,i,o){var a=t.length;if(1===o)for(s=0;s<a;s++)i[s]=Jt(t[s],e[s],n);else for(var r=a&&t[0].length,s=0;s<a;s++)for(var l=0;l<r;l++)i[s][l]=Jt(t[s][l],e[s][l],n)}function ee(t,e,n){var i=t.length,o=e.length;if(i!==o)if(i>o)t.length=o;else for(r=i;r<o;r++)t.push(1===n?e[r]:Rb.call(e[r]));for(var a=t[0]&&t[0].length,r=0;r<t.length;r++)if(1===n)isNaN(t[r])&&(t[r]=e[r]);else for(var s=0;s<a;s++)isNaN(t[r][s])&&(t[r][s]=e[r][s])}function ie(t,e,n){if(t===e)return!0;var i=t.length;if(i!==e.length)return!1;if(1===n){for(a=0;a<i;a++)if(t[a]!==e[a])return!1}else for(var o=t[0].length,a=0;a<i;a++)for(var r=0;r<o;r++)if(t[a][r]!==e[a][r])return!1;return!0}function ne(t,e,n,i,o,a,r,s,l){var u=t.length;if(1===l)for(c=0;c<u;c++)s[c]=oe(t[c],e[c],n[c],i[c],o,a,r);else for(var h=t[0].length,c=0;c<u;c++)for(var d=0;d<h;d++)s[c][d]=oe(t[c][d],e[c][d],n[c][d],i[c][d],o,a,r)}function oe(t,e,n,i,o,a,r){var s=.5*(n-t),l=.5*(i-e);return(2*(e-n)+s+l)*r+(-3*(e-n)-2*s-l)*a+s*o+e}function ae(t){if(c(t)){var e=t.length;if(c(t[0])){for(var n=[],i=0;i<e;i++)n.push(Rb.call(t[i]));return n}return Rb.call(t)}return t}function re(t){return t[0]=Math.floor(t[0]),t[1]=Math.floor(t[1]),t[2]=Math.floor(t[2]),"rgba("+t.join(",")+")"}function le(t,e,n,i,o,a){var r=t._getter,s=t._setter,l="spline"===e,u=i.length;if(u){var h,d=c(i[0].value),f=!1,p=!1,g=d?function se(t){var e=t[t.length-1].value;return c(e&&e[0])?2:1}(i):0;i.sort(function(t,e){return t.time-e.time}),h=i[u-1].time;for(var m=[],v=[],y=i[0].value,x=!0,_=0;_<u;_++){m.push(i[_].time/h);var b=i[_].value;if(d&&ie(b,y,g)||!d&&b===y||(x=!1),y=b,"string"==typeof b){var w=Gt(b);w?(b=w,f=!0):p=!0}v.push(b)}if(a||!x){var S=v[u-1];for(_=0;_<u-1;_++)d?ee(v[_],S,g):!isNaN(v[_])||isNaN(S)||p||f||(v[_]=S);d&&ee(r(t._target,o),S,g);var M,I,T,A,D,C=0,L=0;if(f)var k=[0,0,0,0];var P=new Ct({"target":t._target,"life":h,"loop":t._loop,"delay":t._delay,"onframe":function onframe(t,e){var n;if(e<0)n=0;else if(e<L){for(n=Math.min(C+1,u-1);n>=0&&!(m[n]<=e);n--);n=Math.min(n,u-2)}else{for(n=C;n<u&&!(m[n]>e);n++);n=Math.min(n-1,u-2)}C=n,L=e;var i=m[n+1]-m[n];if(0!==i)if(M=(e-m[n])/i,l)if(T=v[n],I=v[0===n?n:n-1],A=v[n>u-2?u-1:n+1],D=v[n>u-3?u-1:n+2],d)ne(I,T,A,D,M,M*M,M*M*M,r(t,o),g);else{if(f)a=ne(I,T,A,D,M,M*M,M*M*M,k,1),a=re(k);else{if(p)return Qt(T,A,M);a=oe(I,T,A,D,M,M*M,M*M*M)}s(t,o,a)}else if(d)te(v[n],v[n+1],M,r(t,o),g);else{var a;if(f)te(v[n],v[n+1],M,k,1),a=re(k);else{if(p)return Qt(v[n],v[n+1],M);a=Jt(v[n],v[n+1],M)}s(t,o,a)}},"ondestroy":n});return e&&"spline"!==e&&(P.easing=e),P}}}function ue(t,e,n,i,o,a,r,s){_(i)?(a=o,o=i,i=0):x(o)?(a=o,o="linear",i=0):x(i)?(a=i,i=0):x(n)?(a=n,n=500):n||(n=500),t.stopAnimation(),function he(t,e,n,i,o,a,r){var s={},l=0;for(var u in i)i.hasOwnProperty(u)&&(null!=n[u]?w(i[u])&&!c(i[u])?he(t,e?e+"."+u:u,n[u],i[u],o,a,r):(r?(s[u]=n[u],ce(t,e,u,i[u])):s[u]=i[u],l++):null==i[u]||r||ce(t,e,u,i[u]));l>0&&t.animate(e,!1).when(null==o?500:o,s).delay(a||0)}(t,"",t,e,n,i,s);var l=t.animators.slice(),u=l.length;u||a&&a();for(var h=0;h<l.length;h++)l[h].done(function(){--u||a&&a()}).start(o,r)}function ce(t,e,n,i){if(e){var o={};o[e]={},o[e][n]=i,t.attr(o)}else t.attr(n,i)}function de(t,e,n,i){n<0&&(t+=n,n=-n),i<0&&(e+=i,i=-i),this.x=t,this.y=e,this.width=n,this.height=i}function pe(t,e,n,i){var o=e+1;if(o===n)return 1;if(i(t[o++],t[e])<0){for(;o<n&&i(t[o],t[o-1])<0;)o++;!function ge(t,e,n){for(n--;e<n;){var i=t[e];t[e++]=t[n],t[n--]=i}}(t,e,o)}else for(;o<n&&i(t[o],t[o-1])>=0;)o++;return o-e}function me(t,e,n,i,o){for(i===e&&i++;i<n;i++){for(var a,r=t[i],s=e,l=i;s<l;)o(r,t[a=s+l>>>1])<0?l=a:s=a+1;var u=i-s;switch(u){case 3:t[s+3]=t[s+2];case 2:t[s+2]=t[s+1];case 1:t[s+1]=t[s];break;default:for(;u>0;)t[s+u]=t[s+u-1],u--}t[s]=r}}function ve(t,e,n,i,o,a){var r=0,s=0,l=1;if(a(t,e[n+o])>0){for(s=i-o;l<s&&a(t,e[n+o+l])>0;)r=l,(l=1+(l<<1))<=0&&(l=s);l>s&&(l=s),r+=o,l+=o}else{for(s=o+1;l<s&&a(t,e[n+o-l])<=0;)r=l,(l=1+(l<<1))<=0&&(l=s);l>s&&(l=s);var u=r;r=o-l,l=o-u}for(r++;r<l;){var h=r+(l-r>>>1);a(t,e[n+h])>0?r=h+1:l=h}return l}function ye(t,e,n,i,o,a){var r=0,s=0,l=1;if(a(t,e[n+o])<0){for(s=o+1;l<s&&a(t,e[n+o-l])<0;)r=l,(l=1+(l<<1))<=0&&(l=s);l>s&&(l=s);var u=r;r=o-l,l=o-u}else{for(s=i-o;l<s&&a(t,e[n+o+l])>=0;)r=l,(l=1+(l<<1))<=0&&(l=s);l>s&&(l=s),r+=o,l+=o}for(r++;r<l;){var h=r+(l-r>>>1);a(t,e[n+h])<0?l=h:r=h+1}return l}function _e(t,e,n,i){n||(n=0),i||(i=t.length);var o=i-n;if(!(o<2)){var a=0;if(o<Ub)return void me(t,n,i,n+(a=pe(t,n,i,e)),e);var r=new function xe(t,e){function i(i){var s=a[i],u=r[i],h=a[i+1],c=r[i+1];r[i]=u+c,i===l-3&&(a[i+1]=a[i+2],r[i+1]=r[i+2]),l--;var d=ye(t[h],t,s,u,0,e);s+=d,0!=(u-=d)&&0!==(c=ve(t[s+u-1],t,h,c,c-1,e))&&(u<=c?n(s,u,h,c):o(s,u,h,c))}function n(n,i,o,a){var r=0;for(r=0;r<i;r++)u[r]=t[n+r];var l=0,h=o,c=n;if(t[c++]=t[h++],0!=--a)if(1!==i){for(var d,f,p,g=s;;){d=0,f=0,p=!1;do{if(e(t[h],u[l])<0){if(t[c++]=t[h++],f++,d=0,0==--a){p=!0;break}}else if(t[c++]=u[l++],d++,f=0,1==--i){p=!0;break}}while((d|f)<g);if(p)break;do{if(0!==(d=ye(t[h],u,l,i,0,e))){for(r=0;r<d;r++)t[c+r]=u[l+r];if(c+=d,l+=d,(i-=d)<=1){p=!0;break}}if(t[c++]=t[h++],0==--a){p=!0;break}if(0!==(f=ve(u[l],t,h,a,0,e))){for(r=0;r<f;r++)t[c+r]=t[h+r];if(c+=f,h+=f,0==(a-=f)){p=!0;break}}if(t[c++]=u[l++],1==--i){p=!0;break}g--}while(d>=Xb||f>=Xb);if(p)break;g<0&&(g=0),g+=2}if((s=g)<1&&(s=1),1===i){for(r=0;r<a;r++)t[c+r]=t[h+r];t[c+a]=u[l]}else{if(0===i)throw new Error;for(r=0;r<i;r++)t[c+r]=u[l+r]}}else{for(r=0;r<a;r++)t[c+r]=t[h+r];t[c+a]=u[l]}else for(r=0;r<i;r++)t[c+r]=u[l+r]}function o(n,i,o,a){var r=0;for(r=0;r<a;r++)u[r]=t[o+r];var l=n+i-1,h=a-1,c=o+a-1,d=0,f=0;if(t[c--]=t[l--],0!=--i)if(1!==a){for(var p=s;;){var g=0,m=0,v=!1;do{if(e(u[h],t[l])<0){if(t[c--]=t[l--],g++,m=0,0==--i){v=!0;break}}else if(t[c--]=u[h--],m++,g=0,1==--a){v=!0;break}}while((g|m)<p);if(v)break;do{if(0!=(g=i-ye(u[h],t,n,i,i-1,e))){for(i-=g,f=1+(c-=g),d=1+(l-=g),r=g-1;r>=0;r--)t[f+r]=t[d+r];if(0===i){v=!0;break}}if(t[c--]=u[h--],1==--a){v=!0;break}if(0!=(m=a-ve(t[l],u,0,a,a-1,e))){for(a-=m,f=1+(c-=m),d=1+(h-=m),r=0;r<m;r++)t[f+r]=u[d+r];if(a<=1){v=!0;break}}if(t[c--]=t[l--],0==--i){v=!0;break}p--}while(g>=Xb||m>=Xb);if(v)break;p<0&&(p=0),p+=2}if((s=p)<1&&(s=1),1===a){for(f=1+(c-=i),d=1+(l-=i),r=i-1;r>=0;r--)t[f+r]=t[d+r];t[c]=u[h]}else{if(0===a)throw new Error;for(d=c-(a-1),r=0;r<a;r++)t[d+r]=u[r]}}else{for(f=1+(c-=i),d=1+(l-=i),r=i-1;r>=0;r--)t[f+r]=t[d+r];t[c]=u[h]}else for(d=c-(a-1),r=0;r<a;r++)t[d+r]=u[r]}var a,r,s=Xb,l=0,u=[];a=[],r=[],this.mergeRuns=function(){for(;l>1;){var t=l-2;if(t>=1&&r[t-1]<=r[t]+r[t+1]||t>=2&&r[t-2]<=r[t]+r[t-1])r[t-1]<r[t+1]&&t--;else if(r[t]>r[t+1])break;i(t)}},this.forceMergeRuns=function(){for(;l>1;){var t=l-2;t>0&&r[t-1]<r[t+1]&&t--,i(t)}},this.pushRun=function(t,e){a[l]=t,r[l]=e,l+=1}}(t,e),s=function fe(t){for(var e=0;t>=Ub;)e|=1&t,t>>=1;return t+e}(o);do{if((a=pe(t,n,i,e))<s){var l=o;l>s&&(l=s),me(t,n,n+l,n+a,e),a=l}r.pushRun(n,a),r.mergeRuns(),o-=a,n+=a}while(0!==o);r.forceMergeRuns()}}function we(t,e){return t.zlevel===e.zlevel?t.z===e.z?t.z2-e.z2:t.z-e.z:t.zlevel-e.zlevel}function Me(){return!1}function Ie(t,e,n){var i=gx(),o=e.getWidth(),a=e.getHeight(),r=i.style;return r&&(r.position="absolute",r.left=0,r.top=0,r.width=o+"px",r.height=a+"px",i.setAttribute("data-zr-dom-id",t)),i.width=o*n,i.height=a*n,i}function Te(t){if("string"==typeof t){var e=uw.get(t);return e&&e.image}return t}function Ae(t,e,n,i,o){if(t){if("string"==typeof t){if(e&&e.__zrImageSrc===t||!n)return e;var a=uw.get(t),r={"hostEl":n,"cb":i,"cbPayload":o};return a?!Ce(e=a.image)&&a.pending.push(r):((e=new Image).onload=e.onerror=De,uw.put(t,e.__cachedImgObj={"image":e,"pending":[r]}),e.src=e.__zrImageSrc=t),e}return t}return e}function De(){var t=this.__cachedImgObj;this.onload=this.onerror=this.__cachedImgObj=null;for(var e=0;e<t.pending.length;e++){var n=t.pending[e],i=n.cb;i&&i(this,n.cbPayload),n.hostEl.dirty()}t.pending.length=0}function Ce(t){return t&&t.width&&t.height}function Le(t,e){var n=t+":"+(e=e||pw);if(hw[n])return hw[n];for(var i=(t+"").split("\n"),o=0,a=0,r=i.length;a<r;a++)o=Math.max(We(i[a],e).width,o);return cw>dw&&(cw=0,hw={}),cw++,hw[n]=o,o}function ke(t,e,n,i,o,a,r,s){return r?function Ne(t,e,n,i,o,a,r,s){var l=Ze(t,{"rich":r,"truncate":s,"font":e,"textAlign":n,"textPadding":o,"textLineHeight":a}),u=l.outerWidth,h=l.outerHeight;return new de(Oe(0,u,n),Ee(0,h,i),u,h)}(t,e,n,i,o,r,a,s):function Pe(t,e,n,i,o,a,r){var s=He(t,e,o,a,r),l=Le(t,e);o&&(l+=o[1]+o[3]);var u=s.outerHeight,h=new de(Oe(0,l,n),Ee(0,u,i),l,u);return h.lineHeight=s.lineHeight,h}(t,e,n,i,o,a,s)}function Oe(t,e,n){return"right"===n?t-=e:"center"===n&&(t-=e/2),t}function Ee(t,e,n){return"middle"===n?t-=e/2:"bottom"===n&&(t-=e),t}function Re(t,e,n){var i=e.x,o=e.y,a=e.height,r=e.width,s=a/2,l="left",u="top";switch(t){case"left":i-=n,o+=s,l="right",u="middle";break;case"right":i+=n+r,o+=s,u="middle";break;case"top":i+=r/2,o-=n,l="center",u="bottom";break;case"bottom":i+=r/2,o+=a+n,l="center";break;case"inside":i+=r/2,o+=s,l="center",u="middle";break;case"insideLeft":i+=n,o+=s,u="middle";break;case"insideRight":i+=r-n,o+=s,l="right",u="middle";break;case"insideTop":i+=r/2,o+=n,l="center";break;case"insideBottom":i+=r/2,o+=a-n,l="center",u="bottom";break;case"insideTopLeft":i+=n,o+=n;break;case"insideTopRight":i+=r-n,o+=n,l="right";break;case"insideBottomLeft":i+=n,o+=a-n,u="bottom";break;case"insideBottomRight":i+=r-n,o+=a-n,l="right",u="bottom"}return{"x":i,"y":o,"textAlign":l,"textVerticalAlign":u}}function ze(t,e,n,i,o){if(!e)return"";var a=(t+"").split("\n");o=Be(e,n,i,o);for(var r=0,s=a.length;r<s;r++)a[r]=Ve(a[r],o);return a.join("\n")}function Be(t,e,n,i){(i=a({},i)).font=e;n=A(n,"...");i.maxIterations=A(i.maxIterations,2);var o=i.minChar=A(i.minChar,0);i.cnCharWidth=Le("国",e);var r=i.ascCharWidth=Le("a",e);i.placeholder=A(i.placeholder,"");for(var s=t=Math.max(0,t-1),l=0;l<o&&s>=r;l++)s-=r;var u=Le(n,e);return u>s&&(n="",u=0),s=t-u,i.ellipsis=n,i.ellipsisWidth=u,i.contentWidth=s,i.containerWidth=t,i}function Ve(t,e){var n=e.containerWidth,i=e.font,o=e.contentWidth;if(!n)return"";var a=Le(t,i);if(a<=n)return t;for(var r=0;;r++){if(a<=o||r>=e.maxIterations){t+=e.ellipsis;break}var s=0===r?Ge(t,o,e.ascCharWidth,e.cnCharWidth):a>0?Math.floor(t.length*o/a):0;a=Le(t=t.substr(0,s),i)}return""===t&&(t=e.placeholder),t}function Ge(t,e,n,i){for(var o=0,a=0,r=t.length;a<r&&o<e;a++){var s=t.charCodeAt(a);o+=0<=s&&s<=127?n:i}return a}function Fe(t){return Le("国",t)}function We(t,e){return gw.measureText(t,e)}function He(t,e,n,i,o){null!=t&&(t+="");var a=A(i,Fe(e)),r=t?t.split("\n"):[],s=r.length*a,l=s;if(n&&(l+=n[0]+n[2]),t&&o){var u=o.outerHeight,h=o.outerWidth;if(null!=u&&l>u)t="",r=[];else if(null!=h)for(var c=Be(h-(n?n[1]+n[3]:0),e,o.ellipsis,{"minChar":o.minChar,"placeholder":o.placeholder}),d=0,f=r.length;d<f;d++)r[d]=Ve(r[d],c)}return{"lines":r,"height":s,"outerHeight":l,"lineHeight":a}}function Ze(t,e){var n={"lines":[],"width":0,"height":0};if(null!=t&&(t+=""),!t)return n;for(var i,o=fw.lastIndex=0;null!=(i=fw.exec(t));){var a=i.index;a>o&&Ue(n,t.substring(o,a)),Ue(n,i[2],i[1]),o=fw.lastIndex}o<t.length&&Ue(n,t.substring(o,t.length));var r=n.lines,s=0,l=0,u=[],h=e.textPadding,c=e.truncate,d=c&&c.outerWidth,f=c&&c.outerHeight;for(h&&(null!=d&&(d-=h[1]+h[3]),null!=f&&(f-=h[0]+h[2])),L=0;L<r.length;L++){for(var p=r[L],g=0,m=0,v=0;v<p.tokens.length;v++){var y=(k=p.tokens[v]).styleName&&e.rich[k.styleName]||{},x=k.textPadding=y.textPadding,_=k.font=y.font||e.font,b=k.textHeight=A(y.textHeight,Fe(_));if(x&&(b+=x[0]+x[2]),k.height=b,k.lineHeight=D(y.textLineHeight,e.textLineHeight,b),k.textAlign=y&&y.textAlign||e.textAlign,k.textVerticalAlign=y&&y.textVerticalAlign||"middle",null!=f&&s+k.lineHeight>f)return{"lines":[],"width":0,"height":0};k.textWidth=Le(k.text,_);var w=y.textWidth,S=null==w||"auto"===w;if("string"==typeof w&&"%"===w.charAt(w.length-1))k.percentWidth=w,u.push(k),w=0;else{if(S){w=k.textWidth;var M=y.textBackgroundColor,I=M&&M.image;I&&Ce(I=Te(I))&&(w=Math.max(w,I.width*b/I.height))}var T=x?x[1]+x[3]:0;w+=T;var C=null!=d?d-m:null;null!=C&&C<w&&(!S||C<T?(k.text="",k.textWidth=w=0):(k.text=ze(k.text,C-T,_,c.ellipsis,{"minChar":c.minChar}),k.textWidth=Le(k.text,_),w=k.textWidth+T))}m+=k.width=w,y&&(g=Math.max(g,k.lineHeight))}p.width=m,p.lineHeight=g,s+=g,l=Math.max(l,m)}n.outerWidth=n.width=A(e.textWidth,l),n.outerHeight=n.height=A(e.textHeight,s),h&&(n.outerWidth+=h[1]+h[3],n.outerHeight+=h[0]+h[2]);for(var L=0;L<u.length;L++){var k=u[L],P=k.percentWidth;k.width=parseInt(P,10)/100*l}return n}function Ue(t,e,n){for(var i=""===e,o=e.split("\n"),a=t.lines,r=0;r<o.length;r++){var s=o[r],l={"styleName":n,"text":s,"isLineHolder":!s&&!i};if(r)a.push({"tokens":[l]});else{var u=(a[a.length-1]||(a[0]={"tokens":[]})).tokens,h=u.length;1===h&&u[0].isLineHolder?u[0]=l:(s||!h||i)&&u.push(l)}}}function Xe(t){var e=(t.fontSize||t.fontFamily)&&[t.fontStyle,t.fontWeight,(t.fontSize||12)+"px",t.fontFamily||"sans-serif"].join(" ");return e&&P(e)||t.textFont||t.font}function je(t,e){var n,i,o,a,r,s=e.x,l=e.y,u=e.width,h=e.height,c=e.r;u<0&&(s+=u,u=-u),h<0&&(l+=h,h=-h),"number"==typeof c?n=i=o=a=c:c instanceof Array?1===c.length?n=i=o=a=c[0]:2===c.length?(n=o=c[0],i=a=c[1]):3===c.length?(n=c[0],i=a=c[1],o=c[2]):(n=c[0],i=c[1],o=c[2],a=c[3]):n=i=o=a=0,n+i>u&&(n*=u/(r=n+i),i*=u/r),o+a>u&&(o*=u/(r=o+a),a*=u/r),i+o>h&&(i*=h/(r=i+o),o*=h/r),n+a>h&&(n*=h/(r=n+a),a*=h/r),t.moveTo(s+n,l),t.lineTo(s+u-i,l),0!==i&&t.arc(s+u-i,l+i,i,-Math.PI/2,0),t.lineTo(s+u,l+h-o),0!==o&&t.arc(s+u-o,l+h-o,o,0,Math.PI/2),t.lineTo(s+a,l+h),0!==a&&t.arc(s+a,l+h-a,a,Math.PI/2,Math.PI),t.lineTo(s,l+n),0!==n&&t.arc(s+n,l+n,n,Math.PI,1.5*Math.PI)}function Ye(t){return qe(t),d(t.rich,qe),t}function qe(t){if(t){t.font=Xe(t);var e=t.textAlign;"middle"===e&&(e="center"),t.textAlign=null==e||mw[e]?e:"left";var n=t.textVerticalAlign||t.textBaseline;"center"===n&&(n="middle"),t.textVerticalAlign=null==n||vw[n]?n:"top",t.textPadding&&(t.textPadding=L(t.textPadding))}}function Ke(t,e,n,i,o,a){i.rich?function Je(t,e,n,i,o,a){a!==Qb&&(e.__attrCachedBy=Kb.NONE);var r=t.__textCotentBlock;r&&!t.__dirtyText||(r=t.__textCotentBlock=Ze(n,i)),function Qe(t,e,n,i,o){var a=n.width,r=n.outerWidth,s=n.outerHeight,l=i.textPadding,u=ai(s,i,o),h=u.baseX,c=u.baseY,d=u.textAlign,f=u.textVerticalAlign;ti(e,i,o,h,c);var p=Oe(h,r,d),g=Ee(c,s,f),m=p,v=g;l&&(m+=l[3],v+=l[0]);var y=m+a;ii(i)&&ni(t,e,i,p,g,r,s);for(var x=0;x<n.lines.length;x++){for(var _,b=n.lines[x],w=b.tokens,S=w.length,M=b.lineHeight,I=b.width,T=0,A=m,D=y,C=S-1;T<S&&(!(_=w[T]).textAlign||"left"===_.textAlign);)ei(t,e,_,i,M,v,A,"left"),I-=_.width,A+=_.width,T++;for(;C>=0&&"right"===(_=w[C]).textAlign;)ei(t,e,_,i,M,v,D,"right"),I-=_.width,D-=_.width,C--;for(A+=(a-(A-m)-(y-D)-I)/2;T<=C;)ei(t,e,_=w[T],i,M,v,A+_.width/2,"center"),A+=_.width,T++;v+=M}}(t,e,r,i,o)}(t,e,n,i,o,a):function $e(t,e,n,i,o,a){var r,s=ii(i),l=!1,u=e.__attrCachedBy===Kb.PLAIN_TEXT;a!==Qb?(a&&(r=a.style,l=!s&&u),e.__attrCachedBy=s?Kb.NONE:Kb.PLAIN_TEXT):u&&(e.__attrCachedBy=Kb.NONE);var h=i.font||pw;h!==e.__fontCache&&(e.font=h,a!==Qb&&(e.__fontCache=h));var c=t.__computedFont;t.__styleFont!==h&&(t.__styleFont=h,c=t.__computedFont=e.font);var d=i.textPadding,f=i.textLineHeight,p=t.__textCotentBlock;p&&!t.__dirtyText||(p=t.__textCotentBlock=He(n,c,d,f,i.truncate));var g=p.outerHeight,m=p.lines,v=p.lineHeight,y=ai(g,i,o),x=y.baseX,_=y.baseY,b=y.textAlign||"left",w=y.textVerticalAlign;ti(e,i,o,x,_);var S=Ee(_,g,w),M=x,I=S;if(s||d){var T=Le(n,c);d&&(T+=d[1]+d[3]);var A=Oe(x,T,b);s&&ni(t,e,i,A,S,T,g),d&&(M=hi(x,b,d),I+=d[0])}for(e.textAlign=b,e.textBaseline="middle",e.globalAlpha=i.opacity||1,B=0;B<yw.length;B++){var D=yw[B],C=D[0],L=D[1],k=i[C];l&&k===r[C]||(e[L]=$b(e,L,k||D[2]))}I+=v/2;var P=i.textStrokeWidth,O=l?r.textStrokeWidth:null,R=!l||P!==O,N=!l||R||i.textStroke!==r.textStroke,E=si(i.textStroke,P),z=li(i.textFill);if(E&&(R&&(e.lineWidth=P),N&&(e.strokeStyle=E)),z&&(l&&i.textFill===r.textFill||(e.fillStyle=z)),1===m.length)E&&e.strokeText(m[0],M,I),z&&e.fillText(m[0],M,I);else for(var B=0;B<m.length;B++)E&&e.strokeText(m[B],M,I),z&&e.fillText(m[B],M,I),I+=v}(t,e,n,i,o,a)}function ti(t,e,n,i,o){if(n&&e.textRotation){var a=e.textOrigin;"center"===a?(i=n.width/2+n.x,o=n.height/2+n.y):a&&(i=a[0]+n.x,o=a[1]+n.y),t.translate(i,o),t.rotate(-e.textRotation),t.translate(-i,-o)}}function ei(t,e,n,i,o,a,r,s){var l=i.rich[n.styleName]||{};l.text=n.text;var u=n.textVerticalAlign,h=a+o/2;"top"===u?h=a+n.height/2:"bottom"===u&&(h=a+o-n.height/2),!n.isLineHolder&&ii(l)&&ni(t,e,l,"right"===s?r-n.width:"center"===s?r-n.width/2:r,h-n.height/2,n.width,n.height);var c=n.textPadding;c&&(r=hi(r,s,c),h-=n.height/2-c[2]-n.textHeight/2),ri(e,"shadowBlur",D(l.textShadowBlur,i.textShadowBlur,0)),ri(e,"shadowColor",l.textShadowColor||i.textShadowColor||"transparent"),ri(e,"shadowOffsetX",D(l.textShadowOffsetX,i.textShadowOffsetX,0)),ri(e,"shadowOffsetY",D(l.textShadowOffsetY,i.textShadowOffsetY,0)),ri(e,"textAlign",s),ri(e,"textBaseline","middle"),ri(e,"font",n.font||pw);var d=si(l.textStroke||i.textStroke,p),f=li(l.textFill||i.textFill),p=A(l.textStrokeWidth,i.textStrokeWidth);d&&(ri(e,"lineWidth",p),ri(e,"strokeStyle",d),e.strokeText(n.text,r,h)),f&&(ri(e,"fillStyle",f),e.fillText(n.text,r,h))}function ii(t){return!!(t.textBackgroundColor||t.textBorderWidth&&t.textBorderColor)}function ni(t,e,n,i,o,a,r){var s=n.textBackgroundColor,l=n.textBorderWidth,u=n.textBorderColor,h=_(s);if(ri(e,"shadowBlur",n.textBoxShadowBlur||0),ri(e,"shadowColor",n.textBoxShadowColor||"transparent"),ri(e,"shadowOffsetX",n.textBoxShadowOffsetX||0),ri(e,"shadowOffsetY",n.textBoxShadowOffsetY||0),h||l&&u){e.beginPath();var c=n.textBorderRadius;c?je(e,{"x":i,"y":o,"width":a,"height":r,"r":c}):e.rect(i,o,a,r),e.closePath()}if(h)ri(e,"fillStyle",s),null!=n.fillOpacity?(f=e.globalAlpha,e.globalAlpha=n.fillOpacity*n.opacity,e.fill(),e.globalAlpha=f):e.fill();else if(w(s)){var d=s.image;(d=Ae(d,null,t,oi,s))&&Ce(d)&&e.drawImage(d,i,o,a,r)}if(l&&u)if(ri(e,"lineWidth",l),ri(e,"strokeStyle",u),null!=n.strokeOpacity){var f=e.globalAlpha;e.globalAlpha=n.strokeOpacity*n.opacity,e.stroke(),e.globalAlpha=f}else e.stroke()}function oi(t,e){e.image=t}function ai(t,e,n){var i=e.x||0,o=e.y||0,a=e.textAlign,r=e.textVerticalAlign;if(n){var s=e.textPosition;if(s instanceof Array)i=n.x+ui(s[0],n.width),o=n.y+ui(s[1],n.height);else{var l=Re(s,n,e.textDistance);i=l.x,o=l.y,a=a||l.textAlign,r=r||l.textVerticalAlign}var u=e.textOffset;u&&(i+=u[0],o+=u[1])}return{"baseX":i,"baseY":o,"textAlign":a,"textVerticalAlign":r}}function ri(t,e,n){return t[e]=$b(t,e,n),t[e]}function si(t,e){return null==t||e<=0||"transparent"===t||"none"===t?null:t.image||t.colorStops?"#000":t}function li(t){return null==t||"none"===t?null:t.image||t.colorStops?"#000":t}function ui(t,e){return"string"==typeof t?t.lastIndexOf("%")>=0?parseFloat(t)/100*e:parseFloat(t):t}function hi(t,e,n){return"right"===e?t-n[1]:"center"===e?t+n[3]/2-n[1]/2:t+n[3]}function ci(t,e){return null!=t&&(t||e.textBackgroundColor||e.textBorderWidth&&e.textBorderColor||e.textPadding)}function di(t){for(var e in t=t||{},Gb.call(this,t),t)t.hasOwnProperty(e)&&"style"!==e&&(this[e]=t[e]);this.style=new ew(t.style,this),this._rect=null,this.__clipPaths=[]}function fi(t){di.call(this,t)}function pi(t){return parseInt(t,10)}function _i(t){return"mousewheel"===t&&be.browser.firefox?"DOMMouseScroll":t}function wi(t){t._touching=!0,clearTimeout(t._touchTimer),t._touchTimer=setTimeout(function(){t._touching=!1},700)}function bi(t){var e=t.pointerType;return"pen"===e||"touch"===e}function Mi(t){function e(e,n){d(e,function(e){ht(t,_i(e),n._handlers[e])},n)}J_.call(this),this.dom=t,this._touching=!1,this._touchTimer,this._handlers={},function Si(t){d(Aw,function(e){t._handlers[e]=m(Lw[e],t)}),d(Cw,function(e){t._handlers[e]=m(Lw[e],t)}),d(Tw,function(n){t._handlers[n]=function e(t,n){return function(){if(!n._touching)return t.apply(n,arguments)}}(Lw[n],t)})}(this),be.pointerEventsSupported?e(Cw,this):(be.touchEventsSupported&&e(Aw,this),e(Tw,this))}function Ii(t,e){var n=new Nw(ge(),t,e);return Rw[n.id]=n,n}function Ti(t,e){Ow[t]=e}function Di(t){return t instanceof Array?t:null==t?[]:[t]}function Ci(t,e,n){if(t){t[e]=t[e]||{},t.emphasis=t.emphasis||{},t.emphasis[e]=t.emphasis[e]||{};for(var i=0,o=n.length;i<o;i++){var a=n[i];!t.emphasis[e].hasOwnProperty(a)&&t[e].hasOwnProperty(a)&&(t.emphasis[e][a]=t[e][a])}}}function Li(t){return!Vw(t)||Gw(t)||t instanceof Date?t:t.value}function Pi(t,e){e=(e||[]).slice();var n=f(t||[],function(t,e){return{"exist":t}});return Bw(e,function(t,i){if(Vw(t)){for(o=0;o<n.length;o++)if(!n[o].option&&null!=t.id&&n[o].exist.id===t.id+"")return n[o].option=t,void(e[i]=null);for(var o=0;o<n.length;o++){var a=n[o].exist;if(!(n[o].option||null!=a.id&&null!=t.id||null==t.name||Ei(t)||Ei(a)||a.name!==t.name+""))return n[o].option=t,void(e[i]=null)}}}),Bw(e,function(t,e){if(Vw(t)){for(var i=0;i<n.length;i++){var o=n[i].exist;if(!n[i].option&&!Ei(o)&&null==t.id){n[i].option=t;break}}i>=n.length&&n.push({"option":t})}}),n}function Ni(t){var e=R();Bw(t,function(t,n){var i=t.exist;i&&e.set(i.id,t)}),Bw(t,function(t,n){var i=t.option;k(!i||null==i.id||!e.get(i.id)||e.get(i.id)===t,"id duplicates: "+(i&&i.id)),i&&null!=i.id&&e.set(i.id,t),!t.keyInfo&&(t.keyInfo={})}),Bw(t,function(t,n){var i=t.exist,o=t.option,a=t.keyInfo;if(Vw(o)){if(a.name=null!=o.name?o.name+"":i?i.name:Fw+n,i)a.id=i.id;else if(null!=o.id)a.id=o.id+"";else{var r=0;do{a.id="\0"+a.name+"\0"+r++}while(e.get(a.id))}e.set(a.id,t)}})}function Oi(t){var e=t.name;return!(!e||!e.indexOf(Fw))}function Ei(t){return Vw(t)&&t.id&&0===(t.id+"").indexOf("\0_ec_\0")}function zi(t,e){return null!=e.dataIndexInside?e.dataIndexInside:null!=e.dataIndex?y(e.dataIndex)?f(e.dataIndex,function(e){return t.indexOfRawIndex(e)}):t.indexOfRawIndex(e.dataIndex):null!=e.name?y(e.name)?f(e.name,function(e){return t.indexOfName(e)}):t.indexOfName(e.name):void 0}function Bi(){var t="__\0ec_inner_"+Ww+++"_"+Math.random().toFixed(5);return function(e){return e[t]||(e[t]={})}}function Vi(t,e,n){if(_(e)){var i={};i[e+"Index"]=0,e=i}var o=n&&n.defaultMainType;!o||Gi(e,o+"Index")||Gi(e,o+"Id")||Gi(e,o+"Name")||(e[o+"Index"]=0);var a={};return Bw(e,function(i,o){i=e[o];if("dataIndex"!==o&&"dataIndexInside"!==o){var r=o.match(/^(\w+)(Index|Id|Name)$/)||[],s=r[1],u=(r[2]||"").toLowerCase();if(!(!s||!u||null==i||"index"===u&&"none"===i||n&&n.includeMainTypes&&l(n.includeMainTypes,s)<0)){var h={"mainType":s};"index"===u&&"all"===i||(h[u]=i);var c=t.queryComponents(h);a[s+"Models"]=c,a[s+"Model"]=c[0]}}else a[o]=i}),a}function Gi(t,e){return t&&t.hasOwnProperty(e)}function Fi(t,e,n){t.setAttribute?t.setAttribute(e,n):t[e]=n}function Hi(t){return"auto"===t?be.domSupported?"html":"richText":t||"html"}function Zi(t){var e={"main":"","sub":""};return t&&(t=t.split(jw),e.main=t[0]||"",e.sub=t[1]||""),e}function Xi(t,e){t.$constructor=t,t.extend=function(t){var e=this,n=function i(){t.$constructor?t.$constructor.apply(this,arguments):e.apply(this,arguments)};return a(n.prototype,t),n.extend=this.extend,n.superCall=Yi,n.superApply=qi,u(n,this),n.superClass=e,n}}function ji(t){var e=["__\0is_clz",Xw++,Math.random().toFixed(3)].join("_");t.prototype[e]=!0,t.isInstance=function(t){return!(!t||!t[e])}}function Yi(t,e){var n=C(arguments,2);return this.superClass.prototype[e].apply(t,n)}function qi(t,e,n){return this.superClass.prototype[e].apply(t,n)}function Ki(t,e){e=e||{};var n={};if(t.registerClass=function(t,e){return e&&(function Ui(t){k(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(t),'componentType "'+t+'" illegal')}(e),(e=Zi(e)).sub?e.sub!==Uw&&((function i(t){var e=n[t.main];return e&&e[Uw]||((e=n[t.main]={})[Uw]=!0),e}(e))[e.sub]=t):n[e.main]=t),t},t.getClass=function(t,e,i){var o=n[t];if(o&&o[Uw]&&(o=e?o[e]:null),i&&!o)throw new Error(e?"Component "+t+"."+(e||"")+" not exists. Load it first.":t+".type should be specified.");return o},t.getClassesByMainType=function(t){t=Zi(t);var e=[],i=n[t.main];return i&&i[Uw]?d(i,function(t,n){n!==Uw&&e.push(t)}):e.push(i),e},t.hasClass=function(t){return t=Zi(t),!!n[t.main]},t.getAllClassMainTypes=function(){var t=[];return d(n,function(e,n){t.push(n)}),t},t.hasSubTypes=function(t){t=Zi(t);var e=n[t.main];return e&&e[Uw]},t.parseClassType=Zi,e.registerWhenExtend){var o=t.extend;o&&(t.extend=function(e){var n=o.call(this,e);return t.registerClass(n,e.type)})}return t}function $i(t){return t>-nS&&t<nS}function Ji(t){return t>nS||t<-nS}function Qi(t,e,n,i,o){var a=1-o;return a*a*(a*t+3*o*e)+o*o*(o*i+3*a*n)}function tn(t,e,n,i,o){var a=1-o;return 3*(((e-t)*a+2*(n-e)*o)*a+(i-n)*o*o)}function nn(t,e,n,i,o){var a=6*n-12*e+6*t,r=9*e+3*i-3*t-9*n,s=3*e-3*t,l=0;if($i(r))Ji(a)&&(c=-s/a)>=0&&c<=1&&(o[l++]=c);else{var u=a*a-4*r*s;if($i(u))o[0]=-a/(2*r);else if(u>0){var h=eS(u),c=(-a+h)/(2*r),d=(-a-h)/(2*r);c>=0&&c<=1&&(o[l++]=c),d>=0&&d<=1&&(o[l++]=d)}}return l}function on(t,e,n,i,o,a){var r=(e-t)*o+t,s=(n-e)*o+e,l=(i-n)*o+n,u=(s-r)*o+r,h=(l-s)*o+s,c=(h-u)*o+u;a[0]=t,a[1]=r,a[2]=u,a[3]=c,a[4]=c,a[5]=h,a[6]=l,a[7]=i}function rn(t,e,n,i){var o=1-i;return o*(o*t+2*i*e)+i*i*n}function sn(t,e,n,i){return 2*((1-i)*(e-t)+i*(n-e))}function un(t,e,n){var i=t+n-2*e;return 0===i?.5:(t-e)/i}function hn(t,e,n,i,o){var a=(e-t)*i+t,r=(n-e)*i+e,s=(r-a)*i+a;o[0]=t,o[1]=a,o[2]=s,o[3]=s,o[4]=r,o[5]=n}function dn(t,e,n){if(0!==t.length){var i,o=t[0],a=o[0],r=o[0],s=o[1],l=o[1];for(i=1;i<t.length;i++)o=t[i],a=uS(a,o[0]),r=hS(r,o[0]),s=uS(s,o[1]),l=hS(l,o[1]);e[0]=a,e[1]=s,n[0]=r,n[1]=l}}function fn(t,e,n,i,o,a){o[0]=uS(t,n),o[1]=uS(e,i),a[0]=hS(t,n),a[1]=hS(e,i)}function pn(t,e,n,i,o,a,r,s,l,u){var h,c=nn,d=Qi,f=c(t,n,o,r,vS);for(l[0]=1/0,l[1]=1/0,u[0]=-1/0,u[1]=-1/0,h=0;h<f;h++){var p=d(t,n,o,r,vS[h]);l[0]=uS(p,l[0]),u[0]=hS(p,u[0])}for(f=c(e,i,a,s,yS),h=0;h<f;h++){var g=d(e,i,a,s,yS[h]);l[1]=uS(g,l[1]),u[1]=hS(g,u[1])}l[0]=uS(t,l[0]),u[0]=hS(t,u[0]),l[0]=uS(r,l[0]),u[0]=hS(r,u[0]),l[1]=uS(e,l[1]),u[1]=hS(e,u[1]),l[1]=uS(s,l[1]),u[1]=hS(s,u[1])}function gn(t,e,n,i,o,a,r,s){var l=un,u=rn,h=hS(uS(l(t,n,o),1),0),c=hS(uS(l(e,i,a),1),0),d=u(t,n,o,h),f=u(e,i,a,c);r[0]=uS(t,o,d),r[1]=uS(e,a,f),s[0]=hS(t,o,d),s[1]=hS(e,a,f)}function mn(t,e,n,i,o,a,r,s,l){var u=tt,h=et,c=Math.abs(o-a);if(c%fS<1e-4&&c>1e-4)return s[0]=t-n,s[1]=e-i,l[0]=t+n,void(l[1]=e+i);if(pS[0]=dS(o)*n+t,pS[1]=cS(o)*i+e,gS[0]=dS(a)*n+t,gS[1]=cS(a)*i+e,u(s,pS,gS),h(l,pS,gS),(o%=fS)<0&&(o+=fS),(a%=fS)<0&&(a+=fS),o>a&&!r?a+=fS:o<a&&r&&(o+=fS),r){var d=a;a=o,o=d}for(var f=0;f<a;f+=Math.PI/2)f>o&&(mS[0]=dS(f)*n+t,mS[1]=cS(f)*i+e,u(s,mS,s),h(l,mS,l))}function vn(t,e,n,i,o,a,r){if(0===o)return!1;var s,l=o;if(r>e+l&&r>i+l||r<e-l&&r<i-l||a>t+l&&a>n+l||a<t-l&&a<n-l)return!1;if(t===n)return Math.abs(a-t)<=l/2;var u=(s=(e-i)/(t-n))*a-r+(t*i-n*e)/(t-n);return u*u/(s*s+1)<=l/2*l/2}function yn(t,e,n,i,o,a,r,s,l,u,h){if(0===l)return!1;var c=l;return!(h>e+c&&h>i+c&&h>a+c&&h>s+c||h<e-c&&h<i-c&&h<a-c&&h<s-c||u>t+c&&u>n+c&&u>o+c&&u>r+c||u<t-c&&u<n-c&&u<o-c&&u<r-c)&&function an(t,e,n,i,o,a,r,s,l,u,h){var c,d,f,p,g,m=.005,v=1/0;rS[0]=l,rS[1]=u;for(var y=0;y<1;y+=.05)sS[0]=Qi(t,n,o,r,y),sS[1]=Qi(e,i,a,s,y),(p=$_(rS,sS))<v&&(c=y,v=p);v=1/0;for(var x=0;x<32&&!(m<iS);x++)d=c-m,f=c+m,sS[0]=Qi(t,n,o,r,d),sS[1]=Qi(e,i,a,s,d),p=$_(sS,rS),d>=0&&p<v?(c=d,v=p):(lS[0]=Qi(t,n,o,r,f),lS[1]=Qi(e,i,a,s,f),g=$_(lS,rS),f<=1&&g<v?(c=f,v=g):m*=.5);return h&&(h[0]=Qi(t,n,o,r,c),h[1]=Qi(e,i,a,s,c)),eS(v)}(t,e,n,i,o,a,r,s,u,h,null)<=c/2}function xn(t,e,n,i,o,a,r,s,l){if(0===r)return!1;var u=r;return!(l>e+u&&l>i+u&&l>a+u||l<e-u&&l<i-u&&l<a-u||s>t+u&&s>n+u&&s>o+u||s<t-u&&s<n-u&&s<o-u)&&function cn(t,e,n,i,o,a,r,s,l){var u,h=.005,c=1/0;rS[0]=r,rS[1]=s;for(var d=0;d<1;d+=.05)sS[0]=rn(t,n,o,d),sS[1]=rn(e,i,a,d),(m=$_(rS,sS))<c&&(u=d,c=m);c=1/0;for(var f=0;f<32&&!(h<iS);f++){var p=u-h,g=u+h;sS[0]=rn(t,n,o,p),sS[1]=rn(e,i,a,p);var m=$_(sS,rS);if(p>=0&&m<c)u=p,c=m;else{lS[0]=rn(t,n,o,g),lS[1]=rn(e,i,a,g);var v=$_(lS,rS);g<=1&&v<c?(u=g,c=v):h*=.5}}return l&&(l[0]=rn(t,n,o,u),l[1]=rn(e,i,a,u)),eS(c)}(t,e,n,i,o,a,s,l,null)<=u/2}function _n(t){return(t%=PS)<0&&(t+=PS),t}function wn(t,e,n,i,o,a,r,s,l){if(0===r)return!1;var u=r;s-=t,l-=e;var h=Math.sqrt(s*s+l*l);if(h-u>n||h+u<n)return!1;if(Math.abs(i-o)%OS<1e-4)return!0;if(a){var c=i;i=_n(o),o=_n(c)}else i=_n(i),o=_n(o);i>o&&(o+=OS);var d=Math.atan2(l,s);return d<0&&(d+=OS),d>=i&&d<=o||d+OS>=i&&d+OS<=o}function bn(t,e,n,i,o,a){if(a>e&&a>i||a<e&&a<i)return 0;if(i===e)return 0;var r=i<e?1:-1,s=(a-e)/(i-e);1!==s&&0!==s||(r=i<e?.5:-.5);var l=s*(n-t)+t;return l===o?1/0:l>o?r:0}function Mn(){var t=BS[0];BS[0]=BS[1],BS[1]=t}function In(t,e,n,i,o,a,r,s,l,u){if(u>e&&u>i&&u>a&&u>s||u<e&&u<i&&u<a&&u<s)return 0;var h=function en(t,e,n,i,o,a){var r=i+3*(e-n)-t,s=3*(n-2*e+t),l=3*(e-t),u=t-o,h=s*s-3*r*l,c=s*l-9*r*u,d=l*l-3*s*u,f=0;if($i(h)&&$i(c))$i(s)?a[0]=0:(M=-l/s)>=0&&M<=1&&(a[f++]=M);else{var p=c*c-4*h*d;if($i(p)){var g=c/h,m=-g/2;(M=-s/r+g)>=0&&M<=1&&(a[f++]=M),m>=0&&m<=1&&(a[f++]=m)}else if(p>0){var v=eS(p),y=h*s+1.5*r*(-c+v),x=h*s+1.5*r*(-c-v);(M=(-s-((y=y<0?-tS(-y,aS):tS(y,aS))+(x=x<0?-tS(-x,aS):tS(x,aS))))/(3*r))>=0&&M<=1&&(a[f++]=M)}else{var _=(2*h*s-3*r*c)/(2*eS(h*h*h)),b=Math.acos(_)/3,w=eS(h),S=Math.cos(b),M=(-s-2*w*S)/(3*r),I=(m=(-s+w*(S+oS*Math.sin(b)))/(3*r),(-s+w*(S-oS*Math.sin(b)))/(3*r));M>=0&&M<=1&&(a[f++]=M),m>=0&&m<=1&&(a[f++]=m),I>=0&&I<=1&&(a[f++]=I)}}return f}(e,i,a,s,u,zS);if(0===h)return 0;for(var c,d,f=0,p=-1,g=0;g<h;g++){var m=zS[g],v=0===m||1===m?.5:1;Qi(t,n,o,r,m)<l||(p<0&&(p=nn(e,i,a,s,BS),BS[1]<BS[0]&&p>1&&Mn(),c=Qi(e,i,a,s,BS[0]),p>1&&(d=Qi(e,i,a,s,BS[1]))),2===p?m<BS[0]?f+=c<e?v:-v:m<BS[1]?f+=d<c?v:-v:f+=s<d?v:-v:m<BS[0]?f+=c<e?v:-v:f+=s<c?v:-v)}return f}function Tn(t,e,n,i,o,a,r,s){if(s>e&&s>i&&s>a||s<e&&s<i&&s<a)return 0;var l=function ln(t,e,n,i,o){var a=t-2*e+n,r=2*(e-t),s=t-i,l=0;if($i(a))Ji(r)&&(c=-s/r)>=0&&c<=1&&(o[l++]=c);else{var u=r*r-4*a*s;if($i(u))(c=-r/(2*a))>=0&&c<=1&&(o[l++]=c);else if(u>0){var h=eS(u),c=(-r+h)/(2*a),d=(-r-h)/(2*a);c>=0&&c<=1&&(o[l++]=c),d>=0&&d<=1&&(o[l++]=d)}}return l}(e,i,a,s,zS);if(0===l)return 0;var u=un(e,i,a);if(u>=0&&u<=1){for(var h=0,c=rn(e,i,a,u),d=0;d<l;d++)f=0===zS[d]||1===zS[d]?.5:1,(p=rn(t,n,o,zS[d]))<r||(zS[d]<u?h+=c<e?f:-f:h+=a<c?f:-f);return h}var f=0===zS[0]||1===zS[0]?.5:1,p=rn(t,n,o,zS[0]);return p<r?0:a<e?f:-f}function An(t,e,n,i,o,a,r,s){if((s-=e)>n||s<-n)return 0;u=Math.sqrt(n*n-s*s),zS[0]=-u,zS[1]=u;var l=Math.abs(i-o);if(l<1e-4)return 0;if(l%NS<1e-4)return i=0,o=NS,p=a?1:-1,r>=zS[0]+t&&r<=zS[1]+t?p:0;if(a){var u=i;i=_n(o),o=_n(u)}else i=_n(i),o=_n(o);i>o&&(o+=NS);for(var h=0,c=0;c<2;c++){var d=zS[c];if(d+t>r){var f=Math.atan2(s,d),p=a?1:-1;f<0&&(f=NS+f),(f>=i&&f<=o||f+NS>=i&&f+NS<=o)&&(f>Math.PI/2&&f<1.5*Math.PI&&(p=-p),h+=p)}}return h}function Dn(t,e,n,i,o){for(var a=0,r=0,s=0,l=0,u=0,h=0;h<t.length;){var c=t[h++];switch(c===RS.M&&h>1&&(n||(a+=bn(r,s,l,u,i,o))),1===h&&(l=r=t[h],u=s=t[h+1]),c){case RS.M:r=l=t[h++],s=u=t[h++];break;case RS.L:if(n){if(vn(r,s,t[h],t[h+1],e,i,o))return!0}else a+=bn(r,s,t[h],t[h+1],i,o)||0;r=t[h++],s=t[h++];break;case RS.C:if(n){if(yn(r,s,t[h++],t[h++],t[h++],t[h++],t[h],t[h+1],e,i,o))return!0}else a+=In(r,s,t[h++],t[h++],t[h++],t[h++],t[h],t[h+1],i,o)||0;r=t[h++],s=t[h++];break;case RS.Q:if(n){if(xn(r,s,t[h++],t[h++],t[h],t[h+1],e,i,o))return!0}else a+=Tn(r,s,t[h++],t[h++],t[h],t[h+1],i,o)||0;r=t[h++],s=t[h++];break;case RS.A:var d=t[h++],f=t[h++],p=t[h++],g=t[h++],m=t[h++],v=t[h++];h+=1;var y=1-t[h++],x=Math.cos(m)*p+d,_=Math.sin(m)*g+f;h>1?a+=bn(r,s,x,_,i,o):(l=x,u=_);var b=(i-d)*g/p+d;if(n){if(wn(d,f,g,m,m+v,y,e,b,o))return!0}else a+=An(d,f,g,m,m+v,y,b,o);r=Math.cos(m+v)*p+d,s=Math.sin(m+v)*g+f;break;case RS.R:l=r=t[h++],u=s=t[h++];x=l+t[h++],_=u+t[h++];if(n){if(vn(l,u,x,u,e,i,o)||vn(x,u,x,_,e,i,o)||vn(x,_,l,_,e,i,o)||vn(l,_,l,u,e,i,o))return!0}else a+=bn(x,u,x,_,i,o),a+=bn(l,_,l,u,i,o);break;case RS.Z:if(n){if(vn(r,s,l,u,e,i,o))return!0}else a+=bn(r,s,l,u,i,o);r=l,s=u}}return n||function Sn(t,e){return Math.abs(t-e)<ES}(s,u)||(a+=bn(r,s,l,u,i,o)||0),0!==a}function kn(t){di.call(this,t),this.path=null}function Pn(t,e,n,i,o,a,r,s,l,u,h){var c=l*(KS/180),d=$S(c)*(t-n)/2+YS(c)*(e-i)/2,f=-1*YS(c)*(t-n)/2+$S(c)*(e-i)/2,p=d*d/(r*r)+f*f/(s*s);p>1&&(r*=XS(p),s*=XS(p));var g=(o===a?-1:1)*XS((r*r*(s*s)-r*r*(f*f)-s*s*(d*d))/(r*r*(f*f)+s*s*(d*d)))||0,m=g*r*f/s,v=g*-s*d/r,y=(t+n)/2+$S(c)*m-YS(c)*v,x=(e+i)/2+YS(c)*m+$S(c)*v,_=tM([1,0],[(d-m)/r,(f-v)/s]),b=[(d-m)/r,(f-v)/s],w=[(-1*d-m)/r,(-1*f-v)/s],S=tM(b,w);JS(b,w)<=-1&&(S=KS),JS(b,w)>=1&&(S=0),0===a&&S>0&&(S-=2*KS),1===a&&S<0&&(S+=2*KS),h.addData(u,y,x,r,s,_,S,c,a)}function On(t,e){var n=function Nn(t){if(!t)return new kS;for(var e,n=0,i=0,o=n,a=i,r=new kS,s=kS.CMD,l=t.match(nM),u=0;u<l.length;u++){for(var h,c=l[u],d=c.charAt(0),f=c.match(oM)||[],p=f.length,g=0;g<p;g++)f[g]=parseFloat(f[g]);for(var m=0;m<p;){var v,y,x,_,b,w,S,M=n,I=i;switch(d){case"l":n+=f[m++],i+=f[m++],h=s.L,r.addData(h,n,i);break;case"L":n=f[m++],i=f[m++],h=s.L,r.addData(h,n,i);break;case"m":n+=f[m++],i+=f[m++],h=s.M,r.addData(h,n,i),o=n,a=i,d="l";break;case"M":n=f[m++],i=f[m++],h=s.M,r.addData(h,n,i),o=n,a=i,d="L";break;case"h":n+=f[m++],h=s.L,r.addData(h,n,i);break;case"H":n=f[m++],h=s.L,r.addData(h,n,i);break;case"v":i+=f[m++],h=s.L,r.addData(h,n,i);break;case"V":i=f[m++],h=s.L,r.addData(h,n,i);break;case"C":h=s.C,r.addData(h,f[m++],f[m++],f[m++],f[m++],f[m++],f[m++]),n=f[m-2],i=f[m-1];break;case"c":h=s.C,r.addData(h,f[m++]+n,f[m++]+i,f[m++]+n,f[m++]+i,f[m++]+n,f[m++]+i),n+=f[m-2],i+=f[m-1];break;case"S":v=n,y=i;var T=r.len(),A=r.data;e===s.C&&(v+=n-A[T-4],y+=i-A[T-3]),h=s.C,M=f[m++],I=f[m++],n=f[m++],i=f[m++],r.addData(h,v,y,M,I,n,i);break;case"s":v=n,y=i,T=r.len(),A=r.data,e===s.C&&(v+=n-A[T-4],y+=i-A[T-3]),h=s.C,M=n+f[m++],I=i+f[m++],n+=f[m++],i+=f[m++],r.addData(h,v,y,M,I,n,i);break;case"Q":M=f[m++],I=f[m++],n=f[m++],i=f[m++],h=s.Q,r.addData(h,M,I,n,i);break;case"q":M=f[m++]+n,I=f[m++]+i,n+=f[m++],i+=f[m++],h=s.Q,r.addData(h,M,I,n,i);break;case"T":v=n,y=i,T=r.len(),A=r.data,e===s.Q&&(v+=n-A[T-4],y+=i-A[T-3]),n=f[m++],i=f[m++],h=s.Q,r.addData(h,v,y,n,i);break;case"t":v=n,y=i,T=r.len(),A=r.data,e===s.Q&&(v+=n-A[T-4],y+=i-A[T-3]),n+=f[m++],i+=f[m++],h=s.Q,r.addData(h,v,y,n,i);break;case"A":x=f[m++],_=f[m++],b=f[m++],w=f[m++],S=f[m++],Pn(M=n,I=i,n=f[m++],i=f[m++],w,S,x,_,b,h=s.A,r);break;case"a":x=f[m++],_=f[m++],b=f[m++],w=f[m++],S=f[m++],Pn(M=n,I=i,n+=f[m++],i+=f[m++],w,S,x,_,b,h=s.A,r)}}"z"!==d&&"Z"!==d||(h=s.Z,r.addData(h),n=o,i=a),e=h}return r.toStatic(),r}(t);return(e=e||{}).buildPath=function(t){if(t.setData)t.setData(n.data),(e=t.getContext())&&t.rebuildPath(e);else{var e=t;n.rebuildPath(e)}},e.applyTransform=function(t){US(n,t),this.dirty(!0)},e}function En(t,e){return new kn(On(t,e))}function zn(t,e,n,i,o,a,r){var s=.5*(n-t),l=.5*(i-e);return(2*(e-n)+s+l)*r+(-3*(e-n)-2*s-l)*a+s*o+e}function Bn(t,e,n){var i=e.points,o=e.smooth;if(i&&i.length>=2){if(o&&"spline"!==o){var a=mM(i,o,n,e.smoothConstraint);t.moveTo(i[0][0],i[0][1]);for(var r=i.length,s=0;s<(n?r:r-1);s++){var l=a[2*s],u=a[2*s+1],h=i[(s+1)%r];t.bezierCurveTo(l[0],l[1],u[0],u[1],h[0],h[1])}}else{"spline"===o&&(i=gM(i,n)),t.moveTo(i[0][0],i[0][1]);s=1;for(var c=i.length;s<c;s++)t.lineTo(i[s][0],i[s][1])}n&&t.closePath()}}function Fn(t,e,n){var i=xM(2*t);return(i+xM(e))%2==0?i/2:(i+(n?1:-1))/2}function Wn(t,e,n){var i=t.cpx2,o=t.cpy2;return null===i||null===o?[(n?tn:Qi)(t.x1,t.cpx1,t.cpx2,t.x2,e),(n?tn:Qi)(t.y1,t.cpy1,t.cpy2,t.y2,e)]:[(n?sn:rn)(t.x1,t.cpx1,t.x2,e),(n?sn:rn)(t.y1,t.cpy1,t.y2,e)]}function Hn(t){di.call(this,t),this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.notClear=!0}function Zn(t){return kn.extend(t)}function Un(t,e,n,i){var o=En(t,e);return n&&("center"===i&&(n=jn(n,o.getBoundingRect())),Yn(o,n)),o}function Xn(t,e,n){var i=new fi({"style":{"image":t,"x":e.x,"y":e.y,"width":e.width,"height":e.height},"onload":function onload(t){if("center"===n){var o={"width":t.width,"height":t.height};i.setStyle(jn(e,o))}}});return i}function jn(t,e){var n,i=e.width/e.height,o=t.height*i;return n=o<=t.width?t.height:(o=t.width)/i,{"x":t.x+t.width/2-o/2,"y":t.y+t.height/2-n/2,"width":o,"height":n}}function Yn(t,e){if(t.applyTransform){var n=t.getBoundingRect().calculateTransform(e);t.applyTransform(n)}}function qn(t){var e=t.shape,n=t.style.lineWidth;return RM(2*e.x1)===RM(2*e.x2)&&(e.x1=e.x2=$n(e.x1,n,!0)),RM(2*e.y1)===RM(2*e.y2)&&(e.y1=e.y2=$n(e.y1,n,!0)),t}function Kn(t){var e=t.shape,n=t.style.lineWidth,i=e.x,o=e.y,a=e.width,r=e.height;return e.x=$n(e.x,n,!0),e.y=$n(e.y,n,!0),e.width=Math.max($n(i+a,n,!1)-e.x,0===a?0:1),e.height=Math.max($n(o+r,n,!1)-e.y,0===r?0:1),t}function $n(t,e,n){var i=RM(2*t);return(i+RM(e))%2==0?i/2:(i+(n?1:-1))/2}function Jn(t){return null!=t&&"none"!==t}function eo(t){var e=t.__hoverStl;if(e&&!t.__highlighted){var n=t.useHoverLayer;t.__highlighted=n?"layer":"plain";var i=t.__zr;if(i||!n){var o=t,a=t.style;n&&(a=(o=i.addHover(t)).style),wo(a),n||function to(t){if(t.__hoverStlDirty){t.__hoverStlDirty=!1;var e=t.__hoverStl;if(e){var n=t.__cachedNormalStl={};t.__cachedNormalZ2=t.z2;var i=t.style;for(var o in e)null!=e[o]&&(n[o]=i[o]);n.fill=i.fill,n.stroke=i.stroke}else t.__cachedNormalStl=t.__cachedNormalZ2=null}}(o),a.extendFrom(e),io(a,e,"fill"),io(a,e,"stroke"),_o(a),n||(t.dirty(!1),t.z2+=VM)}}}function io(t,e,n){!Jn(e[n])&&Jn(t[n])&&(t[n]=function Qn(t){if("string"!=typeof t)return t;var e=FM.get(t);return e||(e=Ht(t,-.1),HM<1e4&&(FM.set(t,e),HM++)),e}(t[n]))}function no(t){var e=t.__highlighted;if(e)if(t.__highlighted=!1,"layer"===e)t.__zr&&t.__zr.removeHover(t);else if(e){var n=t.style,i=t.__cachedNormalStl;i&&(wo(n),t.setStyle(i),_o(n));var o=t.__cachedNormalZ2;null!=o&&t.z2-o===VM&&(t.z2=o)}}function oo(t,e){t.isGroup?t.traverse(function(t){!t.isGroup&&e(t)}):e(t)}function ao(t,e){e=t.__hoverStl=!1!==e&&(e||{}),t.__hoverStlDirty=!0,t.__highlighted&&(t.__cachedNormalStl=null,no(t),eo(t))}function ro(t){return t&&t.__isEmphasisEntered}function so(t){this.__hoverSilentOnTouch&&t.zrByTouch||!this.__isEmphasisEntered&&oo(this,eo)}function lo(t){this.__hoverSilentOnTouch&&t.zrByTouch||!this.__isEmphasisEntered&&oo(this,no)}function uo(){this.__isEmphasisEntered=!0,oo(this,eo)}function ho(){this.__isEmphasisEntered=!1,oo(this,no)}function co(t,e,n){t.isGroup?t.traverse(function(t){!t.isGroup&&ao(t,t.hoverStyle||e)}):ao(t,t.hoverStyle||e),fo(t,n)}function fo(t,e){var n=!1===e;if(t.__hoverSilentOnTouch=null!=e&&e.hoverSilentOnTouch,!n||t.__hoverStyleTrigger){var i=n?"off":"on";t[i]("mouseover",so)[i]("mouseout",lo),t[i]("emphasis",uo)[i]("normal",ho),t.__hoverStyleTrigger=!n}}function po(t,e,n,i,o,a,r){var s,l=(o=o||BM).labelFetcher,u=o.labelDataIndex,h=o.labelDimIndex,c=n.getShallow("show"),d=i.getShallow("show");(c||d)&&(l&&(s=l.getFormattedLabel(u,"normal",null,h)),null==s&&(s=x(o.defaultText)?o.defaultText(u,o):o.defaultText));var f=c?s:null,p=d?A(l?l.getFormattedLabel(u,"emphasis",null,h):null,s):null;null==f&&null==p||(go(t,n,a,o),go(e,i,r,o,!0)),t.text=f,e.text=p}function go(t,e,n,i,o){return mo(t,e,i,o),n&&a(t,n),t}function mo(t,e,n,i){if((n=n||BM).isRectText){var o=e.getShallow("position")||(i?null:"inside");"outside"===o&&(o="top"),t.textPosition=o,t.textOffset=e.getShallow("offset");var a=e.getShallow("rotate");null!=a&&(a*=Math.PI/180),t.textRotation=a,t.textDistance=A(e.getShallow("distance"),i?null:5)}var r,s=e.ecModel,l=s&&s.option.textStyle,u=function vo(t){for(var e;t&&t!==t.ecModel;){var n=(t.option||BM).rich;if(n)for(var i in e=e||{},n)n.hasOwnProperty(i)&&(e[i]=1);t=t.parentModel}return e}(e);if(u)for(var h in r={},u)if(u.hasOwnProperty(h)){var c=e.getModel(["rich",h]);yo(r[h]={},c,l,n,i)}return t.rich=r,yo(t,e,l,n,i,!0),n.forceRich&&!n.textStyle&&(n.textStyle={}),t}function yo(t,e,n,i,o,a){n=!o&&n||BM,t.textFill=xo(e.getShallow("color"),i)||n.color,t.textStroke=xo(e.getShallow("textBorderColor"),i)||n.textBorderColor,t.textStrokeWidth=A(e.getShallow("textBorderWidth"),n.textBorderWidth),t.insideRawTextPosition=t.textPosition,o||(a&&(t.insideRollbackOpt=i,_o(t)),null==t.textFill&&(t.textFill=i.autoColor)),t.fontStyle=e.getShallow("fontStyle")||n.fontStyle,t.fontWeight=e.getShallow("fontWeight")||n.fontWeight,t.fontSize=e.getShallow("fontSize")||n.fontSize,t.fontFamily=e.getShallow("fontFamily")||n.fontFamily,t.textAlign=e.getShallow("align"),t.textVerticalAlign=e.getShallow("verticalAlign")||e.getShallow("baseline"),t.textLineHeight=e.getShallow("lineHeight"),t.textWidth=e.getShallow("width"),t.textHeight=e.getShallow("height"),t.textTag=e.getShallow("tag"),a&&i.disableBox||(t.textBackgroundColor=xo(e.getShallow("backgroundColor"),i),t.textPadding=e.getShallow("padding"),t.textBorderColor=xo(e.getShallow("borderColor"),i),t.textBorderWidth=e.getShallow("borderWidth"),t.textBorderRadius=e.getShallow("borderRadius"),t.textBoxShadowColor=e.getShallow("shadowColor"),t.textBoxShadowBlur=e.getShallow("shadowBlur"),t.textBoxShadowOffsetX=e.getShallow("shadowOffsetX"),t.textBoxShadowOffsetY=e.getShallow("shadowOffsetY")),t.textShadowColor=e.getShallow("textShadowColor")||n.textShadowColor,t.textShadowBlur=e.getShallow("textShadowBlur")||n.textShadowBlur,t.textShadowOffsetX=e.getShallow("textShadowOffsetX")||n.textShadowOffsetX,t.textShadowOffsetY=e.getShallow("textShadowOffsetY")||n.textShadowOffsetY}function xo(t,e){return"auto"!==t?t:e&&e.autoColor?e.autoColor:null}function _o(t){var e=t.insideRollbackOpt;if(e&&null==t.textFill){var n,i=e.useInsideStyle,o=t.insideRawTextPosition,a=e.autoColor;!1!==i&&(!0===i||e.isRectText&&o&&"string"==typeof o&&o.indexOf("inside")>=0)?(n={"textFill":null,"textStroke":t.textStroke,"textStrokeWidth":t.textStrokeWidth},t.textFill="#fff",null==t.textStroke&&(t.textStroke=a,null==t.textStrokeWidth&&(t.textStrokeWidth=2))):null!=a&&(n={"textFill":null},t.textFill=a),n&&(t.insideRollback=n)}}function wo(t){var e=t.insideRollback;e&&(t.textFill=e.textFill,t.textStroke=e.textStroke,t.textStrokeWidth=e.textStrokeWidth,t.insideRollback=null)}function bo(t,e){var n=e||e.getModel("textStyle");return P([t.fontStyle||n&&n.getShallow("fontStyle")||"",t.fontWeight||n&&n.getShallow("fontWeight")||"",(t.fontSize||n&&n.getShallow("fontSize")||12)+"px",t.fontFamily||n&&n.getShallow("fontFamily")||"sans-serif"].join(" "))}function So(t,e,n,i,o,a){if("function"==typeof o&&(a=o,o=null),i&&i.isAnimationEnabled()){var r=t?"Update":"",s=i.getShallow("animationDuration"+r),l=i.getShallow("animationEasing"+r),u=i.getShallow("animationDelay"+r);"function"==typeof u&&(u=u(o,i.getAnimationDelayParams?i.getAnimationDelayParams(e,o):null)),"function"==typeof s&&(s=s(o)),s>0?e.animateTo(n,s,u||0,l,a,!!a):(e.stopAnimation(),e.attr(n),a&&a())}else e.stopAnimation(),e.attr(n),a&&a()}function Mo(t,e,n,i,o){So(!0,t,e,n,i,o)}function Io(t,e,n,i,o){So(!1,t,e,n,i,o)}function To(t,e){for(var n=_t([]);t&&t!==e;)bt(n,t.getLocalTransform(),n),t=t.parent;return n}function Ao(t,e,n){return e&&!c(e)&&(e=gb.getLocalTransform(e)),n&&(e=Tt([],e)),Q([],t,e)}function Do(t,e,n){var i=0===e[4]||0===e[5]||0===e[0]?1:Math.abs(2*e[4]/e[0]),o=0===e[4]||0===e[5]||0===e[2]?1:Math.abs(2*e[4]/e[2]),a=["left"===t?-i:"right"===t?i:0,"top"===t?-o:"bottom"===t?o:0];return a=Ao(a,e,n),Math.abs(a[0])>Math.abs(a[1])?a[0]>0?"right":"left":a[1]>0?"bottom":"top"}function Co(t,e,n,i){function o(t){var e={"position":F(t.position),"rotation":t.rotation};return t.shape&&(e.shape=a({},t.shape)),e}if(t&&e){var r=function(t){var e={};return t.traverse(function(t){!t.isGroup&&t.anid&&(e[t.anid]=t)}),e}(t);e.traverse(function(t){if(!t.isGroup&&t.anid){var e=r[t.anid];if(e){var i=o(t);t.attr(o(e)),Mo(t,i,n,t.dataIndex)}}})}}function Lo(t,e){return f(t,function(t){var n=t[0];n=EM(n,e.x),n=zM(n,e.x+e.width);var i=t[1];return i=EM(i,e.y),[n,i=zM(i,e.y+e.height)]})}function ko(t,e,n){var i=(e=a({"rectHover":!0},e)).style={"strokeNoScale":!0};if(n=n||{"x":-1,"y":-1,"width":2,"height":2},t)return 0===t.indexOf("image://")?(i.image=t.slice(8),r(i,n),new fi(e)):Un(t.replace("path://",""),e,n,"center")}function Po(t,e,n){this.parentModel=e,this.ecModel=n,this.option=t}function No(t,e,n){for(var i=0;i<e.length&&(!e[i]||null!=(t=t&&"object"==(void 0===t?"undefined":se(t))?t[e[i]]:null));i++);return null==t&&n&&(t=n.get(e)),t}function Oo(t,e){var n=qM(t).getParent;return n?n.call(t,e):t.parentModel}function Eo(t){return[t||"",$M++,Math.random().toFixed(5)].join("_")}function zo(t,e,n,i){var o=e[1]-e[0],a=n[1]-n[0];if(0===o)return 0===a?n[0]:(n[0]+n[1])/2;if(i)if(o>0){if(t<=e[0])return n[0];if(t>=e[1])return n[1]}else{if(t>=e[0])return n[0];if(t<=e[1])return n[1]}else{if(t===e[0])return n[0];if(t===e[1])return n[1]}return(t-e[0])/o*a+n[0]}function Bo(t,e){switch(t){case"center":case"middle":t="50%";break;case"left":case"top":t="0%";break;case"right":case"bottom":t="100%"}return"string"==typeof t?function Ro(t){return t.replace(/^\s+/,"").replace(/\s+$/,"")}(t).match(/%$/)?parseFloat(t)/100*e:parseFloat(t):null==t?NaN:+t}function Vo(t,e,n){return null==e&&(e=10),e=Math.min(Math.max(0,e),20),t=(+t).toFixed(e),n?t:+t}function Go(t){return t.sort(function(t,e){return t-e}),t}function Fo(t){if(t=+t,isNaN(t))return 0;for(var e=1,n=0;Math.round(t*e)/e!==t;)e*=10,n++;return n}function Wo(t){var e=t.toString(),n=e.indexOf("e");if(n>0){var i=+e.slice(n+1);return i<0?-i:0}var o=e.indexOf(".");return o<0?0:e.length-1-o}function Ho(t,e){var n=Math.log,i=Math.LN10,o=Math.floor(n(t[1]-t[0])/i),a=Math.round(n(Math.abs(e[1]-e[0]))/i),r=Math.min(Math.max(-o+a,0),20);return isFinite(r)?r:20}function Zo(t,e,n){if(!t[e])return 0;var i=p(t,function(t,e){return t+(isNaN(e)?0:e)},0);if(0===i)return 0;for(var o=Math.pow(10,n),a=f(t,function(t){return(isNaN(t)?0:t)/i*o*100}),r=100*o,s=f(a,function(t){return Math.floor(t)}),l=p(s,function(t,e){return t+e},0),u=f(a,function(t,e){return t-s[e]});l<r;){for(var h=Number.NEGATIVE_INFINITY,c=null,d=0,g=u.length;d<g;++d)u[d]>h&&(h=u[d],c=d);++s[c],u[c]=0,++l}return s[e]/o}function Uo(t){var e=2*Math.PI;return(t%e+e)%e}function Xo(t){return t>-KM&&t<KM}function jo(t){if(t instanceof Date)return t;if("string"==typeof t){var e=JM.exec(t);if(!e)return new Date(NaN);if(e[8]){var n=+e[4]||0;return"Z"!==e[8].toUpperCase()&&(n-=e[8].slice(0,3)),new Date(Date.UTC(+e[1],+(e[2]||1)-1,+e[3]||1,n,+(e[5]||0),+e[6]||0,+e[7]||0))}return new Date(+e[1],+(e[2]||1)-1,+e[3]||1,+e[4]||0,+(e[5]||0),+e[6]||0,+e[7]||0)}return null==t?new Date(NaN):new Date(Math.round(t))}function Yo(t){return Math.pow(10,qo(t))}function qo(t){return Math.floor(Math.log(t)/Math.LN10)}function Ko(t,e){var n=qo(t),i=Math.pow(10,n),o=t/i;return t=(e?o<1.5?1:o<2.5?2:o<4?3:o<7?5:10:o<1?1:o<2?2:o<3?3:o<5?5:10)*i,n>=-20?+t.toFixed(n<0?-n:0):t}function $o(t){t.sort(function(t,e){return function e(t,n,i){return t.interval[i]<n.interval[i]||t.interval[i]===n.interval[i]&&(t.close[i]-n.close[i]==(i?-1:1)||!i&&e(t,n,1))}(t,e,0)?-1:1});for(var e=-1/0,n=1,i=0;i<t.length;){for(var o=t[i].interval,a=t[i].close,r=0;r<2;r++)o[r]<=e&&(o[r]=e,a[r]=r?1:1-n),e=o[r],n=a[r];o[0]===o[1]&&a[0]*a[1]!=1?t.splice(i,1):i++}return t}function Jo(t){return t-parseFloat(t)>=0}function Qo(t){return isNaN(t)?"-":(t=(t+"").split("."))[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(t.length>1?"."+t[1]:"")}function ta(t,e){return t=(t||"").toLowerCase().replace(/-(.)/g,function(t,e){return e.toUpperCase()}),e&&t&&(t=t.charAt(0).toUpperCase()+t.slice(1)),t}function ea(t){return null==t?"":(t+"").replace(nI,function(t,e){return iI[e]})}function ia(t,e,n){y(e)||(e=[e]);var i=e.length;if(!i)return"";for(var o=e[0].$vars||[],a=0;a<o.length;a++){var r=oI[a];t=t.replace(aI(r),aI(r,0))}for(var s=0;s<i;s++)for(var l=0;l<o.length;l++){var u=e[s][o[l]];t=t.replace(aI(oI[l],s),n?ea(u):u)}return t}function na(t,e,n){return d(e,function(e,i){t=t.replace("{"+i+"}",n?ea(e):e)}),t}function oa(t,e){var n=(t=_(t)?{"color":t,"extraCssText":e}:t||{}).color,i=t.type,o=(e=t.extraCssText,t.renderMode||"html"),a=t.markerId||"X";return n?"html"===o?"subItem"===i?'<span style="display:inline-block;vertical-align:middle;margin-right:8px;margin-left:3px;border-radius:4px;width:4px;height:4px;background-color:'+ea(n)+";"+(e||"")+'"></span>':'<span style="display:inline-block;margin-right:5px;border-radius:10px;width:10px;height:10px;background-color:'+ea(n)+";"+(e||"")+'"></span>':{"renderMode":o,"content":"{marker"+a+"|}  ","style":{"color":n}}:""}function aa(t,e){return"0000".substr(0,e-(t+="").length)+t}function ra(t,e,n){"week"!==t&&"month"!==t&&"quarter"!==t&&"half-year"!==t&&"year"!==t||(t="MM-dd\nyyyy");var i=jo(e),o=n?"UTC":"",a=i["get"+o+"FullYear"](),r=i["get"+o+"Month"]()+1,s=i["get"+o+"Date"](),l=i["get"+o+"Hours"](),u=i["get"+o+"Minutes"](),h=i["get"+o+"Seconds"](),c=i["get"+o+"Milliseconds"]();return t.replace("MM",aa(r,2)).replace("M",r).replace("yyyy",a).replace("yy",a%100).replace("dd",aa(s,2)).replace("d",s).replace("hh",aa(l,2)).replace("h",l).replace("mm",aa(u,2)).replace("m",u).replace("ss",aa(h,2)).replace("s",h).replace("SSS",aa(c,3))}function sa(t){return t?t.charAt(0).toUpperCase()+t.substr(1):t}function la(t,e,n,i,o){var a=0,r=0;null==i&&(i=1/0),null==o&&(o=1/0);var s=0;e.eachChild(function(l,u){var h,c,d=l.position,f=l.getBoundingRect(),p=e.childAt(u+1),g=p&&p.getBoundingRect();if("horizontal"===t){var m=f.width+(g?-g.x+f.x:0);(h=a+m)>i||l.newline?(a=0,h=m,r+=s+n,s=f.height):s=Math.max(s,f.height)}else{var v=f.height+(g?-g.y+f.y:0);(c=r+v)>o||l.newline?(a+=s+n,r=0,c=v,s=f.width):s=Math.max(s,f.width)}l.newline||(d[0]=a,d[1]=r,"horizontal"===t?a=h+n:r=c+n)})}function ha(t,e,n){n=eI(n||0);var i=e.width,o=e.height,a=Bo(t.left,i),r=Bo(t.top,o),s=Bo(t.right,i),l=Bo(t.bottom,o),u=Bo(t.width,i),h=Bo(t.height,o),c=n[2]+n[0],d=n[1]+n[3],f=t.aspect;switch(isNaN(u)&&(u=i-s-d-a),isNaN(h)&&(h=o-l-c-r),null!=f&&(isNaN(u)&&isNaN(h)&&(f>i/o?u=.8*i:h=.8*o),isNaN(u)&&(u=f*h),isNaN(h)&&(h=u/f)),isNaN(a)&&(a=i-s-u-d),isNaN(r)&&(r=o-l-h-c),t.left||t.right){case"center":a=i/2-u/2-n[3];break;case"right":a=i-u-d}switch(t.top||t.bottom){case"middle":case"center":r=o/2-h/2-n[0];break;case"bottom":r=o-h-c}a=a||0,r=r||0,isNaN(u)&&(u=i-d-a-(s||0)),isNaN(h)&&(h=o-c-r-(l||0));var p=new de(a+n[3],r+n[0],u,h);return p.margin=n,p}function ca(t,e,n,i,o){var a=!o||!o.hv||o.hv[0],s=!o||!o.hv||o.hv[1],l=o&&o.boundingMode||"all";if(a||s){var u;if("raw"===l)u="group"===t.type?new de(0,0,+e.width||0,+e.height||0):t.getBoundingRect();else if(u=t.getBoundingRect(),t.needLocalTransform()){var h=t.getLocalTransform();(u=u.clone()).applyTransform(h)}e=ha(r({"width":u.width,"height":u.height},e),n,i);var c=t.position,d=a?e.x-u.x:0,f=s?e.y-u.y:0;t.attr("position","raw"===l?[d,f]:[c[0]+d,c[1]+f])}}function fa(t,e,i){function n(n,i){var r={},l=0,u={},h=0;if(uI(n,function(e){u[e]=t[e]}),uI(n,function(t){o(e,t)&&(r[t]=u[t]=e[t]),a(r,t)&&l++,a(u,t)&&h++}),s[i])return a(e,n[1])?u[n[2]]=null:a(e,n[2])&&(u[n[1]]=null),u;if(2!==h&&l){if(l>=2)return r;for(var c=0;c<n.length;c++){var d=n[c];if(!o(r,d)&&o(t,d)){r[d]=t[d];break}}return r}return u}function o(t,e){return t.hasOwnProperty(e)}function a(t,e){return null!=t[e]&&"auto"!==t[e]}function r(t,e,n){uI(t,function(t){e[t]=n[t]})}!w(i)&&(i={});var s=i.ignoreSize;!y(s)&&(s=[s,s]);var l=n(cI[0],0),u=n(cI[1],1);r(cI[0],t,l),r(cI[1],t,u)}function pa(t){return ga({},t)}function ga(t,e){return e&&t&&uI(hI,function(n){e.hasOwnProperty(n)&&(t[n]=e[n])}),t}function va(t){var e=t.get("coordinateSystem"),n={"coordSysName":e,"coordSysDims":[],"axisMap":R(),"categoryAxisMap":R()},i=xI[e];if(i)return i(t,n,n.axisMap,n.categoryAxisMap),n}function ya(t){return"category"===t.get("type")}function xa(t){this.fromDataset=t.fromDataset,this.data=t.data||(t.sourceFormat===SI?{}:[]),this.sourceFormat=t.sourceFormat||MI,this.seriesLayoutBy=t.seriesLayoutBy||TI,this.dimensionsDefine=t.dimensionsDefine,this.encodeDefine=t.encodeDefine&&R(t.encodeDefine),this.startIndex=t.startIndex||0,this.dimensionsDetectCount=t.dimensionsDetectCount}function Sa(t){var e=t.option,n=e.data,i=S(n)?II:_I,o=!1,a=e.seriesLayoutBy,r=e.sourceHeader,s=e.dimensions,l=function Ca(t){var e=t.option;if(!e.data)return t.ecModel.getComponent("dataset",e.datasetIndex||0)}(t);if(l){var u=l.option;n=u.source,i=DI(l).sourceFormat,o=!0,a=a||u.seriesLayoutBy,null==r&&(r=u.sourceHeader),s=s||u.dimensions}var h=function Ma(t,e,n,i,o){if(!t)return{"dimensionsDefine":Ia(o)};var a,r,s,l;if(e===bI)"auto"===i||null==i?Ta(function(t){null!=t&&"-"!==t&&(_(t)?null==r&&(r=1):r=0)},n,t,10):r=i?1:0,o||1!==r||(o=[],Ta(function(t,e){o[e]=null!=t?t:""},n,t)),a=o?o.length:n===AI?t.length:t[0]?t[0].length:null;else if(e===wI)o||(o=function Aa(t){for(var e,n=0;n<t.length&&!(e=t[n++]););if(e){var i=[];return d(e,function(t,e){i.push(e)}),i}}(t),s=!0);else if(e===SI)o||(o=[],s=!0,d(t,function(t,e){o.push(e)}));else if(e===_I){var u=Li(t[0]);a=y(u)&&u.length||1}return s&&d(o,function(t,e){"name"===(w(t)?t.name:t)&&(l=e)}),{"startIndex":r,"dimensionsDefine":Ia(o),"dimensionsDetectCount":a,"potentialNameDimIndex":l}}(n,i,a,r,s),c=e.encode;!c&&l&&(c=function Da(t,e,n,i,o,a){var r=va(t),s={},l=[],u=[],h=t.subType,c=R(["pie","map","funnel"]),f=R(["line","bar","pictorialBar","scatter","effectScatter","candlestick","boxplot"]);if(r&&null!=f.get(h)){var p=t.ecModel,g=DI(p).datasetMap,m=e.uid+"_"+o,v=g.get(m)||g.set(m,{"categoryWayDim":1,"valueWayDim":0});d(r.coordSysDims,function(t){if(null==r.firstCategoryDimIndex)e=v.valueWayDim++,s[t]=e,u.push(e);else if(r.categoryAxisMap.get(t))s[t]=0,l.push(0);else{var e=v.categoryWayDim++;s[t]=e,u.push(e)}})}else if(null!=c.get(h)){for(var y,x=0;x<5&&null==y;x++)ka(n,i,o,a.dimensionsDefine,a.startIndex,x)||(y=x);if(null!=y){s.value=y;var _=a.potentialNameDimIndex||Math.max(y-1,0);u.push(_),l.push(_)}}return l.length&&(s.itemName=l),u.length&&(s.seriesName=u),s}(t,l,n,i,a,h)),DI(t).source=new xa({"data":n,"fromDataset":o,"seriesLayoutBy":a,"sourceFormat":i,"dimensionsDefine":h.dimensionsDefine,"startIndex":h.startIndex,"dimensionsDetectCount":h.dimensionsDetectCount,"encodeDefine":c})}function Ia(t){if(t){var e=R();return f(t,function(t,n){if(null==(t=a({},w(t)?t:{"name":t})).name)return t;t.name+="",null==t.displayName&&(t.displayName=t.name);var i=e.get(t.name);return i?t.name+="-"+i.count++:e.set(t.name,{"count":1}),t})}}function Ta(t,e,n,i){if(null==i&&(i=1/0),e===AI)for(a=0;a<n.length&&a<i;a++)t(n[a]?n[a][0]:null,a);else for(var o=n[0]||[],a=0;a<o.length&&a<i;a++)t(o[a],a)}function La(t,e){return ka(t.data,t.sourceFormat,t.seriesLayoutBy,t.dimensionsDefine,t.startIndex,e)}function ka(t,e,n,i,o,a){function r(t){return(null==t||!isFinite(t)||""===t)&&(!(!_(t)||"-"===t)||void 0)}var s,l;if(S(t))return!1;if(i&&(l=w(l=i[a])?l.name:l),e===bI)if(n===AI){for(var u=t[a],h=0;h<(u||[]).length&&h<5;h++)if(null!=(s=r(u[o+h])))return s}else for(h=0;h<t.length&&h<5;h++){var c=t[o+h];if(c&&null!=(s=r(c[a])))return s}else if(e===wI){if(!l)return;for(h=0;h<t.length&&h<5;h++)if((d=t[h])&&null!=(s=r(d[l])))return s}else if(e===SI){if(!l)return;if(!(u=t[l])||S(u))return!1;for(h=0;h<u.length&&h<5;h++)if(null!=(s=r(u[h])))return s}else if(e===_I)for(h=0;h<t.length&&h<5;h++){var d=t[h],f=Li(d);if(!y(f))return!1;if(null!=(s=r(f[a])))return s}return!1}function Oa(t){t=t,this.option={},this.option[CI]=1,this._componentsMap=R({"series":[]}),this._seriesIndices,this._seriesIndicesMap,function Na(t,e){var o=t.color&&!t.colorLayer;d(e,function(e,a){"colorLayer"===a&&o||pI.hasClass(a)||("object"==(void 0===e?"undefined":se(e))?t[a]=t[a]?n(t[a],e,!1):i(e):null==t[a]&&(t[a]=e))})}(t,this._theme.option),n(t,mI,!1),this.mergeOption(t)}function za(t,e){t._seriesIndicesMap=R(t._seriesIndices=f(e,function(t){return t.componentIndex})||[])}function Ba(t,e){return e.hasOwnProperty("subType")?g(t,function(t){return t.subType===e.subType}):t}function Va(t){d(kI,function(e){this[e]=m(t[e],t)},this)}function Ga(){this._coordinateSystems=[]}function Fa(t){this._api=t,this._timelineOptions=[],this._mediaList=[],this._mediaDefault,this._currentMediaIndices=[],this._optionBackup,this._newBaseOption}function Ha(t,e,n){var i={"width":e,"height":n,"aspectratio":e/n},o=!0;return d(t,function(t,e){var n=e.match(VI);if(n&&n[1]&&n[2]){var a=n[1],r=n[2].toLowerCase();(function Za(t,e,n){return"min"===n?t>=e:"max"===n?t<=e:t===e})(i[r],t,a)||(o=!1)}}),o}function ja(t){var e=t&&t.itemStyle;if(e)for(var i=0,o=HI.length;i<o;i++){var a=HI[i],r=e.normal,s=e.emphasis;r&&r[a]&&(t[a]=t[a]||{},t[a].normal?n(t[a].normal,r[a]):t[a].normal=r[a],r[a]=null),s&&s[a]&&(t[a]=t[a]||{},t[a].emphasis?n(t[a].emphasis,s[a]):t[a].emphasis=s[a],s[a]=null)}}function Ya(t,e,n){if(t&&t[e]&&(t[e].normal||t[e].emphasis)){var i=t[e].normal,o=t[e].emphasis;i&&(n?(t[e].normal=t[e].emphasis=null,r(t[e],i)):t[e]=i),o&&(t.emphasis=t.emphasis||{},t.emphasis[e]=o)}}function qa(t){Ya(t,"itemStyle"),Ya(t,"lineStyle"),Ya(t,"areaStyle"),Ya(t,"label"),Ya(t,"labelLine"),Ya(t,"upperLabel"),Ya(t,"edgeLabel")}function Ka(t,e){var n=FI(t)&&t[e],i=FI(n)&&n.textStyle;if(i)for(var o=0,a=Hw.length;o<a;o++){e=Hw[o];i.hasOwnProperty(e)&&(n[e]=i[e])}}function $a(t){t&&(qa(t),Ka(t,"label"),t.emphasis&&Ka(t.emphasis,"label"))}function Qa(t){return y(t)?t:t?[t]:[]}function tr(t){return(y(t)?t[0]:t)||{}}function nr(t){d(jI,function(e){e[0]in t&&!(e[1]in t)&&(t[e[1]]=t[e[0]])})}function or(t){d(t,function(e,n){var i=[],o=[NaN,NaN],a=[e.stackResultDimension,e.stackedOverDimension],r=e.data,s=e.isStackedByIndex,l=r.map(a,function(a,l,u){var h,c,d=r.get(e.stackedDimension,u);if(isNaN(d))return o;s?c=r.getRawIndex(u):h=r.get(e.stackedByDimension,u);for(var f=NaN,p=n-1;p>=0;p--){var g=t[p];if(s||(c=g.data.rawIndexOf(g.stackedByDimension,h)),c>=0){var m=g.data.getByRawIndex(g.stackResultDimension,c);if(d>=0&&m>0||d<=0&&m<0){d+=m,f=m;break}}}return i[0]=d,i[1]=f,i});r.hostModel.setData(l),e.data=l})}function ar(t,e){xa.isInstance(t)||(t=xa.seriesDataToSource(t)),this._source=t;var n=this._data=t.data,i=t.sourceFormat;i===II&&(this._offset=0,this._dimSize=e,this._data=n),a(this,qI[i===bI?i+"_"+t.seriesLayoutBy:i])}function rr(){return this._data.length}function sr(t){return this._data[t]}function lr(t){for(var e=0;e<t.length;e++)this._data.push(t[e])}function ur(t,e,n,i){return null!=n?t[n]:t}function hr(t,e,n,i){return cr(t[i],this._dimensionInfos[e])}function cr(t,e){var n=e&&e.type;if("ordinal"===n){var i=e&&e.ordinalMeta;return i?i.parseAndCollect(t):t}return"time"===n&&"number"!=typeof t&&null!=t&&"-"!==t&&(t=+jo(t)),null==t||""===t?NaN:+t}function dr(t,e,n){if(t){var i=t.getRawDataItem(e);if(null!=i){var o,a,r=t.getProvider().getSource().sourceFormat,s=t.getDimensionInfo(n);return s&&(o=s.name,a=s.index),$I[r](i,e,a,o)}}}function fr(t,e,n){if(t){var i=t.getProvider().getSource().sourceFormat;if(i===_I||i===wI){var o=t.getRawDataItem(e);return i!==_I||w(o)||(o=null),o?o[n]:void 0}}}function pr(t){return new gr(t)}function gr(t){t=t||{},this._reset=t.reset,this._plan=t.plan,this._count=t.count,this._onDirty=t.onDirty,this._dirty=!0,this.context}function mr(t,e,n,i,o,a){nT.reset(n,i,o,a),t._callingProgress=e,t._callingProgress({"start":n,"end":i,"count":i-n,"next":nT.next},t.context)}function yr(t){var e=t.name;Oi(t)||(t.name=function xr(t){var e=t.getRawData(),n=[];return d(e.mapDimension("seriesName",!0),function(t){var i=e.getDimensionInfo(t);i.displayName&&n.push(i.displayName)}),n.join(" ")}(t)||e)}function _r(t){return t.model.getRawData().count()}function wr(t){var e=t.model;return e.setData(e.getRawData().cloneShallow()),br}function br(t,e){t.end>e.outputData.count()&&e.model.getRawData().cloneShallow(e.outputData)}function Sr(t,e){d(t.CHANGABLE_METHODS,function(n){t.wrapMethod(n,v(Mr,e))})}function Mr(t){var e=Ir(t);e&&e.setOutputEnd(this.count())}function Ir(t){var e=(t.ecModel||{}).scheduler,n=e&&e.getPipeline(t.uid);if(n){var i=n.currentTask;if(i){var o=i.agentStubMap;o&&(i=o.get(t.uid))}return i}}function Tr(){this.group=new Zb,this.uid=Eo("viewChart"),this.renderTask=pr({"plan":Cr,"reset":Lr}),this.renderTask.context={"view":this}}function Ar(t,e){if(t&&(t.trigger(e),"group"===t.type))for(var n=0;n<t.childCount();n++)Ar(t.childAt(n),e)}function Dr(t,e,n){var i=zi(t,e);null!=i?d(Di(i),function(e){Ar(t.getItemGraphicEl(e),n)}):t.eachItemGraphicEl(function(t){Ar(t,n)})}function Cr(t){return hT(t.model)}function Lr(t){var e=t.model,n=t.ecModel,i=t.api,o=t.payload,a=e.pipelineContext.progressiveRender,r=t.view,s=o&&uT(o).updateMethod,l=a?"incrementalPrepareRender":s&&r[s]?s:"render";return"render"!==l&&r[l](e,n,i,o),dT[l]}function kr(t,e,i){function n(){h=(new Date).getTime(),c=null,t.apply(r,s||[])}var o,a,r,s,l,u=0,h=0,c=null;e=e||0;var f=function d(){o=(new Date).getTime(),r=this,s=arguments;var t=l||e,d=l||i;l=null,a=o-(d?u:h)-t,clearTimeout(c),d?c=setTimeout(n,t):a>=0?n():c=setTimeout(n,-a),u=o};return f.clear=function(){c&&(clearTimeout(c),c=null)},f.debounceNextCall=function(t){l=t},f}function Pr(t,e,n,i){var o=t[e];if(o){var a=o[fT]||o,r=o[gT];if(o[pT]!==n||r!==i){if(null==n||!i)return t[e]=a;(o=t[e]=kr(a,n,"debounce"===i))[fT]=a,o[gT]=i,o[pT]=n}return o}}function Nr(t,e){var n=t[e];n&&n[fT]&&(t[e]=n[fT])}function Or(t,e,n,i){this.ecInstance=t,this.api=e,this.unfinished;n=this._dataProcessorHandlers=n.slice(),i=this._visualHandlers=i.slice();this._allHandlers=n.concat(i),this._stageTaskMap=R()}function Er(t,e,n,i,o){function a(t,e){return t.setDirty&&(!t.dirtyMap||t.dirtyMap.get(e.__pipeline.id))}var r;o=o||{},d(e,function(e,s){if(!o.visualType||o.visualType===e.visualType){var l=t._stageTaskMap.get(e.uid),u=l.seriesTaskMap,h=l.overallTask;if(h){var c,d=h.agentStubMap;d.each(function(t){a(o,t)&&(t.dirty(),c=!0)}),c&&h.dirty(),bT(h,i);var f=t.getPerformArgs(h,o.block);d.each(function(t){t.perform(f)}),r|=h.perform(f)}else u&&u.each(function(s,l){a(o,s)&&s.dirty();var u=t.getPerformArgs(s,o.block);u.skip=!e.performRawSeries&&n.isSeriesFiltered(s.context.model),bT(s,i),r|=s.perform(u)})}}),t.unfinished|=r}function Br(t){t.overallReset(t.ecModel,t.api,t.payload)}function Vr(t,e){return t.overallProgress&&Gr}function Gr(){this.agent.dirty(),this.getDownstream().dirty()}function Fr(){this.agent&&this.agent.dirty()}function Wr(t){return t.plan&&t.plan(t.model,t.ecModel,t.api,t.payload)}function Hr(t){t.useClearVisual&&t.data.clearAllVisual();var e=t.resetDefines=Di(t.reset(t.model,t.ecModel,t.api,t.payload));return e.length>1?f(e,function(t,e){return Zr(e)}):wT}function Zr(t){return function(e,n){var i=n.data,o=n.resetDefines[t];if(o&&o.dataEach)for(var a=e.start;a<e.end;a++)o.dataEach(i,a);else o&&o.progress&&o.progress(e,i)}}function Ur(t){return t.data.count()}function Xr(t,e,n){var i=e.uid,o=t._pipelineMap.get(i);!o.head&&(o.head=n),o.tail&&o.tail.pipe(n),o.tail=n,n.__idxInPipeline=o.count++,n.__pipeline=o}function Yr(t,e){for(var n in e.prototype)t[n]=B}function qr(t){for(_(t)&&(t=(new DOMParser).parseFromString(t,"text/xml")),9===t.nodeType&&(t=t.firstChild);"svg"!==t.nodeName.toLowerCase()||1!==t.nodeType;)t=t.nextSibling;return t}function Kr(){this._defs={},this._root=null,this._isDefine=!1,this._isText=!1}function Jr(t,e){t&&t.__inheritedStyle&&(e.__inheritedStyle||(e.__inheritedStyle={}),r(e.__inheritedStyle,t.__inheritedStyle))}function Qr(t){for(var e=P(t).split(kT),n=[],i=0;i<e.length;i+=2){var o=parseFloat(e[i]),a=parseFloat(e[i+1]);n.push([o,a])}return n}function ts(t,e,n,i){var o=e.__inheritedStyle||{},r="text"===e.type;if(1===t.nodeType&&(function is(t,e){var n=t.getAttribute("transform");if(n){var i=null,o=[];(n=n.replace(/,/g," ")).replace(ET,function(t,e,n){o.push(e,n)});for(var a=o.length-1;a>0;a-=2){var r=o[a],s=o[a-1];switch(i=i||xt(),s){case"translate":r=P(r).split(kT),St(i,i,[parseFloat(r[0]),parseFloat(r[1]||0)]);break;case"scale":r=P(r).split(kT),It(i,i,[parseFloat(r[0]),parseFloat(r[1]||r[0])]);break;case"rotate":r=P(r).split(kT),Mt(i,i,parseFloat(r[0]));break;case"skew":r=P(r).split(kT),console.warn("Skew transform is not supported yet");break;case"matrix":r=P(r).split(kT),i[0]=parseFloat(r[0]),i[1]=parseFloat(r[1]),i[2]=parseFloat(r[2]),i[3]=parseFloat(r[3]),i[4]=parseFloat(r[4]),i[5]=parseFloat(r[5])}}}e.setLocalTransform(i)}(t,e),a(o,function ns(t){var e=t.getAttribute("style"),n={};if(!e)return n;var i,o={};for(zT.lastIndex=0;null!=(i=zT.exec(e));)o[i[1]]=i[2];for(var a in RT)RT.hasOwnProperty(a)&&null!=o[a]&&(n[RT[a]]=o[a]);return n}(t)),!i))for(var s in RT)if(RT.hasOwnProperty(s)){var l=t.getAttribute(s);null!=l&&(o[RT[s]]=l)}var u=r?"textFill":"fill",h=r?"textStroke":"stroke";e.style=e.style||new ew;var c=e.style;null!=o.fill&&c.set(u,es(o.fill,n)),null!=o.stroke&&c.set(h,es(o.stroke,n)),d(["lineWidth","opacity","fillOpacity","strokeOpacity","miterLimit","fontSize"],function(t){var e="lineWidth"===t&&r?"textStrokeWidth":t;null!=o[t]&&c.set(e,parseFloat(o[t]))}),o.textBaseline&&"auto"!==o.textBaseline||(o.textBaseline="alphabetic"),"alphabetic"===o.textBaseline&&(o.textBaseline="bottom"),"start"===o.textAlign&&(o.textAlign="left"),"end"===o.textAlign&&(o.textAlign="right"),d(["lineDashOffset","lineCap","lineJoin","fontWeight","fontFamily","fontStyle","textAlign","textBaseline"],function(t){null!=o[t]&&c.set(t,o[t])}),o.lineDash&&(e.style.lineDash=P(o.lineDash).split(kT)),c[h]&&"none"!==c[h]&&(e[h]=!0),e.__inheritedStyle=o}function es(t,e){var n=e&&t&&t.match(NT);return n?e[P(n[1])]:t}function os(t,e,n){var i=e/t.width,o=n/t.height,a=Math.min(i,o);return{"scale":[a,a],"position":[-(t.x+t.width/2)*a+e/2,-(t.y+t.height/2)*a+n/2]}}function rs(t){return function(e,n,i){e=e&&e.toLowerCase(),J_.prototype[t].call(this,e,n,i)}}function ss(){J_.call(this)}function ls(t,e,n){function o(t,e){return t.__prio-e.__prio}n=n||{},"string"==typeof e&&(e=lA[e]),this.id,this.group,this._dom=t;var a=this._zr=Ii(t,{"renderer":n.renderer||"canvas","devicePixelRatio":n.devicePixelRatio,"width":n.width,"height":n.height});this._throttledZrFlush=kr(m(a.flush,a),17),(e=i(e))&&UI(e,!0),this._theme=e,this._chartsViews=[],this._chartsMap={},this._componentsViews=[],this._componentsMap={},this._coordSysMgr=new Ga;var r=this._api=Ts(this);_e(sA,o),_e(oA,o),this._scheduler=new Or(this,r,oA,sA),J_.call(this,this._ecEventProcessor=new As),this._messageCenter=new ss,this._initEvents(),this.resize=m(this.resize,this),this._pendingActions=[],a.animation.on("frame",this._onframe,this),function ms(t,e){t.on("rendered",function(){e.trigger("rendered"),!t.animation.isFinished()||e[KT]||e._scheduler.unfinished||e._pendingActions.length||e.trigger("finished")})}(a,this),N(this)}function us(t,e,n){var i,o=this._model,a=this._coordSysMgr.getCoordinateSystems();e=Vi(o,e);for(var r=0;r<a.length;r++){var s=a[r];if(s[t]&&null!=(i=s[t](o,e,n)))return i}}function hs(t){var e=t._model,n=t._scheduler;n.restorePipelines(e),n.prepareStageTasks(),vs(t,"component",e,n),vs(t,"chart",e,n),n.plan()}function cs(t,e,n,i,o){function a(i){i&&i.__alive&&i[e]&&i[e](i.__model,r,t._api,n)}var r=t._model;if(i){var s={};s[i+"Id"]=n[i+"Id"],s[i+"Index"]=n[i+"Index"],s[i+"Name"]=n[i+"Name"];var l={"mainType":i,"query":s};o&&(l.subType=o);var u=n.excludeSeriesId;null!=u&&(u=R(Di(u))),r&&r.eachComponent(l,function(e){u&&null!=u.get(e.id)||a(t["series"===i?"_chartsMap":"_componentsMap"][e.__viewId])},t)}else HT(t._componentsViews.concat(t._chartsViews),a)}function ds(t,e){var n=t._chartsMap,i=t._scheduler;e.eachSeries(function(t){i.updateStreamModes(t,n[t.__viewId])})}function fs(t,e){var n=t.type,i=t.escapeConnect,o=nA[n],s=o.actionInfo,l=(s.update||"update").split(":"),u=l.pop();l=null!=l[0]&&ZT(l[0]),this[$T]=!0;var h=[t],c=!1;t.batch&&(c=!0,h=f(t.batch,function(e){return(e=r(a({},e),t)).batch=null,e}));var d,p=[],g="highlight"===n||"downplay"===n;HT(h,function(t){(d=(d=o.action(t,this._model,this._api))||a({},t)).type=s.event||d.type,p.push(d),g?cs(this,u,t,"series"):l&&cs(this,u,t,l.main,l.sub)},this),"none"===u||g||l||(this[KT]?(hs(this),tA.update.call(this,t),this[KT]=!1):tA[u].call(this,t)),d=c?{"type":s.event||n,"escapeConnect":i,"batch":p}:p[0],this[$T]=!1,!e&&this._messageCenter.trigger(d.type,d)}function ps(t){for(var e=this._pendingActions;e.length;){var n=e.shift();fs.call(this,n,t)}}function gs(t){!t&&this.trigger("updated")}function vs(t,e,n,i){function o(t){var e="_ec_"+t.id+"_"+t.type,o=s[e];if(!o){var h=ZT(t.type);(o=new(a?aT.getClass(h.main,h.sub):Tr.getClass(h.sub))).init(n,u),s[e]=o,r.push(o),l.add(o.group)}t.__viewId=o.__id=e,o.__alive=!0,o.__model=t,o.group.__ecComponentInfo={"mainType":t.mainType,"index":t.componentIndex},!a&&i.prepareView(o,t,n,u)}for(var a="component"===e,r=a?t._componentsViews:t._chartsViews,s=a?t._componentsMap:t._chartsMap,l=t._zr,u=t._api,h=0;h<r.length;h++)r[h].__alive=!1;for(a?n.eachComponent(function(t,e){"series"!==t&&o(e)}):n.eachSeries(o),h=0;h<r.length;){var c=r[h];c.__alive?h++:(!a&&c.renderTask.dispose(),l.remove(c.group),c.dispose(n,u),r.splice(h,1),delete s[c.__id],c.__id=c.group.__ecComponentInfo=null)}}function ys(t){t.clearColorPalette(),t.eachSeries(function(t){t.clearColorPalette()})}function xs(t,e,n,i){(function _s(t,e,n,i,o){HT(o||t._componentsViews,function(t){var o=t.__model;t.render(o,e,n,i),Is(o,t)})})(t,e,n,i),HT(t._chartsViews,function(t){t.__alive=!1}),ws(t,e,n,i),HT(t._chartsViews,function(t){t.__alive||t.remove(e,n)})}function ws(t,e,n,i,o){var a,r=t._scheduler;e.eachSeries(function(e){var n=t._chartsMap[e.__viewId];n.__alive=!0;var s=n.renderTask;r.updatePayload(s,i),o&&o.get(e.uid)&&s.dirty(),a|=s.perform(r.getPerformArgs(s)),n.group.silent=!!e.get("silent"),Is(e,n),function Ms(t,e){var n=t.get("blendMode")||null;e.group.traverse(function(t){t.isGroup||t.style.blend!==n&&t.setStyle("blend",n),t.eachPendingDisplayable&&t.eachPendingDisplayable(function(t){t.setStyle("blend",n)})})}(e,n)}),r.unfinished|=a,function Ss(t,e){var n=t.storage,i=0;n.traverse(function(t){t.isGroup||i++}),i>e.get("hoverLayerThreshold")&&!be.node&&n.traverse(function(t){t.isGroup||(t.useHoverLayer=!0)})}(t._zr,e),yT(t._zr.dom,e)}function bs(t,e){HT(rA,function(n){n(t,e)})}function Is(t,e){var n=t.get("z"),i=t.get("zlevel");e.group.traverse(function(t){"group"!==t.type&&(null!=n&&(t.z=n),null!=i&&(t.zlevel=i))})}function Ts(t){var e=t._coordSysMgr;return a(new Va(t),{"getCoordinateSystems":m(e.getCoordinateSystems,e),"getComponentByElement":function getComponentByElement(e){for(;e;){var n=e.__ecComponentInfo;if(null!=n)return t._model.getComponent(n.mainType,n.index);e=e.parent}}})}function As(){this.eventInfo}function Cs(t){cA[t]=!1}function Ls(t){return hA[function Wi(t,e){return t.getAttribute?t.getAttribute(e):t[e]}(t,gA)]}function ks(t,e){lA[t]=e}function Ps(t){aA.push(t)}function Ns(t,e){Bs(oA,t,e,UT)}function Os(t,e,n){"function"==typeof e&&(n=e,e="");var i=jT(t)?t.type:[t,t={"event":e}][0];t.event=(t.event||i).toLowerCase(),e=t.event,FT(QT.test(i)&&QT.test(e)),nA[i]||(nA[i]={"action":n,"actionInfo":t}),iA[e]=i}function Es(t,e){Ga.register(t,e)}function Rs(t,e){Bs(sA,t,e,XT,"layout")}function zs(t,e){Bs(sA,t,e,YT,"visual")}function Bs(t,e,n,i,o){(WT(e)||jT(e))&&(n=e,e=i);var a=Or.wrapStageHandler(n,o);return a.__prio=e,a.__raw=n,t.push(a),a}function Vs(t,e){uA[t]=e}function Gs(t){return pI.extend(t)}function Fs(t){return aT.extend(t)}function Ws(t){return oT.extend(t)}function Hs(t){return Tr.extend(t)}function Zs(t){return t}function Us(t,e,n,i,o){this._old=t,this._new=e,this._oldKeyGetter=n||Zs,this._newKeyGetter=i||Zs,this.context=o}function Xs(t,e,n,i,o){for(var a=0;a<t.length;a++){var r="_ec_"+o[i](t[a],a),s=e[r];null==s?(n.push(r),e[r]=a):(s.length||(e[r]=s=[s]),s.push(a))}}function Ys(t){return"category"===t?"ordinal":"time"===t?"time":"float"}function Ks(t){return t._rawCount>65535?SA:IA}function $s(t){var e=t.constructor;return e===Array?t.slice():new e(t)}function Js(t,e){d(TA.concat(e.__wrappedMethods||[]),function(n){e.hasOwnProperty(n)&&(t[n]=e[n])}),t.__wrappedMethods=e.__wrappedMethods,d(AA,function(n){t[n]=i(e[n])}),t._calculationInfo=a(e._calculationInfo)}function Qs(t,e,n,i,o){var a=wA[e.type],r=i-1,s=e.name,l=t[s][r];if(l&&l.length<n){for(var u=new a(Math.min(o-r*n,n)),h=0;h<l.length;h++)u[h]=l[h];t[s][r]=u}for(var c=i*n;c<o;c+=n)t[s].push(new a(Math.min(o-c,n)))}function tl(t){var e=t._invertedIndicesMap;d(e,function(n,i){var o=t._dimensionInfos[i].ordinalMeta;if(o){for(n=e[i]=new MA(o.categories.length),a=0;a<n.length;a++)n[a]=_A;for(var a=0;a<t._count;a++)n[t.get(i,a)]=a}})}function el(t,e,n){var i;if(null!=e){var o=t._chunkSize,a=Math.floor(n/o),r=n%o,s=t.dimensions[e],l=t._storage[s][a];if(l){i=l[r];var u=t._dimensionInfos[s].ordinalMeta;u&&u.categories.length&&(i=u.categories[i])}}return i}function il(t){return t}function nl(t){return t<this._count&&t>=0?this._indices[t]:-1}function ol(t,e){var n=t._idList[e];return null==n&&(n=el(t,t._idDimIdx,e)),null==n&&(n=bA+e),n}function al(t){return y(t)||(t=[t]),t}function rl(t,e){var n=t.dimensions,i=new DA(f(n,t.getDimensionInfo,t),t.hostModel);Js(i,t);for(var o=i._storage={},a=t._storage,r=0;r<n.length;r++){var s=n[r];a[s]&&(l(e,s)>=0?(o[s]=sl(a[s]),i._rawExtent[s]=[1/0,-1/0],i._extent[s]=null):o[s]=a[s])}return i}function sl(t){for(var e=new Array(t.length),n=0;n<t.length;n++)e[n]=$s(t[n]);return e}function ul(t,e,n){function o(t,e,n){null!=yA.get(e)?t.otherDims[e]=n:(t.coordDim=e,t.coordDimIndex=n,h.set(e,!0))}xa.isInstance(e)||(e=xa.seriesDataToSource(e)),n=n||{},t=(t||[]).slice();for(var s=(n.dimsDef||[]).slice(),l=R(n.encodeDef),u=R(),h=R(),c=[],f=function hl(t,e,n,i){var o=Math.max(t.dimensionsDetectCount||1,e.length,n.length,i||0);return d(e,function(t){var e=t.dimsDef;e&&(o=Math.max(o,e.length))}),o}(e,t,s,n.dimCount),p=0;p<f;p++){var g=s[p]=a({},w(s[p])?s[p]:{"name":s[p]}),m=g.name,v=c[p]={"otherDims":{}};null!=m&&null==u.get(m)&&(v.name=v.displayName=m,u.set(m,p)),null!=g.type&&(v.type=g.type),null!=g.displayName&&(v.displayName=g.displayName)}l.each(function(t,e){if(1===(t=Di(t).slice()).length&&t[0]<0)l.set(e,!1);else{var n=l.set(e,[]);d(t,function(t,i){_(t)&&(t=u.get(t)),null!=t&&t<f&&(n[i]=t,o(c[t],e,i))})}});var y=0;d(t,function(t,e){var n,a,s;if(_(t))n=t,t={};else{n=t.name;var u=t.ordinalMeta;t.ordinalMeta=null,(t=i(t)).ordinalMeta=u,a=t.dimsDef,s=t.otherDims,t.name=t.coordDim=t.coordDimIndex=t.dimsDef=t.otherDims=null}var h=l.get(n);if(!1!==h){if(!(h=Di(h)).length)for(var f=0;f<(a&&a.length||1);f++){for(;y<c.length&&null!=c[y].coordDim;)y++;y<c.length&&h.push(y++)}d(h,function(e,i){var l=c[e];if(o(r(l,t),n,i),null==l.name&&a){var u=a[i];!w(u)&&(u={"name":u}),l.name=l.displayName=u.name,l.defaultTooltip=u.defaultTooltip}s&&r(l.otherDims,s)})}});var x=n.generateCoord,b=n.generateCoordCount,S=null!=b;b=x?b||1:0;for(var M=x||"value",I=0;I<f;I++)null==(v=c[I]=c[I]||{}).coordDim&&(v.coordDim=cl(M,h,S),v.coordDimIndex=0,(!x||b<=0)&&(v.isExtraCoord=!0),b--),null==v.name&&(v.name=cl(v.coordDim,u)),null==v.type&&La(e,I,v.name)&&(v.type="ordinal");return c}function cl(t,e,n){if(n||null!=e.get(t)){for(var i=0;null!=e.get(t+i);)i++;t+=i}return e.set(t,!0),t}function dl(t,e,n){var i,o,a,r,s=(n=n||{}).byIndex,l=n.stackedCoordDimension,u=!(!t||!t.get("stack"));if(d(e,function(t,n){_(t)&&(e[n]=t={"name":t}),u&&!t.isExtraCoord&&(s||i||!t.ordinalMeta||(i=t),o||"ordinal"===t.type||"time"===t.type||l&&l!==t.coordDim||(o=t))}),!o||s||i||(s=!0),o){a="__\0ecstackresult",r="__\0ecstackedover",i&&(i.createInvertedIndices=!0);var h=o.coordDim,c=o.type,f=0;d(e,function(t){t.coordDim===h&&f++}),e.push({"name":a,"coordDim":h,"coordDimIndex":f,"type":c,"isExtraCoord":!0,"isCalculationCoord":!0}),f++,e.push({"name":r,"coordDim":r,"coordDimIndex":f,"type":c,"isExtraCoord":!0,"isCalculationCoord":!0})}return{"stackedDimension":o&&o.name,"stackedByDimension":i&&i.name,"isStackedByIndex":s,"stackedOverDimension":r,"stackResultDimension":a}}function fl(t,e){return!!e&&e===t.getCalculationInfo("stackedDimension")}function pl(t,e){return fl(t,e)?t.getCalculationInfo("stackResultDimension"):e}function gl(t,e,n){n=n||{},xa.isInstance(t)||(t=xa.seriesDataToSource(t));var i,o=e.get("coordinateSystem"),a=Ga.get(o),r=va(e);r&&(i=f(r.coordSysDims,function(t){var e={"name":t},n=r.axisMap.get(t);if(n){var i=n.get("type");e.type=Ys(i)}return e})),i||(i=a&&(a.getDimensionsInfo?a.getDimensionsInfo():a.dimensions.slice())||["x","y"]);var s,l,u=kA(t,{"coordDimensions":i,"generateCoord":n.generateCoord});r&&d(u,function(t,e){var n=t.coordDim,i=r.categoryAxisMap.get(n);i&&(null==s&&(s=e),t.ordinalMeta=i.getOrdinalMeta()),null!=t.otherDims.itemName&&(l=!0)}),l||null==s||(u[s].otherDims.itemName=0);var h=dl(e,u),c=new DA(u,e);c.setCalculationInfo(h);var p=null!=s&&function ml(t){if(t.sourceFormat===_I){var e=function vl(t){for(var e=0;e<t.length&&null==t[e];)e++;return t[e]}(t.data||[]);return null!=e&&!y(Li(e))}}(t)?function(t,e,n,i){return i===s?n:this.defaultDimValueGetter(t,e,n,i)}:null;return c.hasItemOption=!1,c.initData(t,null,p),c}function yl(t){this._setting=t||{},this._extent=[1/0,-1/0],this._interval=0,this.init&&this.init.apply(this,arguments)}function xl(t){this.categories=t.categories||[],this._needCollect=t.needCollect,this._deduplication=t.deduplication,this._map}function _l(t){return t._map||(t._map=R(t.categories))}function wl(t){return w(t)&&null!=t.value?t.value:t+""}function Sl(t){return Wo(t)+2}function Ml(t,e,n){t[e]=Math.max(Math.min(t[e],n[1]),n[0])}function Il(t,e){!isFinite(t[0])&&(t[0]=e[0]),!isFinite(t[1])&&(t[1]=e[1]),Ml(t,0,e),Ml(t,1,e),t[0]>t[1]&&(t[0]=t[1])}function Al(t){return t.get("stack")||BA+t.seriesIndex}function Dl(t){return t.dim+t.index}function Ll(t,e){var n=[];return e.eachSeriesByType(t,function(t){El(t)&&!Rl(t)&&n.push(t)}),n}function kl(t){var e=[];return d(t,function(t){var n=t.getData(),i=t.coordinateSystem.getBaseAxis(),o=i.getExtent(),a="category"===i.type?i.getBandWidth():Math.abs(o[1]-o[0])/n.count(),r=Bo(t.get("barWidth"),a),s=Bo(t.get("barMaxWidth"),a),l=t.get("barGap"),u=t.get("barCategoryGap");e.push({"bandWidth":a,"barWidth":r,"barMaxWidth":s,"barGap":l,"barCategoryGap":u,"axisKey":Dl(i),"stackId":Al(t)})}),Pl(e)}function Pl(t){var e={};d(t,function(t,n){var i=t.axisKey,o=t.bandWidth,a=e[i]||{"bandWidth":o,"remainedWidth":o,"autoWidthCount":0,"categoryGap":"20%","gap":"30%","stacks":{}},r=a.stacks;e[i]=a;var s=t.stackId;r[s]||a.autoWidthCount++,r[s]=r[s]||{"width":0,"maxWidth":0};var l=t.barWidth;l&&!r[s].width&&(r[s].width=l,l=Math.min(a.remainedWidth,l),a.remainedWidth-=l);var u=t.barMaxWidth;u&&(r[s].maxWidth=u);var h=t.barGap;null!=h&&(a.gap=h);var c=t.barCategoryGap;null!=c&&(a.categoryGap=c)});var n={};return d(e,function(t,e){n[e]={};var i=t.stacks,o=t.bandWidth,a=Bo(t.categoryGap,o),r=Bo(t.gap,1),s=t.remainedWidth,l=t.autoWidthCount,u=(s-a)/(l+(l-1)*r);u=Math.max(u,0),d(i,function(t,e){var n=t.maxWidth;n&&n<u&&(n=Math.min(n,s),t.width&&(n=Math.min(n,t.width)),s-=n,t.width=n,l--)}),u=(s-a)/(l+(l-1)*r),u=Math.max(u,0);var h,c=0;d(i,function(t,e){t.width||(t.width=u),h=t,c+=t.width*(1+r)}),h&&(c-=h.width*r);var f=-c/2;d(i,function(t,i){n[e][i]=n[e][i]||{"offset":f,"width":t.width},f+=t.width*(1+r)})}),n}function Nl(t,e,n){if(t&&e){var i=t[Dl(e)];return null!=i&&null!=n&&(i=i[Al(n)]),i}}function Ol(t,e){var n=Ll(t,e),i=kl(n),o={};d(n,function(t){var e=t.getData(),n=t.coordinateSystem,a=n.getBaseAxis(),r=Al(t),s=i[Dl(a)][r],l=s.offset,u=s.width,h=n.getOtherAxis(a),c=t.get("barMinHeight")||0;o[r]=o[r]||[],e.setLayout({"offset":l,"size":u});for(var d=e.mapDimension(h.dim),f=e.mapDimension(a.dim),p=fl(e,d),g=h.isHorizontal(),m=zl(a,h,p),v=0,y=e.count();v<y;v++){var x=e.get(d,v),_=e.get(f,v);if(!isNaN(x)){var b,w,S,M,I=x>=0?"p":"n",T=m;if(p&&(o[r][_]||(o[r][_]={"p":m,"n":m}),T=o[r][_][I]),g)b=T,w=(A=n.dataToPoint([x,_]))[1]+l,S=A[0]-m,M=u,Math.abs(S)<c&&(S=(S<0?-1:1)*c),p&&(o[r][_][I]+=S);else{var A=n.dataToPoint([_,x]);b=A[0]+l,w=T,S=u,M=A[1]-m,Math.abs(M)<c&&(M=(M<=0?-1:1)*c),p&&(o[r][_][I]+=M)}e.setItemLayout(v,{"x":b,"y":w,"width":S,"height":M})}}},this)}function El(t){return t.coordinateSystem&&"cartesian2d"===t.coordinateSystem.type}function Rl(t){return t.pipelineContext&&t.pipelineContext.large}function zl(t,e,n){var i,o,a=e.getGlobalExtent();a[0]>a[1]?(i=a[1],o=a[0]):(i=a[0],o=a[1]);var r=e.toGlobalCoord(e.dataToCoord(0));return r<i&&(r=i),r>o&&(r=o),r}function Bl(t,e){return qA(t,YA(e))}function Vl(t,e){var n,i,o,a=t.type,r=e.getMin(),s=e.getMax(),l=null!=r,u=null!=s,h=t.getExtent();"ordinal"===a?n=e.getCategories().length:(y(i=e.get("boundaryGap"))||(i=[i||0,i||0]),"boolean"==typeof i[0]&&(i=[0,0]),i[0]=Bo(i[0],1),i[1]=Bo(i[1],1),o=h[1]-h[0]||Math.abs(h[0])),null==r&&(r="ordinal"===a?n?0:NaN:h[0]-i[0]*o),null==s&&(s="ordinal"===a?n?n-1:NaN:h[1]+i[1]*o),"dataMin"===r?r=h[0]:"function"==typeof r&&(r=r({"min":h[0],"max":h[1]})),"dataMax"===s?s=h[1]:"function"==typeof s&&(s=s({"min":h[0],"max":h[1]})),(null==r||!isFinite(r))&&(r=NaN),(null==s||!isFinite(s))&&(s=NaN),t.setBlank(I(r)||I(s)||"ordinal"===a&&!t.getOrdinalMeta().categories.length),e.getNeedCrossZero()&&(r>0&&s>0&&!l&&(r=0),r<0&&s<0&&!u&&(s=0));var c=e.ecModel;if(c&&"time"===a){var f,p=Ll("bar",c);if(d(p,function(t){f|=t.getBaseAxis()===e.axis}),f){var g=kl(p),m=function Gl(t,e,n,i){var o=n.axis.getExtent(),a=o[1]-o[0],r=Nl(i,n.axis);if(void 0===r)return{"min":t,"max":e};var s=1/0;d(r,function(t){s=Math.min(t.offset,s)});var l=-1/0;d(r,function(t){l=Math.max(t.offset+t.width,l)}),s=Math.abs(s),l=Math.abs(l);var u=s+l,h=e-t,c=h/(1-(s+l)/a)-h;return{"min":t-=c*(s/u),"max":e+=c*(l/u)}}(r,s,e,g);r=m.min,s=m.max}}return[r,s]}function Fl(t,e){var n=Vl(t,e),i=null!=e.getMin(),o=null!=e.getMax(),a=e.get("splitNumber");"log"===t.type&&(t.base=e.get("logBase"));var r=t.type;t.setExtent(n[0],n[1]),t.niceExtent({"splitNumber":a,"fixMin":i,"fixMax":o,"minInterval":"interval"===r||"time"===r?e.get("minInterval"):null,"maxInterval":"interval"===r||"time"===r?e.get("maxInterval"):null});var s=e.get("interval");null!=s&&t.setInterval&&t.setInterval(s)}function Wl(t,e){if(e=e||t.get("type"))switch(e){case"category":return new RA(t.getOrdinalMeta?t.getOrdinalMeta():t.getCategories(),[1/0,-1/0]);case"value":return new zA;default:return(yl.getClass(e)||zA).create(t)}}function Zl(t){var e=t.getLabelModel().get("formatter"),n="category"===t.type?t.scale.getExtent()[0]:null;return"string"==typeof e?e=function(e){return function(n){return n=t.scale.getLabel(n),e.replace("{value}",null!=n?n:"")}}(e):"function"==typeof e?function(i,o){return null!=n&&(o=i-n),e(Ul(t,i),o)}:function(e){return t.scale.getLabel(e)}}function Ul(t,e){return"category"===t.type?t.scale.getLabel(e):e}function jl(t,e){var n=e*Math.PI/180,i=t.plain(),o=i.width,a=i.height,r=o*Math.cos(n)+a*Math.sin(n),s=o*Math.sin(n)+a*Math.cos(n);return new de(i.x,i.y,r,s)}function Yl(t){var e=t.get("interval");return null==e?"auto":e}function ql(t){return"category"===t.type&&0===Yl(t.getLabelModel())}function Kl(t,e){if("image"!==this.type){var n=this.style,i=this.shape;i&&"line"===i.symbolType?n.stroke=t:this.__isEmptyBrush?(n.stroke=t,n.fill=e||"#fff"):(n.fill&&(n.fill=t),n.stroke&&(n.stroke=t)),this.dirty(!1)}}function $l(t,e,n,i,o,a,r){var s,l=0===t.indexOf("empty");return l&&(t=t.substr(5,1).toLowerCase()+t.substr(6)),(s=0===t.indexOf("image://")?Xn(t.slice(8),new de(e,n,i,o),r?"center":"cover"):0===t.indexOf("path://")?Un(t.slice(7),{},new de(e,n,i,o),r?"center":"cover"):new uD({"shape":{"symbolType":t,"x":e,"y":n,"width":i,"height":o}})).__isEmptyBrush=l,s.setColor=Kl,s.setColor(a),s}function Jl(t,e){return Math.abs(t-e)<dD}function Ql(t,e,n){var i=0,o=t[0];if(!o)return!1;for(var a=1;a<t.length;a++){var r=t[a];i+=bn(o[0],o[1],r[0],r[1],e,n),o=r}var s=t[0];return Jl(o[0],s[0])&&Jl(o[1],s[1])||(i+=bn(o[0],o[1],s[0],s[1],e,n)),0!==i}function tu(t,e,n){if(this.name=t,this.geometries=e,n)n=[n[0],n[1]];else{var i=this.getBoundingRect();n=[i.x+i.width/2,i.y+i.height/2]}this.center=n}function iu(t,e,n){for(var i=[],o=e[0],a=e[1],r=0;r<t.length;r+=2){var s=t.charCodeAt(r)-64,l=t.charCodeAt(r+1)-64;s=s>>1^-(1&s),l=l>>1^-(1&l),o=s+=o,a=l+=a,i.push([s/n,l/n])}return i}function nu(t){return"category"===t.type?function au(t){var e=t.getLabelModel(),n=ru(t,e);return!e.get("show")||t.scale.isBlank()?{"labels":[],"labelCategoryInterval":n.labelCategoryInterval}:n}(t):function lu(t){var e=t.scale.getTicks(),n=Zl(t);return{"labels":f(e,function(e,i){return{"formattedLabel":n(e,i),"rawLabel":t.scale.getLabel(e),"tickValue":e}})}}(t)}function ou(t,e){return"category"===t.type?function su(t,e){var n,i,o=uu(t,"ticks"),a=Yl(e),r=hu(o,a);if(r)return r;if(e.get("show")&&!t.scale.isBlank()||(n=[]),x(a))n=mu(t,a,!0);else if("auto"===a){var s=ru(t,t.getLabelModel());i=s.labelCategoryInterval,n=f(s.labels,function(t){return t.tickValue})}else n=gu(t,i=a,!0);return cu(o,a,{"ticks":n,"tickCategoryInterval":i})}(t,e):{"ticks":t.scale.getTicks()}}function ru(t,e){var n,i=uu(t,"labels"),o=Yl(e),a=hu(i,o);return a||cu(i,o,{"labels":x(o)?mu(t,o):gu(t,n="auto"===o?function du(t){var e=gD(t).autoInterval;return null!=e?e:gD(t).autoInterval=t.calculateCategoryInterval()}(t):o),"labelCategoryInterval":n})}function uu(t,e){return gD(t)[e]||(gD(t)[e]=[])}function hu(t,e){for(var n=0;n<t.length;n++)if(t[n].key===e)return t[n].value}function cu(t,e,n){return t.push({"key":e,"value":n}),n}function gu(t,e,i){function n(t){l.push(i?t:{"formattedLabel":o(t),"rawLabel":a.getLabel(t),"tickValue":t})}var o=Zl(t),a=t.scale,r=a.getExtent(),s=t.getLabelModel(),l=[],u=Math.max((e||0)+1,1),h=r[0],c=a.count();0!==h&&u>1&&c/u>2&&(h=Math.round(Math.ceil(h/u)*u));var d=ql(t),f=s.get("showMinLabel")||d,p=s.get("showMaxLabel")||d;f&&h!==r[0]&&n(r[0]);for(var g=h;g<=r[1];g+=u)n(g);return p&&g!==r[1]&&n(r[1]),l}function mu(t,e,n){var i=t.scale,o=Zl(t),a=[];return d(i.getTicks(),function(t){var r=i.getLabel(t);e(t,r)&&a.push(n?t:{"formattedLabel":o(t),"rawLabel":r,"tickValue":t})}),a}function vu(t,e){var n=(t[1]-t[0])/e/2;t[0]+=n,t[1]-=n}function xu(t,e){var n=t.mapDimension("defaultedLabel",!0),i=n.length;if(1===i)return dr(t,e,n[0]);if(i){for(var o=[],a=0;a<n.length;a++){var r=dr(t,e,n[a]);o.push(r)}return o.join(" ")}}function _u(t,e,n){Zb.call(this),this.updateData(t,e,n)}function wu(t){return[t[0]/2,t[1]/2]}function bu(t,e){this.parent.drift(t,e)}function Su(){!ro(this)&&Iu.call(this)}function Mu(){!ro(this)&&Tu.call(this)}function Iu(){if(!this.incremental&&!this.useHoverLayer){var t=this.__symbolOriginalScale,e=t[1]/t[0];this.animateTo({"scale":[Math.max(1.1*t[0],t[0]+3),Math.max(1.1*t[1],t[1]+3*e)]},400,"elasticOut")}}function Tu(){this.incremental||this.useHoverLayer||this.animateTo({"scale":this.__symbolOriginalScale},400,"elasticOut")}function Au(t){this.group=new Zb,this._symbolCtor=t||_u}function Du(t,e,n,i){return e&&!isNaN(e[0])&&!isNaN(e[1])&&!(i.isIgnore&&i.isIgnore(n))&&!(i.clipShape&&!i.clipShape.contain(e[0],e[1]))&&"none"!==t.getItemVisual(n,"symbol")}function Cu(t){return null==t||w(t)||(t={"isIgnore":t}),t||{}}function Lu(t){var e=t.hostModel;return{"itemStyle":e.getModel("itemStyle").getItemStyle(["color"]),"hoverItemStyle":e.getModel("emphasis.itemStyle").getItemStyle(),"symbolRotate":e.get("symbolRotate"),"symbolOffset":e.get("symbolOffset"),"hoverAnimation":e.get("hoverAnimation"),"labelModel":e.getModel("label"),"hoverLabelModel":e.getModel("emphasis.label"),"cursorStyle":e.get("cursor")}}function ku(t,e,n){var i,o=t.getBaseAxis(),a=t.getOtherAxis(o),r=function Pu(t,e){var n=0,i=t.scale.getExtent();return"start"===e?n=i[0]:"end"===e?n=i[1]:i[0]>0?n=i[0]:i[1]<0&&(n=i[1]),n}(a,n),s=o.dim,l=a.dim,u=e.mapDimension(l),h=e.mapDimension(s),c="x"===l||"radius"===l?1:0,d=f(t.dimensions,function(t){return e.mapDimension(t)}),p=e.getCalculationInfo("stackResultDimension");return(i|=fl(e,d[0]))&&(d[0]=p),(i|=fl(e,d[1]))&&(d[1]=p),{"dataDimsForPoint":d,"valueStart":r,"valueAxisDim":l,"baseAxisDim":s,"stacked":!!i,"valueDim":u,"baseDim":h,"baseDataOffset":c,"stackedOverDimension":e.getCalculationInfo("stackedOverDimension")}}function Nu(t,e,n,i){var o=NaN;t.stacked&&(o=n.get(n.getCalculationInfo("stackedOverDimension"),i)),isNaN(o)&&(o=t.valueStart);var a=t.baseDataOffset,r=[];return r[a]=n.get(t.baseDim,i),r[1-a]=o,e.dataToPoint(r)}function Eu(t){return isNaN(t[0])||isNaN(t[1])}function Ru(t,e,n,i,o,a,r,s,l,u,h){return"none"!==u&&u?function zu(t,e,n,i,o,a,r,s,l,u,h){for(var c=0,d=n,f=0;f<i;f++){var p=e[d];if(d>=o||d<0)break;if(Eu(p)){if(h){d+=a;continue}break}if(d===n)t[a>0?"moveTo":"lineTo"](p[0],p[1]);else if(l>0){var g=e[c],m="y"===u?1:0,v=(p[m]-g[m])*l;RD(ED,g),ED[m]=g[m]+v,RD(zD,p),zD[m]=p[m]-v,t.bezierCurveTo(ED[0],ED[1],zD[0],zD[1],p[0],p[1])}else t.lineTo(p[0],p[1]);c=d,d+=a}return f}.apply(this,arguments):function Bu(t,e,n,i,o,a,r,s,l,u,h){for(var c=0,d=n,f=0;f<i;f++){var p=e[d];if(d>=o||d<0)break;if(Eu(p)){if(h){d+=a;continue}break}if(d===n)t[a>0?"moveTo":"lineTo"](p[0],p[1]),RD(ED,p);else if(l>0){var g=d+a,m=e[g];if(h)for(;m&&Eu(e[g]);)m=e[g+=a];var v=.5,y=e[c];if(!(m=e[g])||Eu(m))RD(zD,p);else{var x,_;if(Eu(m)&&!h&&(m=p),U(ND,m,y),"x"===u||"y"===u){var b="x"===u?0:1;x=Math.abs(p[b]-y[b]),_=Math.abs(p[b]-m[b])}else x=q_(p,y),_=q_(p,m);OD(zD,p,ND,-l*(1-(v=_/(_+x))))}LD(ED,ED,s),kD(ED,ED,r),LD(zD,zD,s),kD(zD,zD,r),t.bezierCurveTo(ED[0],ED[1],zD[0],zD[1],p[0],p[1]),OD(ED,p,ND,l*v)}else t.lineTo(p[0],p[1]);c=d,d+=a}return f}.apply(this,arguments)}function Vu(t,e){var n=[1/0,1/0],i=[-1/0,-1/0];if(e)for(var o=0;o<t.length;o++){var a=t[o];a[0]<n[0]&&(n[0]=a[0]),a[1]<n[1]&&(n[1]=a[1]),a[0]>i[0]&&(i[0]=a[0]),a[1]>i[1]&&(i[1]=a[1])}return{"min":e?n:i,"max":e?i:n}}function Gu(t,e){if(t.length===e.length){for(var n=0;n<t.length;n++){var i=t[n],o=e[n];if(i[0]!==o[0]||i[1]!==o[1])return}return!0}}function Fu(t){return"number"==typeof t?t:t?.5:0}function Wu(t){var e=t.getGlobalExtent();if(t.onBand){var n=t.getBandWidth()/2-1,i=e[1]>e[0]?1:-1;e[0]+=i*n,e[1]-=i*n}return e}function Xu(t,e,n,i){return"polar"===t.type?function Uu(t,e,n,i){var o=t.getAngleAxis(),a=t.getRadiusAxis().getExtent().slice();a[0]>a[1]&&a.reverse();var r=o.getExtent(),s=Math.PI/180;n&&(a[0]-=.5,a[1]+=.5);var l=new fM({"shape":{"cx":Vo(t.cx,1),"cy":Vo(t.cy,1),"r0":Vo(a[0],1),"r":Vo(a[1],1),"startAngle":-r[0]*s,"endAngle":-r[1]*s,"clockwise":o.inverse}});return e&&(l.shape.endAngle=-r[0]*s,Io(l,{"shape":{"endAngle":-r[1]*s}},i)),l}(t,e,n,i):function Zu(t,e,n,i){var o=Wu(t.getAxis("x")),a=Wu(t.getAxis("y")),r=t.getBaseAxis().isHorizontal(),s=Math.min(o[0],o[1]),l=Math.min(a[0],a[1]),u=Math.max(o[0],o[1])-s,h=Math.max(a[0],a[1])-l;if(n)s-=.5,u+=.5,l-=.5,h+=.5;else{var c=i.get("lineStyle.width")||2,d=i.get("clipOverflow")?c/2:Math.max(u,h);r?(l-=d,h+=2*d):(s-=d,u+=2*d)}var f=new bM({"shape":{"x":s,"y":l,"width":u,"height":h}});return e&&(f.shape[r?"width":"height"]=0,Io(f,{"shape":{"width":u,"height":h}},i)),f}(t,e,n,i)}function ju(t,e,n){for(var i=e.getBaseAxis(),o="x"===i.dim||"radius"===i.dim?0:1,a=[],r=0;r<t.length-1;r++){var s=t[r+1],l=t[r];a.push(l);var u=[];switch(n){case"end":u[o]=s[o],u[1-o]=l[1-o],a.push(u);break;case"middle":var h=(l[o]+s[o])/2,c=[];u[o]=c[o]=h,u[1-o]=l[1-o],c[1-o]=s[1-o],a.push(u),a.push(c);break;default:u[o]=l[o],u[1-o]=s[1-o],a.push(u)}}return t[r]&&a.push(t[r]),a}function Yu(t,e){var n=t.getVisual("visualMeta");if(n&&n.length&&t.count()&&"cartesian2d"===e.type){for(var i,o,a=n.length-1;a>=0;a--){var r=n[a].dimension,s=t.dimensions[r],l=t.getDimensionInfo(s);if("x"===(i=l&&l.coordDim)||"y"===i){o=n[a];break}}if(o){var u=e.getAxis(i),h=f(o.stops,function(t){return{"coord":u.toGlobalCoord(u.dataToCoord(t.value)),"color":t.color}}),c=h.length,p=o.outerColors.slice();c&&h[0].coord>h[c-1].coord&&(h.reverse(),p.reverse());var g=h[0].coord-10,m=h[c-1].coord+10,v=m-g;if(v<.001)return"transparent";d(h,function(t){t.offset=(t.coord-g)/v}),h.push({"offset":c?h[c-1].offset:.5,"color":p[1]||"transparent"}),h.unshift({"offset":c?h[0].offset:.5,"color":p[0]||"transparent"});var y=new kM(0,0,0,0,h,!0);return y[i]=g,y[i+"2"]=m,y}}}function qu(t,e,n){var i=t.get("showAllSymbol"),o="auto"===i;if(!i||o){var a=n.getAxesByScale("ordinal")[0];if(a&&(!o||!function Ku(t,e){var n=t.getExtent(),i=Math.abs(n[1]-n[0])/t.scale.count();isNaN(i)&&(i=0);for(var o=e.count(),a=Math.max(1,Math.round(o/5)),r=0;r<o;r+=a)if(1.5*_u.getSymbolSize(e,r)[t.isHorizontal()?1:0]>i)return!1;return!0}(a,e))){var r=e.mapDimension(a.dim),s={};return d(a.getViewLabels(),function(t){s[t.tickValue]=1}),function(t){return!s.hasOwnProperty(e.get(r,t))}}}}function $u(t){return this._axes[t]}function Ju(t){ZD.call(this,t)}function Qu(t,e){return e.type||(e.data?"category":"value")}function th(t,e,n){return t.getCoordSysModel()===e}function eh(t,e,n){this._coordsMap={},this._coordsList=[],this._axesMap={},this._axesList=[],this._initCartesian(t,e,n),this.model=t}function ih(t,e,n,i){function o(t){return t.dim+"_"+t.index}n.getAxesOnZeroOf=function(){return a?[a]:[]};var a,r=t[e],s=n.model,l=s.get("axisLine.onZero"),u=s.get("axisLine.onZeroAxisIndex");if(l){if(null!=u)nh(r[u])&&(a=r[u]);else for(var h in r)if(r.hasOwnProperty(h)&&nh(r[h])&&!i[o(r[h])]){a=r[h];break}a&&(i[o(a)]=!0)}}function nh(t){return t&&"category"!==t.type&&"time"!==t.type&&function Hl(t){var e=t.scale.getExtent(),n=e[0],i=e[1];return!(n>0&&i>0||n<0&&i<0)}(t)}function ah(t,e){return f(tC,function(e){return t.getReferringComponents(e)[0]})}function rh(t){return"cartesian2d"===t.get("coordinateSystem")}function sh(t){var e={"componentType":t.mainType,"componentIndex":t.componentIndex};return e[t.mainType+"Index"]=t.componentIndex,e}function uh(t){var e=t.get("tooltip");return t.get("silent")||!(t.get("triggerEvent")||e&&e.show)}function ch(t){t&&(t.ignore=!0)}function dh(t,e,n){var i=t&&t.getBoundingRect().clone(),o=e&&e.getBoundingRect().clone();if(i&&o){var a=_t([]);return Mt(a,a,-t.rotation),i.applyTransform(bt([],a,t.getLocalTransform())),o.applyTransform(bt([],a,e.getLocalTransform())),i.intersect(o)}}function fh(t){return"middle"===t||"center"===t}function mh(t,e){var n={"axesInfo":{},"seriesInvolved":!1,"coordSysAxesInfo":{},"coordSysMap":{}};return function vh(t,e,n){var i=e.getComponent("tooltip"),o=e.getComponent("axisPointer"),a=o.get("link",!0)||[],r=[];uC(n.getCoordinateSystems(),function(n){function s(i,s,l){var c=l.model.getModel("axisPointer",o),d=c.get("show");if(d&&("auto"!==d||i||Ih(c))){null==s&&(s=c.get("triggerTooltip"));var f=(c=i?yh(l,h,o,e,i,s):c).get("snap"),p=Th(l.model),g=s||f||"category"===l.type,m=t.axesInfo[p]={"key":p,"axis":l,"coordSys":n,"axisPointerModel":c,"triggerTooltip":s,"involveSeries":g,"snap":f,"useHandle":Ih(c),"seriesModels":[]};u[p]=m,t.seriesInvolved|=g;var v=function _h(t,e){for(var n=e.model,i=e.dim,o=0;o<t.length;o++){var a=t[o]||{};if(wh(a[i+"AxisId"],n.id)||wh(a[i+"AxisIndex"],n.componentIndex)||wh(a[i+"AxisName"],n.name))return o}}(a,l);if(null!=v){var y=r[v]||(r[v]={"axesInfo":{}});y.axesInfo[p]=m,y.mapper=a[v].mapper,m.linkGroup=y}}}if(n.axisPointerEnabled){var l=Th(n.model),u=t.coordSysAxesInfo[l]={};t.coordSysMap[l]=n;var h=n.model.getModel("tooltip",i);if(uC(n.getAxes(),hC(s,!1,null)),n.getTooltipAxes&&i&&h.get("show")){var c="axis"===h.get("trigger"),d="cross"===h.get("axisPointer.type"),f=n.getTooltipAxes(h.get("axisPointer.axis"));(c||d)&&uC(f.baseAxes,hC(s,!d||"cross",c)),d&&uC(f.otherAxes,hC(s,"cross",!1))}}})}(n,t,e),n.seriesInvolved&&function xh(t,e){e.eachSeries(function(e){var n=e.coordinateSystem,i=e.get("tooltip.trigger",!0),o=e.get("tooltip.show",!0);n&&"none"!==i&&!1!==i&&"item"!==i&&!1!==o&&!1!==e.get("axisPointer.show",!0)&&uC(t.coordSysAxesInfo[Th(n.model)],function(t){var i=t.axis;n.getAxis(i.dim)===i&&(t.seriesModels.push(e),null==t.seriesDataCount&&(t.seriesDataCount=0),t.seriesDataCount+=e.getData().count())})},this)}(n,t),n}function yh(t,e,n,o,a,s){var l=e.getModel("axisPointer"),u={};uC(["type","snap","lineStyle","shadowStyle","label","animation","animationDurationUpdate","animationEasingUpdate","z"],function(t){u[t]=i(l.get(t))}),u.snap="category"!==t.type&&!!s,"cross"===l.get("type")&&(u.type="line");var h=u.label||(u.label={});if(null==h.show&&(h.show=!1),"cross"===a){var c=l.get("label.show");if(h.show=null==c||c,!s){var d=u.lineStyle=l.get("crossStyle");d&&r(h,d.textStyle)}}return t.model.getModel("axisPointer",new Po(u,n,o))}function wh(t,e){return"all"===t||y(t)&&l(t,e)>=0||t===e}function Sh(t){var e=(t.ecModel.getComponent("axisPointer")||{}).coordSysAxesInfo;return e&&e.axesInfo[Th(t)]}function Ih(t){return!!t.get("handle.show")}function Th(t){return t.type+"||"+t.id}function Ah(t,e,n,i,o,a){var r=cC.getAxisPointerClass(t.axisPointerClass);if(r){var s=function Mh(t){var e=Sh(t);return e&&e.axisPointerModel}(e);s?(t._axisPointer||(t._axisPointer=new r)).render(e,s,i,a):Dh(t,i)}}function Dh(t,e,n){var i=t._axisPointer;i&&i.dispose(e,n),t._axisPointer=null}function Ch(t,e,n){n=n||{};var i=t.coordinateSystem,o=e.axis,a={},r=o.getAxesOnZeroOf()[0],s=o.position,l=r?"onZero":s,u=o.dim,h=i.getRect(),c=[h.x,h.x+h.width,h.y,h.y+h.height],d={"left":0,"right":1,"top":0,"bottom":1,"onZero":2},f=e.get("offset")||0,p="x"===u?[c[2]-f,c[3]+f]:[c[0]-f,c[1]+f];if(r){var g=r.toGlobalCoord(r.dataToCoord(0));p[d.onZero]=Math.max(Math.min(g,p[1]),p[0])}a.position=["y"===u?p[d[l]]:c[0],"x"===u?p[d[l]]:c[3]],a.rotation=Math.PI/2*("x"===u?0:1),a.labelDirection=a.tickDirection=a.nameDirection={"top":-1,"bottom":1,"left":-1,"right":1}[s],a.labelOffset=r?p[d[s]]-p[d.onZero]:0,e.get("axisTick.inside")&&(a.tickDirection=-a.tickDirection),T(n.labelInside,e.get("axisLabel.inside"))&&(a.labelDirection=-a.labelDirection);var m=e.get("axisLabel.rotate");return a.labelRotate="top"===l?-m:m,a.z2=1,a}function Lh(t,e,n,i,o,a,r){po(t,e,n.getModel("label"),n.getModel("emphasis.label"),{"labelFetcher":o,"labelDataIndex":a,"defaultText":xu(o.getData(),a),"isRectText":!0,"autoColor":i}),kh(t),kh(e)}function kh(t,e){"outside"===t.textPosition&&(t.textPosition=e)}function Ph(t,e,n){n.style.text=null,Mo(n,{"shape":{"width":0}},e,t,function(){n.parent&&n.parent.remove(n)})}function Nh(t,e,n){n.style.text=null,Mo(n,{"shape":{"r":n.shape.r0}},e,t,function(){n.parent&&n.parent.remove(n)})}function Oh(t,e,n,i,o,a,s,l){var u=e.getItemVisual(n,"color"),h=e.getItemVisual(n,"opacity"),c=i.getModel("itemStyle"),d=i.getModel("emphasis.itemStyle").getBarItemStyle();l||t.setShape("r",c.get("barBorderRadius")||0),t.useStyle(r({"fill":u,"opacity":h},c.getBarItemStyle()));var f=i.getShallow("cursor");f&&t.attr("cursor",f);s?o.height:o.width;l||Lh(t.style,d,i,u,a,n),co(t,d)}function Rh(t,e,n){var i=t.getData(),o=[],a=i.getLayout("valueAxisHorizontal")?1:0;o[1-a]=i.getLayout("valueAxisStart");var r=new IC({"shape":{"points":i.getLayout("largePoints")},"incremental":!!n,"__startPoint":o,"__valueIdx":a});e.add(r),function zh(t,e,n){var i=n.getVisual("borderColor")||n.getVisual("color"),o=e.getModel("itemStyle").getItemStyle(["color","borderColor"]);t.useStyle(o),t.style.fill=null,t.style.stroke=i,t.style.lineWidth=n.getLayout("barWidth")}(r,t,i)}function Bh(t,e,n,i){var o=e.getData(),a=this.dataIndex,r=o.getName(a),s=e.get("selectedOffset");i.dispatchAction({"type":"pieToggleSelect","from":t,"name":r,"seriesId":e.id}),o.each(function(t){Vh(o.getItemGraphicEl(t),o.getItemLayout(t),e.isSelected(o.getName(t)),s,n)})}function Vh(t,e,n,i,o){var a=(e.startAngle+e.endAngle)/2,r=Math.cos(a),s=Math.sin(a),l=n?i:0,u=[r*l,s*l];o?t.animate().when(200,{"position":u}).start("bounceOut"):t.attr("position",u)}function Gh(t,e){function i(){a.ignore=a.hoverIgnore,r.ignore=r.hoverIgnore}function n(){a.ignore=a.normalIgnore,r.ignore=r.normalIgnore}Zb.call(this);var o=new fM({"z2":2}),a=new yM,r=new rM;this.add(o),this.add(a),this.add(r),this.updateData(t,e,!0),this.on("emphasis",i).on("normal",n).on("mouseover",i).on("mouseout",n)}function Fh(t,e,n,i,o,a,r){function s(e,n){for(var i=e;i>=0&&(t[i].y-=n,!(i>0&&t[i].y>t[i-1].y+t[i-1].height));i--);}function l(t,e,n,i,o,a){for(var r=e?Number.MAX_VALUE:0,s=0,l=t.length;s<l;s++){var u=Math.abs(t[s].y-i),h=t[s].len,c=t[s].len2,d=u<o+h?Math.sqrt((o+h+c)*(o+h+c)-u*u):Math.abs(t[s].x-n);e&&d>=r&&(d=r-10),!e&&d<=r&&(d=r+10),t[s].x=n+d*a,r=d}}t.sort(function(t,e){return t.y-e.y});for(var u,h=0,c=t.length,d=[],f=[],p=0;p<c;p++)(u=t[p].y-h)<0&&function(e,n,i,o){for(var a=e;a<n;a++)if(t[a].y+=i,a>e&&a+1<n&&t[a+1].y>t[a].y+t[a].height)return void s(a,i/2);s(n-1,i/2)}(p,c,-u),h=t[p].y+t[p].height;for(r-h<0&&s(c-1,h-r),p=0;p<c;p++)t[p].y>=n?f.push(t[p]):d.push(t[p]);l(d,!1,e,n,i,o),l(f,!0,e,n,i,o)}function Hh(t){return"center"===t.position}function Zh(){this.group=new Zb}function Uh(t,e,n){vD.call(this,t,e,n),this.type="value",this.angle=0,this.name="",this.model}function Xh(t,e,n){this._model=t,this.dimensions=[],this._indicatorAxes=f(t.getIndicatorModels(),function(t,e){var n="indicator_"+e,i=new Uh(n,new zA);return i.name=t.get("name"),i.model=t,t.axis=i,this.dimensions.push(n),i},this),this.resize(t,n),this.cx,this.cy,this.r,this.r0,this.startAngle}function jh(t,e){return r({"show":e},t)}function Kh(t,e){var n,i,o=t.svgXML;try{k(null!=(i=(n=o&&function as(t,e){return(new Kr).parse(t,e)}(o,{"ignoreViewBox":!0,"ignoreRootClip":!0})||{}).root))}catch(t){throw new Error("Invalid svg format\n"+t.message)}var a=n.width,r=n.height,s=n.viewBoxRect;if(e||(e=null==a||null==r?i.getBoundingRect():new de(0,0,0,0),null!=a&&(e.width=a),null!=r&&(e.height=r)),s){var l=os(s,e.width,e.height),u=i;(i=new Zb).add(u),u.scale=l.scale,u.position=l.position}return i.setClipPath(new bM({"shape":e.plain()})),{"root":i,"boundingRect":e}}function $h(t){return function(e,n){var i=[];return d(Jh(e),function(o){var a=QC[o.type][t];a&&i.push(a(e,o,n))}),i}}function Jh(t){return VT.retrieveMap(t)||[]}function ec(t,e){return!!ic(t)[e]}function ic(t){return t[tL]||(t[tL]={})}function nc(t){this.pointerChecker,this._zr=t,this._opt={};var e=m,n=e(oc,this),o=e(ac,this),a=e(rc,this),s=e(sc,this),l=e(lc,this);J_.call(this),this.setPointerChecker=function(t){this.pointerChecker=t},this.enable=function(e,u){this.disable(),this._opt=r(i(u)||{},{"zoomOnMouseWheel":!0,"moveOnMouseMove":!0,"moveOnMouseWheel":!1,"preventDefaultMouseMove":!0}),null==e&&(e=!0),!0!==e&&"move"!==e&&"pan"!==e||(t.on("mousedown",n),t.on("mousemove",o),t.on("mouseup",a)),!0!==e&&"scale"!==e&&"zoom"!==e||(t.on("mousewheel",s),t.on("pinch",l))},this.disable=function(){t.off("mousedown",n),t.off("mousemove",o),t.off("mouseup",a),t.off("mousewheel",s),t.off("pinch",l)},this.dispose=this.disable,this.isDragging=function(){return this._dragging},this.isPinching=function(){return this._pinching}}function oc(t){if(!(dt(t)||t.target&&t.target.draggable)){var e=t.offsetX,n=t.offsetY;this.pointerChecker&&this.pointerChecker(t,e,n)&&(this._x=e,this._y=n,this._dragging=!0)}}function ac(t){if(this._dragging&&cc("moveOnMouseMove",t,this._opt)&&"pinch"!==t.gestureEvent&&!ec(this._zr,"globalPan")){var e=t.offsetX,n=t.offsetY,i=this._x,o=this._y,a=e-i,r=n-o;this._x=e,this._y=n,this._opt.preventDefaultMouseMove&&ib(t.event),hc(this,"pan","moveOnMouseMove",t,{"dx":a,"dy":r,"oldX":i,"oldY":o,"newX":e,"newY":n})}}function rc(t){dt(t)||(this._dragging=!1)}function sc(t){var e=cc("zoomOnMouseWheel",t,this._opt),n=cc("moveOnMouseWheel",t,this._opt),i=t.wheelDelta,o=Math.abs(i),a=t.offsetX,r=t.offsetY;if(0!==i&&(e||n)){if(e){var s=o>3?1.4:o>1?1.2:1.1;uc(this,"zoom","zoomOnMouseWheel",t,{"scale":i>0?s:1/s,"originX":a,"originY":r})}if(n){var l=Math.abs(i);uc(this,"scrollMove","moveOnMouseWheel",t,{"scrollDelta":(i>0?1:-1)*(l>3?.4:l>1?.15:.05),"originX":a,"originY":r})}}}function lc(t){ec(this._zr,"globalPan")||uc(this,"zoom",null,t,{"scale":t.pinchScale>1?1.1:1/1.1,"originX":t.pinchX,"originY":t.pinchY})}function uc(t,e,n,i,o){t.pointerChecker&&t.pointerChecker(i,o.originX,o.originY)&&(ib(i.event),hc(t,e,n,i,o))}function hc(t,e,n,i,o){o.isAvailableBehavior=m(cc,null,n,i),t.trigger(e,o)}function cc(t,e,n){var i=n[t];return!t||i&&(!_(i)||e.event[i+"Key"])}function dc(t,e,n){var i=t.target,o=i.position;o[0]+=e,o[1]+=n,i.dirty()}function fc(t,e,n,i){var o=t.target,a=t.zoomLimit,r=o.position,s=o.scale,l=t.zoom=t.zoom||1;if(l*=e,a){var u=a.min||0,h=a.max||1/0;l=Math.max(Math.min(h,l),u)}var c=l/t.zoom;t.zoom=l,r[0]-=(n-r[0])*(c-1),r[1]-=(i-r[1])*(c-1),s[0]*=c,s[1]*=c,o.dirty()}function pc(t,e,n){var i=e.getComponentByElement(t.topTarget),o=i&&i.coordinateSystem;return i&&i!==n&&!nL[i.mainType]&&o&&o.model!==n}function gc(t,e){var n=t.getItemStyle(),i=t.get("areaColor");return null!=i&&(n.fill=i),n}function mc(t,e,n,i,o){n.off("click"),n.off("mousedown"),e.get("selectedMode")&&(n.on("mousedown",function(){t._mouseDownFlag=!0}),n.on("click",function(a){if(t._mouseDownFlag){t._mouseDownFlag=!1;for(var r=a.target;!r.__regions;)r=r.parent;if(r){var s={"type":("geo"===e.mainType?"geo":"map")+"ToggleSelect","batch":f(r.__regions,function(t){return{"name":t.name,"from":o.uid}})};s[e.mainType+"Id"]=e.id,i.dispatchAction(s),vc(e,n)}}}))}function vc(t,e){e.eachChild(function(e){d(e.__regions,function(n){e.trigger(t.isSelected(n.name)?"emphasis":"normal")})})}function yc(t,e){var n=new Zb;this.uid=Eo("ec_map_draw"),this._controller=new nc(t.getZr()),this._controllerHost={"target":e?n:null},this.group=n,this._updateGroup=e,this._mouseDownFlag,this._mapName,this._initialized,n.add(this._regionsGroup=new Zb),n.add(this._backgroundGroup=new Zb)}function xc(t){var e=this[iL];e&&e.recordVersion===this[oL]&&_c(e,t)}function _c(t,e){var n=t.circle,i=t.labelModel,o=t.hoverLabelModel,a=t.emphasisText,r=t.normalText;e?(n.style.extendFrom(go({},o,{"text":o.get("show")?a:null},{"isRectText":!0,"useInsideStyle":!1},!0)),n.__mapOriginalZ2=n.z2,n.z2+=VM):(go(n.style,i,{"text":i.get("show")?r:null,"textPosition":i.getShallow("position")||"bottom"},{"isRectText":!0,"useInsideStyle":!1}),n.dirty(!1),null!=n.__mapOriginalZ2&&(n.z2=n.__mapOriginalZ2,n.__mapOriginalZ2=null))}function wc(t,e,n){var i=t.getZoom(),o=t.getCenter(),a=e.zoom,r=t.dataToPoint(o);if(null!=e.dx&&null!=e.dy&&(r[0]-=e.dx,r[1]-=e.dy,o=t.pointToData(r),t.setCenter(o)),null!=a){if(n){var s=n.min||0,l=n.max||1/0;a=Math.max(Math.min(i*a,l),s)/i}t.scale[0]*=a,t.scale[1]*=a;var u=t.position,h=(e.originX-u[0])*(a-1),c=(e.originY-u[1])*(a-1);u[0]-=h,u[1]-=c,t.updateTransform(),o=t.pointToData(r),t.setCenter(o),t.setZoom(a*i)}return{"center":t.getCenter(),"zoom":t.getZoom()}}function bc(){gb.call(this)}function Sc(t){this.name=t,this.zoomLimit,gb.call(this),this._roamTransformable=new bc,this._rawTransformable=new bc,this._center,this._zoom}function Mc(t,e,n,i){var o=n.seriesModel,a=o?o.coordinateSystem:null;return a===this?a[t](i):null}function Ic(t,e,n,i){Sc.call(this,t),this.map=e;var o=JC.load(e,n);this._nameCoordMap=o.nameCoordMap,this._regionsMap=o.regionsMap,this._invertLongitute=null==i||i,this.regions=o.regions,this._rect=o.boundingRect}function Tc(t,e,n,i){var o=n.geoModel,a=n.seriesModel,r=o?o.coordinateSystem:a?a.coordinateSystem||(a.getReferringComponents("geo")[0]||{}).coordinateSystem:null;return r===this?r[t](i):null}function Ac(t,e){var n=t.get("boundingCoords");if(null!=n){var i=n[0],o=n[1];isNaN(i[0])||isNaN(i[1])||isNaN(o[0])||isNaN(o[1])||this.setBoundingRect(i[0],i[1],o[0]-i[0],o[1]-i[1])}var a,r=this.getBoundingRect(),s=t.get("layoutCenter"),l=t.get("layoutSize"),u=e.getWidth(),h=e.getHeight(),c=r.width/r.height*this.aspectScale,d=!1;if(s&&l&&(s=[Bo(s[0],u),Bo(s[1],h)],l=Bo(l,Math.min(u,h)),isNaN(s[0])||isNaN(s[1])||isNaN(l)||(d=!0)),d){var f={};c>1?(f.width=l,f.height=l/c):(f.height=l,f.width=l*c),f.y=s[1]-f.height/2,f.x=s[0]-f.width/2}else(a=t.getBoxLayoutParams()).aspect=c,f=ha(a,{"width":u,"height":h});this.setViewRect(f.x,f.y,f.width,f.height),this.setCenter(t.get("center")),this.setZoom(t.get("zoom"))}function Dc(t,e){d(e.get("geoCoord"),function(e,n){t.addGeoCoord(n,e)})}function Lc(t){var e=t.mainData,n=t.datas;n||(n={"main":e},t.datasAttr={"main":"data"}),t.datas=t.mainData=null,Rc(e,n,t),lL(n,function(n){lL(e.TRANSFERABLE_METHODS,function(e){n.wrapMethod(e,v(kc,t))})}),e.wrapMethod("cloneShallow",v(Nc,t)),lL(e.CHANGABLE_METHODS,function(n){e.wrapMethod(n,v(Pc,t))}),k(n[e.dataType]===e)}function kc(t,e){if(function Ec(t){return t[hL]===t}(this)){var n=a({},this[uL]);n[this.dataType]=e,Rc(e,n,t)}else zc(e,this.dataType,this[hL],t);return e}function Pc(t,e){return t.struct&&t.struct.update(this),e}function Nc(t,e){return lL(e[uL],function(n,i){n!==e&&zc(n.cloneShallow(),i,e,t)}),e}function Oc(t){var e=this[hL];return null==t||null==e?e:e[uL][t]}function Rc(t,e,n){t[uL]={},lL(e,function(e,i){zc(e,i,t,n)})}function zc(t,e,n,i){n[uL][e]=t,t[hL]=n,t.dataType=e,i.struct&&(t[i.structAttr]=i.struct,i.struct[i.datasAttr[e]]=t),t.getLinkedData=Oc}function Bc(t,e,n){this.root,this.data,this._nodes=[],this.hostModel=t,this.levelModels=f(e||[],function(e){return new Po(e,t,t.ecModel)}),this.leavesModel=new Po(n||{},t,t.ecModel)}function Fc(t,e){var n=t.isExpand?t.children:[],i=t.parentNode.children,o=t.hierNode.i?i[t.hierNode.i-1]:null;if(n.length){!function Xc(t){for(var e=t.children,n=e.length,i=0,o=0;--n>=0;){var a=e[n];a.hierNode.prelim+=i,a.hierNode.modifier+=i,o+=a.hierNode.change,i+=a.hierNode.shift+o}}(t);var a=(n[0].hierNode.prelim+n[n.length-1].hierNode.prelim)/2;o?(t.hierNode.prelim=o.hierNode.prelim+e(t,o),t.hierNode.modifier=t.hierNode.prelim-a):t.hierNode.prelim=a}else o&&(t.hierNode.prelim=o.hierNode.prelim+e(t,o));t.parentNode.hierNode.defaultAncestor=function jc(t,e,n,i){if(e){for(var o=t,a=t,r=a.parentNode.children[0],s=e,l=o.hierNode.modifier,u=a.hierNode.modifier,h=r.hierNode.modifier,c=s.hierNode.modifier;s=Yc(s),a=qc(a),s&&a;){o=Yc(o),r=qc(r),o.hierNode.ancestor=t;var d=s.hierNode.prelim+c-a.hierNode.prelim-u+i(s,a);d>0&&($c(Kc(s,t,n),t,d),u+=d,l+=d),c+=s.hierNode.modifier,u+=a.hierNode.modifier,l+=o.hierNode.modifier,h+=r.hierNode.modifier}s&&!Yc(o)&&(o.hierNode.thread=s,o.hierNode.modifier+=c-l),a&&!qc(r)&&(r.hierNode.thread=a,r.hierNode.modifier+=u-h,n=t)}return n}(t,o,t.parentNode.hierNode.defaultAncestor||i[0],e)}function Wc(t){var e=t.hierNode.prelim+t.parentNode.hierNode.modifier;t.setLayout({"x":e},!0),t.hierNode.modifier+=t.parentNode.hierNode.modifier}function Hc(t){return arguments.length?t:Jc}function Zc(t,e){var n={};return t-=Math.PI/2,n.x=e*Math.cos(t),n.y=e*Math.sin(t),n}function Yc(t){var e=t.children;return e.length&&t.isExpand?e[e.length-1]:t.hierNode.thread}function qc(t){var e=t.children;return e.length&&t.isExpand?e[0]:t.hierNode.thread}function Kc(t,e,n){return t.hierNode.ancestor.parentNode===e.parentNode?t.hierNode.ancestor:n}function $c(t,e,n){var i=n/(e.hierNode.i-t.hierNode.i);e.hierNode.change-=i,e.hierNode.shift+=n,e.hierNode.modifier+=n,e.hierNode.prelim+=n,t.hierNode.change+=i}function Jc(t,e){return t.parentNode===e.parentNode?1:2}function Qc(t,e){var n=t.getItemLayout(e);return n&&!isNaN(n.x)&&!isNaN(n.y)&&"none"!==t.getItemVisual(e,"symbol")}function td(t,e,n){return n.itemModel=e,n.itemStyle=e.getModel("itemStyle").getItemStyle(),n.hoverItemStyle=e.getModel("emphasis.itemStyle").getItemStyle(),n.lineStyle=e.getModel("lineStyle").getLineStyle(),n.labelModel=e.getModel("label"),n.hoverLabelModel=e.getModel("emphasis.label"),!1===t.isExpand&&0!==t.children.length?n.symbolInnerColor=n.itemStyle.fill:n.symbolInnerColor="#fff",n}function ed(t,e,n,i,o,a){var s=!n,l=t.tree.getNodeByDataIndex(e),u=(a=td(l,l.getModel(),a),t.tree.root),h=l.parentNode===u?l:l.parentNode||l,c=t.getItemGraphicEl(h.dataIndex),d=h.getLayout(),f=c?{"x":c.position[0],"y":c.position[1],"rawX":c.__radialOldRawX,"rawY":c.__radialOldRawY}:d,p=l.getLayout();s?(n=new _u(t,e,a)).attr("position",[f.x,f.y]):n.updateData(t,e,a),n.__radialOldRawX=n.__radialRawX,n.__radialOldRawY=n.__radialRawY,n.__radialRawX=p.rawX,n.__radialRawY=p.rawY,i.add(n),t.setItemGraphicEl(e,n),Mo(n,{"position":[p.x,p.y]},o);var g=n.getSymbolPath();if("radial"===a.layout){var m,v,y=u.children[0],x=y.getLayout(),_=y.children.length;if(p.x===x.x&&!0===l.isExpand){var b={};b.x=(y.children[0].getLayout().x+y.children[_-1].getLayout().x)/2,b.y=(y.children[0].getLayout().y+y.children[_-1].getLayout().y)/2,(m=Math.atan2(b.y-x.y,b.x-x.x))<0&&(m=2*Math.PI+m),(v=b.x<x.x)&&(m-=Math.PI)}else(m=Math.atan2(p.y-x.y,p.x-x.x))<0&&(m=2*Math.PI+m),0===l.children.length||0!==l.children.length&&!1===l.isExpand?(v=p.x<x.x)&&(m-=Math.PI):(v=p.x>x.x)||(m-=Math.PI);var w=v?"left":"right";g.setStyle({"textPosition":w,"textRotation":-m,"textOrigin":"center","verticalAlign":"middle"})}if(l.parentNode&&l.parentNode!==u){var S=n.__edge;S||(S=n.__edge=new AM({"shape":nd(a,f,f),"style":r({"opacity":0,"strokeNoScale":!0},a.lineStyle)})),Mo(S,{"shape":nd(a,d,p),"style":{"opacity":1}},o),i.add(S)}}function id(t,e,n,i,o,a){for(var r,s=t.tree.getNodeByDataIndex(e),l=t.tree.root,u=(a=td(s,s.getModel(),a),s.parentNode===l?s:s.parentNode||s);null==(r=u.getLayout());)u=u.parentNode===l?u:u.parentNode||u;Mo(n,{"position":[r.x+1,r.y+1]},o,function(){i.remove(n),t.setItemGraphicEl(e,null)}),n.fadeOut(null,{"keepLabel":!0});var h=n.__edge;h&&Mo(h,{"shape":nd(a,r,r),"style":{"opacity":0}},o,function(){i.remove(h)})}function nd(t,e,n){var i,o,a,r,s,l,u,h,c=t.orient;if("radial"===t.layout){s=e.rawX,u=e.rawY,l=n.rawX,h=n.rawY;var d=Zc(s,u),f=Zc(s,u+(h-u)*t.curvature),p=Zc(l,h+(u-h)*t.curvature),g=Zc(l,h);return{"x1":d.x,"y1":d.y,"x2":g.x,"y2":g.y,"cpx1":f.x,"cpy1":f.y,"cpx2":p.x,"cpy2":p.y}}return s=e.x,u=e.y,l=n.x,h=n.y,"LR"!==c&&"RL"!==c||(i=s+(l-s)*t.curvature,o=u,a=l+(s-l)*t.curvature,r=h),"TB"!==c&&"BT"!==c||(i=s,o=u+(h-u)*t.curvature,a=l,r=h+(u-h)*t.curvature),{"x1":s,"y1":u,"x2":l,"y2":h,"cpx1":i,"cpy1":o,"cpx2":a,"cpy2":r}}function ad(t,e){for(var n,i=[t];n=i.pop();)if(e(n),n.isExpand){var o=n.children;if(o.length)for(var a=o.length-1;a>=0;a--)i.push(o[a])}}function rd(t,e){var n=function Uc(t,e){return ha(t.getBoxLayoutParams(),{"width":e.getWidth(),"height":e.getHeight()})}(t,e);t.layoutInfo=n;var i=t.get("layout"),o=0,a=0,r=null;"radial"===i?(o=2*Math.PI,a=Math.min(n.height,n.width)/2,r=Hc(function(t,e){return(t.parentNode===e.parentNode?1:2)/t.depth})):(o=n.width,a=n.height,r=Hc());var s=t.getData().tree.root,l=s.children[0];if(l){(function Gc(t){t.hierNode={"defaultAncestor":null,"ancestor":t,"prelim":0,"modifier":0,"change":0,"shift":0,"i":0,"thread":null};for(var e,n,i=[t];e=i.pop();)if(n=e.children,e.isExpand&&n.length)for(var o=n.length-1;o>=0;o--){var a=n[o];a.hierNode={"defaultAncestor":null,"ancestor":a,"prelim":0,"modifier":0,"change":0,"shift":0,"i":o,"thread":null},i.push(a)}})(s),function od(t,e,n){for(var i,o=[t],a=[];i=o.pop();)if(a.push(i),i.isExpand){var r=i.children;if(r.length)for(var s=0;s<r.length;s++)o.push(r[s])}for(;i=a.pop();)e(i,n)}(l,Fc,r),s.hierNode.modifier=-l.hierNode.prelim,ad(l,Wc);var u=l,h=l,c=l;ad(l,function(t){var e=t.getLayout().x;e<u.getLayout().x&&(u=t),e>h.getLayout().x&&(h=t),t.depth>c.depth&&(c=t)});var d=u===h?1:r(u,h)/2,f=d-u.getLayout().x,p=0,g=0,m=0,v=0;if("radial"===i)p=o/(h.getLayout().x+d+f),g=a/(c.depth-1||1),ad(l,function(t){m=(t.getLayout().x+f)*p,v=(t.depth-1)*g;var e=Zc(m,v);t.setLayout({"x":e.x,"y":e.y,"rawX":m,"rawY":v},!0)});else{var y=t.getOrient();"RL"===y||"LR"===y?(g=a/(h.getLayout().x+d+f),p=o/(c.depth-1||1),ad(l,function(t){v=(t.getLayout().x+f)*g,m="LR"===y?(t.depth-1)*p:o-(t.depth-1)*p,t.setLayout({"x":m,"y":v},!0)})):"TB"!==y&&"BT"!==y||(p=o/(h.getLayout().x+d+f),g=a/(c.depth-1||1),ad(l,function(t){m=(t.getLayout().x+f)*p,v="TB"===y?(t.depth-1)*g:a-(t.depth-1)*g,t.setLayout({"x":m,"y":v},!0)}))}}}function sd(t,e,n){if(t&&l(e,t.type)>=0){var i=n.getData().tree.root,o=t.targetNode;if("string"==typeof o&&(o=i.getNodeById(o)),o&&i.contains(o))return{"node":o};var a=t.targetNodeId;if(null!=a&&(o=i.getNodeById(a)))return{"node":o}}}function ld(t){for(var e=[];t;)(t=t.parentNode)&&e.push(t);return e.reverse()}function ud(t,e){return l(ld(t),e)>=0}function hd(t,e){for(var n=[];t;){var i=t.dataIndex;n.push({"name":t.name,"dataIndex":i,"value":e.getRawValue(i)}),t=t.parentNode}return n.reverse(),n}function fd(t){this.group=new Zb,t.add(this.group)}function pd(t,e,n,i,o,a){var r=[[o?t:t-dL,e],[t+n,e],[t+n,e+i],[o?t:t-dL,e+i]];return!a&&r.splice(2,0,[t+n+dL,e+i/2]),!o&&r.push([t,e+i/2]),r}function gd(t,e,n){t.eventData={"componentType":"series","componentSubType":"treemap","componentIndex":e.componentIndex,"seriesIndex":e.componentIndex,"seriesName":e.name,"seriesType":"treemap","selfType":"breadcrumb","nodeData":{"dataIndex":n&&n.dataIndex,"name":n&&n.name},"treePathInfo":n&&hd(n,e)}}function vd(t,e,n,o,r,s,l,u,h,c){function d(t,e){b?!t.invisible&&s.push(t):(e(),t.__tmWillVisible||(t.invisible=!1))}function f(e,n,o,a,r,s){var u=l.getModel(),h=T(t.getFormattedLabel(l.dataIndex,"normal",null,null,s?"upperLabel":"label"),u.get("name"));if(!s&&v.isLeafRoot){var c=t.get("drillDownIcon",!0);h=c?c+" "+h:h}var d=u.getModel(s?xL:vL),f=u.getModel(s?_L:yL),p=d.getShallow("show");po(e,n,d,f,{"defaultText":p?h:null,"autoColor":o,"isRectText":!0}),s&&(e.textRect=i(s)),e.truncate=p&&d.get("ellipsis")?{"outerWidth":a,"outerHeight":r,"minChar":2}:null}function p(t,i,o,a){var s=null!=S&&n[t][S],l=r[t];return s?(n[t][S]=null,g(l,s,t)):b||((s=new i({"z":function yd(t,e){var n=t*bL+e;return(n-1)/n}(o,a)})).__tmDepth=o,s.__tmStorageName=t,m(l,s,t)),e[t][w]=s}function g(t,e,n){(t[w]={}).old="nodeGroup"===n?e.position.slice():a({},e.shape)}function m(t,e,n){var i=t[w]={},a=l.parentNode;if(a&&(!o||"drillDown"===o.direction)){var s=0,u=0,h=r.background[a.getRawIndex()];!o&&h&&h.old&&(s=h.old.width,u=h.old.height),i.old="nodeGroup"===n?[0,u]:{"x":s,"y":u,"width":0,"height":0}}i.fadein="nodeGroup"!==n}if(l){var v=l.getLayout();if(v&&v.isInView){var y=v.width,x=v.height,_=v.borderWidth,b=v.invisible,w=l.getRawIndex(),S=u&&u.getRawIndex(),M=l.viewChildren,I=v.upperHeight,A=M&&M.length,D=l.getModel("itemStyle"),C=l.getModel("emphasis.itemStyle"),L=p("nodeGroup",pL);if(L){if(h.add(L),L.attr("position",[v.x||0,v.y||0]),L.__tmNodeWidth=y,L.__tmNodeHeight=x,v.isAboveViewRoot)return L;var k=p("background",gL,c,wL);if(k&&function(e,n,i){n.dataIndex=l.dataIndex,n.seriesIndex=t.seriesIndex,n.setShape({"x":0,"y":0,"width":y,"height":x});var o=l.getVisual("borderColor",!0),a=C.get("borderColor");d(n,function(){var t=TL(D);t.fill=o;var e=ML(C);if(e.fill=a,i){var r=y-2*_;f(t,e,o,r,I,{"x":_,"y":0,"width":r,"height":I})}else t.text=e.text=null;n.setStyle(t),co(n,e)}),e.add(n)}(L,k,A&&v.upperHeight),!A){var P=p("content",gL,c,SL);P&&function(e,n){n.dataIndex=l.dataIndex,n.seriesIndex=t.seriesIndex;var i=Math.max(y-2*_,0),o=Math.max(x-2*_,0);n.culling=!0,n.setShape({"x":_,"y":_,"width":i,"height":o});var a=l.getVisual("color",!0);d(n,function(){var t=TL(D);t.fill=a;var e=ML(C);f(t,e,a,i,o),n.setStyle(t),co(n,e)}),e.add(n)}(L,P)}return L}}}}function wd(t,e){var n=t.visual,i=[];w(n)?CL(n,function(t){i.push(t)}):null!=n&&i.push(n),e||1!==i.length||{"color":1,"symbol":1}.hasOwnProperty(t.type)||(i[1]=i[0]),Cd(t,i)}function bd(t){return{"applyVisual":function applyVisual(e,n,i){e=this.mapValueToVisual(e),i("color",t(n("color"),e))},"_doMap":Ad([0,1])}}function Sd(t){var e=this.option.visual;return e[Math.round(zo(t,[0,1],[0,e.length-1],!0))]||{}}function Md(t){return function(e,n,i){i(t,this.mapValueToVisual(e))}}function Id(t){var e=this.option.visual;return e[this.option.loop&&t!==kL?t%e.length:t]}function Td(){return this.option.visual[0]}function Ad(t){return{"linear":function linear(e){return zo(e,t,this.option.visual,!0)},"category":Id,"piecewise":function piecewise(e,n){var i=Dd.call(this,n);return null==i&&(i=zo(e,t,this.option.visual,!0)),i},"fixed":Td}}function Dd(t){var e=this.option,n=e.pieceList;if(e.hasSpecialVisual){var i=n[PL.findPieceIndex(t,n)];if(i&&i.visual)return i.visual[this.type]}}function Cd(t,e){return t.visual=e,"color"===t.type&&(t.parsedVisual=f(e,function(t){return Gt(t)})),e}function Ld(t,e,n){return t?e<=n:e<n}function kd(t,e,n,i,o,a){var r=t.getModel(),s=t.getLayout();if(s&&!s.invisible&&s.isInView){var l,u=t.getModel(EL),h=Pd(u,e,n[t.depth],i),c=u.get("borderColor"),f=u.get("borderColorSaturation");null!=f&&(c=function Od(t,e){return null!=e?jt(e,null,null,t):null}(f,l=Nd(h))),t.setVisual("borderColor",c);var p=t.viewChildren;if(p&&p.length){var g=function Rd(t,e,n,i,o,a){if(a&&a.length){var r=zd(e,"color")||null!=o.color&&"none"!==o.color&&(zd(e,"colorAlpha")||zd(e,"colorSaturation"));if(r){var s=e.get("visualMin"),l=e.get("visualMax"),u=n.dataExtent.slice();null!=s&&s<u[0]&&(u[0]=s),null!=l&&l>u[1]&&(u[1]=l);var h=e.get("colorMappingBy"),c={"type":r.name,"dataExtent":u,"visual":r.range};"color"!==c.type||"index"!==h&&"id"!==h?c.mappingMethod="linear":(c.mappingMethod="category",c.loop=!0);var d=new PL(c);return d.__drColorMappingBy=h,d}}}(0,r,s,0,h,p);d(p,function(t,e){(t.depth>=o.length||t===o[t.depth])&&kd(t,Bd(r,h,t,e,g,a),n,i,o,a)})}else l=Nd(h),t.setVisual("color",l)}}function Pd(t,e,n,i){var o=a({},e);return d(["color","colorAlpha","colorSaturation"],function(a){var r=t.get(a,!0);null==r&&n&&(r=n[a]),null==r&&(r=e[a]),null==r&&(r=i.get(a)),null!=r&&(o[a]=r)}),o}function Nd(t){var e=Ed(t,"color");if(e){var n=Ed(t,"colorAlpha"),i=Ed(t,"colorSaturation");return i&&(e=jt(e,null,null,i)),n&&(e=Yt(e,n)),e}}function Ed(t,e){var n=t[e];if(null!=n&&"none"!==n)return n}function zd(t,e){var n=t.get(e);return NL(n)&&n.length?{"name":e,"range":n}:null}function Bd(t,e,n,i,o,r){var s=a({},e);if(o){var l=o.type,u="color"===l&&o.__drColorMappingBy,h="index"===u?i:"id"===u?r.mapIdToIndex(n.getId()):n.getValue(t.get("visualDimension"));s[l]=o.mapValueToVisual(h)}return s}function Gd(t,e,n,i,o,a){var r=t.children||[],s=i.sort;"asc"!==s&&"desc"!==s&&(s=null);var l=null!=i.leafDepth&&i.leafDepth<=a;if(o&&!l)return t.viewChildren=[];!function Wd(t,e){return e&&t.sort(function(t,n){var i="asc"===e?t.getValue()-n.getValue():n.getValue()-t.getValue();return 0===i?"asc"===e?t.dataIndex-n.dataIndex:n.dataIndex-t.dataIndex:i}),t}(r=g(r,function(t){return!t.isRemoved()}),s);var u=function Hd(t,e,n){for(var i=0,o=0,a=e.length;o<a;o++)i+=e[o].getValue();var r=t.get("visualDimension");if(e&&e.length)if("value"===r&&n)s=[e[e.length-1].getValue(),e[0].getValue()],"asc"===n&&s.reverse();else{var s=[1/0,-1/0];HL(e,function(t){var e=t.getValue(r);e<s[0]&&(s[0]=e),e>s[1]&&(s[1]=e)})}else s=[NaN,NaN];return{"sum":i,"dataExtent":s}}(e,r,s);if(0===u.sum)return t.viewChildren=[];if(u.sum=function Fd(t,e,n,i,o){if(!i)return n;for(var a=t.get("visibleMin"),r=o.length,s=r,l=r-1;l>=0;l--){var u=o["asc"===i?r-l-1:l].getValue();u/n*e<a&&(s=l,n-=u)}return"asc"===i?o.splice(0,r-s):o.splice(s,r-s),n}(e,n,u.sum,s,r),0===u.sum)return t.viewChildren=[];for(var h=0,c=r.length;h<c;h++){var d=r[h].getValue()/u.sum*n;r[h].setLayout({"area":d})}return l&&(r.length&&t.setLayout({"isLeafRoot":!0},!0),r.length=0),t.viewChildren=r,t.setLayout({"dataExtent":u.dataExtent},!0),r}function Zd(t,e,n){for(var i,o=0,a=1/0,r=0,s=t.length;r<s;r++)(i=t[r].getLayout().area)&&(i<a&&(a=i),i>o&&(o=i));var l=t.area*t.area,u=e*e*n;return l?BL(u*o/l,l/(u*a)):1/0}function Ud(t,e,n,i,o){var a=e===n.width?0:1,r=1-a,s=["x","y"],l=["width","height"],u=n[s[a]],h=e?t.area/e:0;(o||h>n[l[r]])&&(h=n[l[r]]);for(var c=0,d=t.length;c<d;c++){var f=t[c],p={},g=h?f.getLayout().area/h:0,m=p[l[r]]=BL(h-2*i,0),v=n[s[a]]+n[l[a]]-u,y=c===d-1||v<g?v:g,x=p[l[a]]=BL(y-2*i,0);p[s[r]]=n[s[r]]+GL(i,m/2),p[s[a]]=u+GL(i,x/2),u+=y,f.setLayout(p,!0)}n[s[r]]+=h,n[l[r]]-=h}function qd(t){return t.get(ZL)?t.get(UL):0}function Kd(t){return"_EC_"+t}function $d(t,e){this.id=null==t?"":t,this.inEdges=[],this.outEdges=[],this.edges=[],this.hostGraph,this.dataIndex=null==e?-1:e}function Jd(t,e,n){this.node1=t,this.node2=e,this.dataIndex=null==n?-1:n}function Qd(t){return isNaN(+t.cpx1)||isNaN(+t.cpy1)}function tf(t){return"_"+t+"Type"}function ef(t,e,n){var i=e.getItemVisual(n,"color"),o=e.getItemVisual(n,t),a=e.getItemVisual(n,t+"Size");if(o&&"none"!==o){y(a)||(a=[a,a]);var r=$l(o,-a[0]/2,-a[1]/2,a[0],a[1],i);return r.name=t,r}}function of(t,e){var n=e[0],i=e[1],o=e[2];t.x1=n[0],t.y1=n[1],t.x2=i[0],t.y2=i[1],t.percent=1,o?(t.cpx1=o[0],t.cpy1=o[1]):(t.cpx1=NaN,t.cpy1=NaN)}function af(t,e,n){Zb.call(this),this._createLine(t,e,n)}function rf(t){this._ctor=t||af,this.group=new Zb}function uf(t){var e=t.hostModel;return{"lineStyle":e.getModel("lineStyle").getLineStyle(),"hoverLineStyle":e.getModel("emphasis.lineStyle").getLineStyle(),"labelModel":e.getModel("label"),"hoverLabelModel":e.getModel("emphasis.label")}}function hf(t){return isNaN(t[0])||isNaN(t[1])}function cf(t){return!hf(t[0])&&!hf(t[1])}function df(t,e,n){for(var i,o=t[0],a=t[1],r=t[2],s=1/0,l=n*n,u=.1,h=.1;h<=.9;h+=.1)sk[0]=hk(o[0],a[0],r[0],h),sk[1]=hk(o[1],a[1],r[1],h),(f=dk(ck(sk,e)-l))<s&&(s=f,i=h);for(var c=0;c<32;c++){var d=i+u;lk[0]=hk(o[0],a[0],r[0],i),lk[1]=hk(o[1],a[1],r[1],i),uk[0]=hk(o[0],a[0],r[0],d),uk[1]=hk(o[1],a[1],r[1],d);var f=ck(lk,e)-l;if(dk(f)<.01)break;var p=ck(uk,e)-l;u/=2,f<0?p>=0?i+=u:i-=u:p>=0?i-=u:i+=u}return i}function ff(t,e){return t.getVisual("opacity")||t.getModel().get(e)}function pf(t,e,n){var i=t.getGraphicEl(),o=ff(t,e);null!=n&&(null==o&&(o=1),o*=n),i.downplay&&i.downplay(),i.traverse(function(t){"group"!==t.type&&t.setStyle("opacity",o)})}function gf(t,e){var n=ff(t,e),i=t.getGraphicEl();i.highlight&&i.highlight(),i.traverse(function(t){"group"!==t.type&&t.setStyle("opacity",n)})}function mf(t){return t instanceof Array||(t=[t,t]),t}function vf(t){var e=t.coordinateSystem;if(!e||"view"===e.type){var n=t.getGraph();n.eachNode(function(t){var e=t.getModel();t.setLayout([+e.get("x"),+e.get("y")])}),yf(n)}}function yf(t){t.eachEdge(function(t){var e=t.getModel().get("lineStyle.curveness")||0,n=F(t.node1.getLayout()),i=F(t.node2.getLayout()),o=[n,i];+e&&o.push([(n[0]+i[0])/2-(n[1]-i[1])*e,(n[1]+i[1])/2-(i[0]-n[0])*e]),t.setLayout(o)})}function xf(t){var e=t.coordinateSystem;if(!e||"view"===e.type){var n=e.getBoundingRect(),i=t.getData(),o=i.graph,a=0,r=i.getSum("value"),s=2*Math.PI/(r||i.count()),l=n.width/2+n.x,u=n.height/2+n.y,h=Math.min(n.width,n.height)/2;o.eachNode(function(t){var e=t.getValue("value");a+=s*(r?e:1)/2,t.setLayout([h*Math.cos(a)+l,h*Math.sin(a)+u]),a+=s*(r?e:1)/2}),i.setLayout({"cx":l,"cy":u}),o.eachEdge(function(t){var e,n=t.getModel().get("lineStyle.curveness")||0,i=F(t.node1.getLayout()),o=F(t.node2.getLayout()),a=(i[0]+o[0])/2,r=(i[1]+o[1])/2;+n&&(e=[l*(n*=3)+a*(1-n),u*n+r*(1-n)]),t.setLayout([i,o,e])})}}function Sf(t,e){return e&&("string"==typeof e?t=e.replace("{value}",null!=t?t:""):"function"==typeof e&&(t=e(t))),t}function Mf(t,e){function i(){a.ignore=a.hoverIgnore,r.ignore=r.hoverIgnore}function n(){a.ignore=a.normalIgnore,r.ignore=r.normalIgnore}Zb.call(this);var o=new vM,a=new yM,r=new rM;this.add(o),this.add(a),this.add(r),this.updateData(t,e,!0),this.on("emphasis",i).on("normal",n).on("mouseover",i).on("mouseout",n)}function Lf(t,e){var n=t[e]-t[1-e];return{"span":Math.abs(n),"sign":n>0?-1:n<0?1:e?-1:1}}function kf(t,e){return Math.min(e[1],Math.max(e[0],t))}function Pf(t,e,n){this._axesMap=R(),this._axesLayout={},this.dimensions=t.dimensions,this._rect,this._model=t,this._init(t,e,n)}function Nf(t,e){return Ik(Tk(t,e[0]),e[1])}function Rf(t){J_.call(this),this._zr=t,this.group=new Zb,this._brushType,this._brushOption,this._panels,this._track=[],this._dragging,this._covers=[],this._creatingCover,this._creatingPanel,this._enableGlobalPan,this._uid="brushController_"+Zk++,this._handlers={},Ok(Uk,function(t,e){this._handlers[e]=m(t,this)},this)}function zf(t,e){var o=t._zr;t._enableGlobalPan||function Qh(t,e,n){ic(t)[e]=n}(o,Fk,t._uid),Ok(t._handlers,function(t,e){o.on(e,t)}),t._brushType=e.brushType,t._brushOption=n(i(jk),e,!0)}function Bf(t){var e=t._zr;(function tc(t,e,n){var i=ic(t);i[e]===n&&(i[e]=null)})(e,Fk,t._uid),Ok(t._handlers,function(t,n){e.off(n,t)}),t._brushType=t._brushOption=null}function Vf(t,e){var n=Xk[e.brushType].createCover(t,e);return n.__brushOption=e,Wf(n,e),t.group.add(n),n}function Gf(t,e){var n=Zf(e);return n.endCreating&&(n.endCreating(t,e),Wf(e,e.__brushOption)),e}function Ff(t,e){var n=e.__brushOption;Zf(e).updateCoverShape(t,e,n.range,n)}function Wf(t,e){var n=e.z;null==n&&(n=Bk),t.traverse(function(t){t.z=n,t.z2=n})}function Hf(t,e){Zf(e).updateCommon(t,e),Ff(t,e)}function Zf(t){return Xk[t.__brushOption.brushType]}function Uf(t,e,n){var i=t._panels;if(!i)return!0;var o,a=t._transform;return Ok(i,function(t){t.isTargetByCursor(e,n,a)&&(o=t)}),o}function Xf(t,e){var n=t._panels;if(!n)return!0;var i=e.__brushOption.panelId;return null==i||n[i]}function jf(t){var e=t._covers,n=e.length;return Ok(e,function(e){t.group.remove(e)},t),e.length=0,!!n}function Yf(t,e){var n=Rk(t._covers,function(t){var e=t.__brushOption,n=i(e.range);return{"brushType":e.brushType,"panelId":e.panelId,"range":n}});t.trigger("brush",n,{"isEnd":!!e.isEnd,"removeOnClick":!!e.removeOnClick})}function Kf(t){var e=t.length-1;return e<0&&(e=0),[t[0],t[e]]}function $f(t,e,n,i){var o=new Zb;return o.add(new bM({"name":"main","style":ep(n),"silent":!0,"draggable":!0,"cursor":"move","drift":Pk(t,e,o,"nswe"),"ondragend":Pk(Yf,e,{"isEnd":!0})})),Ok(i,function(n){o.add(new bM({"name":n,"style":{"opacity":0},"draggable":!0,"silent":!0,"invisible":!0,"drift":Pk(t,e,o,n),"ondragend":Pk(Yf,e,{"isEnd":!0})}))}),o}function Jf(t,e,n,i){var o=i.brushStyle.lineWidth||0,a=Ek(o,Gk),r=n[0][0],s=n[1][0],l=r-o/2,u=s-o/2,h=n[0][1],c=n[1][1],d=h-a+o/2,f=c-a+o/2,p=h-r,g=c-s,m=p+o,v=g+o;tp(t,e,"main",r,s,p,g),i.transformable&&(tp(t,e,"w",l,u,a,v),tp(t,e,"e",d,u,a,v),tp(t,e,"n",l,u,m,a),tp(t,e,"s",l,f,m,a),tp(t,e,"nw",l,u,a,a),tp(t,e,"ne",d,u,a,a),tp(t,e,"sw",l,f,a,a),tp(t,e,"se",d,f,a,a))}function Qf(t,e){var n=e.__brushOption,i=n.transformable,o=e.childAt(0);o.useStyle(ep(n)),o.attr({"silent":!i,"cursor":i?"move":"default"}),Ok(["w","e","n","s","se","sw","ne","nw"],function(n){var o=e.childOfName(n),a=function op(t,e){if(e.length>1)return("e"===(n=[op(t,(e=e.split(""))[0]),op(t,e[1])])[0]||"w"===n[0])&&n.reverse(),n.join("");var n=Do({"w":"left","e":"right","n":"top","s":"bottom"}[e],function np(t){return To(t.group)}(t));return{"left":"w","right":"e","top":"n","bottom":"s"}[n]}(t,n);o&&o.attr({"silent":!i,"invisible":!i,"cursor":i?Wk[a]+"-resize":null})})}function tp(t,e,n,i,o,a,r){var s=e.childOfName(n);s&&s.setShape(function up(t){var e=Nk(t[0][0],t[1][0]),n=Nk(t[0][1],t[1][1]);return{"x":e,"y":n,"width":Ek(t[0][0],t[1][0])-e,"height":Ek(t[0][1],t[1][1])-n}}(lp(t,e,[[i,o],[i+a,o+r]])))}function ep(t){return r({"strokeNoScale":!0},t.brushStyle)}function ip(t,e,n,i){var o=[Nk(t,n),Nk(e,i)],a=[Ek(t,n),Ek(e,i)];return[[o[0],a[0]],[o[1],a[1]]]}function ap(t,e,n,i,o,a,r,s){var l=i.__brushOption,u=t(l.range),h=sp(n,a,r);Ok(o.split(""),function(t){var e=Hk[t];u[e[0]][e[1]]+=h[e[0]]}),l.range=e(ip(u[0][0],u[1][0],u[0][1],u[1][1])),Hf(n,i),Yf(n,{"isEnd":!1})}function rp(t,e,n,i,o){var a=e.__brushOption.range,r=sp(t,n,i);Ok(a,function(t){t[0]+=r[0],t[1]+=r[1]}),Hf(t,e),Yf(t,{"isEnd":!1})}function sp(t,e,n){var i=t.group,o=i.transformCoordToLocal(e,n),a=i.transformCoordToLocal(0,0);return[o[0]-a[0],o[1]-a[1]]}function lp(t,e,n){var o=Xf(t,e);return o&&!0!==o?o.clipPath(n,t._transform):i(n)}function cp(t){var e=t.event;e.preventDefault&&e.preventDefault()}function dp(t,e,n){return t.childOfName("main").contain(e,n)}function fp(t,e,n,o){var a,r=t._creatingCover,s=t._creatingPanel,l=t._brushOption;if(t._track.push(n.slice()),function qf(t){var e=t._track;if(!e.length)return!1;var n=e[e.length-1],i=e[0],o=n[0]-i[0],a=n[1]-i[1];return zk(o*o+a*a,.5)>Vk}(t)||r){if(s&&!r){"single"===l.brushMode&&jf(t);var u=i(l);u.brushType=pp(u.brushType,s),u.panelId=!0===s?null:s.panelId,r=t._creatingCover=Vf(t,u),t._covers.push(r)}if(r){var h=Xk[pp(t._brushType,s)];r.__brushOption.range=h.getCreatingRange(lp(t,r,t._track)),o&&(Gf(t,r),h.updateCommon(t,r)),Ff(t,r),a={"isEnd":o}}}else o&&"single"===l.brushMode&&l.removeOnClick&&Uf(t,e,n)&&jf(t)&&(a={"isEnd":o,"removeOnClick":!0});return a}function pp(t,e){return"auto"===t?e.defaultBrushType:t}function gp(t){if(this._dragging){cp(t);var e=fp(this,t,this.group.transformCoordToLocal(t.offsetX,t.offsetY),!0);this._dragging=!1,this._track=[],this._creatingCover=null,e&&Yf(this,e)}}function mp(t){return{"createCover":function createCover(e,n){return $f(Pk(ap,function(e){var n=[e,[0,100]];return t&&n.reverse(),n},function(e){return e[t]}),e,n,[["w","e"],["n","s"]][t])},"getCreatingRange":function getCreatingRange(e){var n=Kf(e);return[Nk(n[0][t],n[1][t]),Ek(n[0][t],n[1][t])]},"updateCoverShape":function updateCoverShape(e,n,i,o){var a,r=Xf(e,n);if(!0!==r&&r.getLinearBrushOtherExtent)a=r.getLinearBrushOtherExtent(t,e._transform);else{var s=e._zr;a=[0,[s.getWidth(),s.getHeight()][1-t]]}var l=[i,a];t&&l.reverse(),Jf(e,n,l,o)},"updateCommon":Qf,"contain":dp}}function vp(t){return t=_p(t),function(e,n){return Lo(e,t)}}function yp(t,e){return t=_p(t),function(n){var i=null!=e?e:n,o=i?t.width:t.height,a=i?t.x:t.y;return[a,a+(o||0)]}}function xp(t,e,n){return t=_p(t),function(i,o,a){return t.contain(o[0],o[1])&&!pc(i,e,n)}}function _p(t){return de.create(t)}function Mp(t,e){var n=t._model;return n.get("axisExpandable")&&n.get("axisExpandTriggerOn")===e}function Dp(t,e,n,i){for(var o=[],a=0;a<n.length;a++){var r=n[a],s=t.get(t.mapDimension(r),e);Pp(s,i.getAxis(r).type)||o.push(i.dataToPoint(s,r))}return o}function Cp(t,e,n,i,o){var a=Dp(t,n,i,o),r=new yM({"shape":{"points":a},"silent":!0,"z2":10});return e.add(r),t.setItemGraphicEl(n,r),r}function Lp(t){var e=t.get("smooth",!0);return!0===e&&(e=Kk),{"lineStyle":t.getModel("lineStyle").getLineStyle(),"smooth":null!=e?e:Kk}}function kp(t,e,n,i){var o=i.lineStyle;e.hasItemOption&&(o=e.getItemModel(n).getModel("lineStyle").getLineStyle()),t.useStyle(o);var a=t.style;a.fill=null,a.stroke=e.getItemVisual(n,"color"),a.opacity=e.getItemVisual(n,"opacity"),i.smooth&&(t.shape.smooth=i.smooth)}function Pp(t,e){return"category"===e?null==t:null==t||isNaN(t)}function Np(t,e){return t.getVisual("opacity")||t.getModel().get(e)}function Op(t,e,n){var i=t.getGraphicEl(),o=Np(t,e);null!=n&&(null==o&&(o=1),o*=n),i.downplay&&i.downplay(),i.traverse(function(t){"group"!==t.type&&t.setStyle("opacity",o)})}function Ep(t,e){var n=Np(t,e),i=t.getGraphicEl();i.highlight&&i.highlight(),i.traverse(function(t){"group"!==t.type&&t.setStyle("opacity",n)})}function zp(){function t(e,i){if(i>=n.length)return e;for(var o=-1,a=e.length,r=n[i++],s={},l={};++o<a;){var u=r(e[o]),h=l[u];h?h.push(e[o]):l[u]=[e[o]]}return d(l,function(e,n){s[n]=t(e,i)}),s}function e(t,o){if(o>=n.length)return t;var a=[],r=i[o++];return d(t,function(t,n){a.push({"key":n,"values":e(t,o)})}),r?a.sort(function(t,e){return r(t.key,e.key)}):a}var n=[],i=[];return{"key":function key(t){return n.push(t),this},"sortKeys":function sortKeys(t){return i[n.length-1]=t,this},"entries":function entries(n){return e(t(n,0),0)}}}function Vp(t,e,n,i,o,a,r,s){(function Fp(t,e,n,i,o,a){for(var r=[],s=[],l=[],u=[],h=0,c=0;c<e.length;c++)r[c]=1;for(c=0;c<t.length;c++)s[c]=t[c].inEdges.length,0===s[c]&&l.push(t[c]);for(;l.length;){for(var d=0;d<l.length;d++){var f=l[d];"vertical"===a?(f.setLayout({"y":h},!0),f.setLayout({"dy":n},!0)):(f.setLayout({"x":h},!0),f.setLayout({"dx":n},!0));for(var p=0;p<f.outEdges.length;p++){var g=f.outEdges[p];r[e.indexOf(g)]=0;var m=g.node2;0==--s[t.indexOf(m)]&&u.push(m)}}++h,l=u,u=[]}for(c=0;c<r.length;c++);Wp(t,h,a),Hp(t,"vertical"===a?(o-n)/(h-1):(i-n)/(h-1),a)})(t,e,n,o,a,s),function Zp(t,e,n,i,o,a,r){var s=zp().key(function Up(t){return"vertical"===t?function(t){return t.getLayout().y}:function(t){return t.getLayout().x}}(r)).sortKeys(function(t,e){return t-e}).entries(t).map(function(t){return t.values});(function Xp(t,e,n,i,o,a,r){var s=[];d(e,function(t){var e=t.length,n=0,l=0;d(t,function(t){n+=t.getLayout().value}),l="vertical"===r?(o-(e-1)*a)/n:(i-(e-1)*a)/n,s.push(l)}),s.sort(function(t,e){return t-e});var l=s[0];d(e,function(t){d(t,function(t,e){var n=t.getLayout().value*l;"vertical"===r?(t.setLayout({"x":e},!0),t.setLayout({"dx":n},!0)):(t.setLayout({"y":e},!0),t.setLayout({"dy":n},!0))})}),d(n,function(t){var e=+t.getValue()*l;t.setLayout({"dy":e},!0)})})(0,s,e,n,i,o,r),jp(s,o,n,i,r);for(var l=1;a>0;a--)Yp(s,l*=.99,r),jp(s,o,n,i,r),tg(s,l,r),jp(s,o,n,i,r)}(t,e,a,o,i,r,s),function eg(t,e){d(t,function(t){"vertical"===e?(t.outEdges.sort(function(t,e){return t.node2.getLayout().x-e.node2.getLayout().x}),t.inEdges.sort(function(t,e){return t.node1.getLayout().x-e.node1.getLayout().x})):(t.outEdges.sort(function(t,e){return t.node2.getLayout().y-e.node2.getLayout().y}),t.inEdges.sort(function(t,e){return t.node1.getLayout().y-e.node1.getLayout().y}))}),d(t,function(t){var e=0,n=0;d(t.outEdges,function(t){t.setLayout({"sy":e},!0),e+=t.getLayout().dy}),d(t.inEdges,function(t){t.setLayout({"ty":n},!0),n+=t.getLayout().dy})})}(t,s)}function Wp(t,e,n){d(t,function(t){t.outEdges.length||("vertical"===n?t.setLayout({"y":e-1},!0):t.setLayout({"x":e-1},!0))})}function Hp(t,e,n){d(t,function(t){if("vertical"===n){var i=t.getLayout().y*e;t.setLayout({"y":i},!0)}else{var o=t.getLayout().x*e;t.setLayout({"x":o},!0)}})}function jp(t,e,n,i,o){d(t,function(t){var a,r,s,l=0,u=t.length;if("vertical"===o){var h;for(t.sort(function(t,e){return t.getLayout().x-e.getLayout().x}),s=0;s<u;s++)(r=l-(a=t[s]).getLayout().x)>0&&(h=a.getLayout().x+r,a.setLayout({"x":h},!0)),l=a.getLayout().x+a.getLayout().dx+e;if((r=l-e-i)>0)for(h=a.getLayout().x-r,a.setLayout({"x":h},!0),l=h,s=u-2;s>=0;--s)(r=(a=t[s]).getLayout().x+a.getLayout().dx+e-l)>0&&(h=a.getLayout().x-r,a.setLayout({"x":h},!0)),l=a.getLayout().x}else{var c;for(t.sort(function(t,e){return t.getLayout().y-e.getLayout().y}),s=0;s<u;s++)(r=l-(a=t[s]).getLayout().y)>0&&(c=a.getLayout().y+r,a.setLayout({"y":c},!0)),l=a.getLayout().y+a.getLayout().dy+e;if((r=l-e-n)>0)for(c=a.getLayout().y-r,a.setLayout({"y":c},!0),l=c,s=u-2;s>=0;--s)(r=(a=t[s]).getLayout().y+a.getLayout().dy+e-l)>0&&(c=a.getLayout().y-r,a.setLayout({"y":c},!0)),l=a.getLayout().y}})}function Yp(t,e,n){d(t.slice().reverse(),function(t){d(t,function(t){if(t.outEdges.length){var i=Qp(t.outEdges,qp,n)/Qp(t.outEdges,Jp,n);if("vertical"===n){var o=t.getLayout().x+(i-$p(t,n))*e;t.setLayout({"x":o},!0)}else{var a=t.getLayout().y+(i-$p(t,n))*e;t.setLayout({"y":a},!0)}}})})}function qp(t,e){return $p(t.node2,e)*t.getValue()}function Kp(t,e){return $p(t.node1,e)*t.getValue()}function $p(t,e){return"vertical"===e?t.getLayout().x+t.getLayout().dx/2:t.getLayout().y+t.getLayout().dy/2}function Jp(t){return t.getValue()}function Qp(t,e,n){for(var i=0,o=t.length,a=-1;++a<o;){var r=+e.call(t,t[a],n);isNaN(r)||(i+=r)}return i}function tg(t,e,n){d(t,function(t){d(t,function(t){if(t.inEdges.length){var i=Qp(t.inEdges,Kp,n)/Qp(t.inEdges,Jp,n);if("vertical"===n){var o=t.getLayout().x+(i-$p(t,n))*e;t.setLayout({"x":o},!0)}else{var a=t.getLayout().y+(i-$p(t,n))*e;t.setLayout({"y":a},!0)}}})})}function ig(t,e,n,i,o){var a=t.ends,r=new rP({"shape":{"points":o?function og(t,e,n){return f(t,function(t){return(t=t.slice())[e]=n.initBaseline,t})}(a,i,t):a}});return ng(t,r,e,n,o),r}function ng(t,e,n,i,o){var a=n.hostModel;(0,WM[o?"initProps":"updateProps"])(e,{"shape":{"points":t.ends}},a,i);var r=n.getItemModel(i),s=r.getModel(oP),l=n.getItemVisual(i,"color"),u=s.getItemStyle(["borderColor"]);u.stroke=l,u.strokeNoScale=!0,e.useStyle(u),e.z2=100,co(e,r.getModel(aP).getItemStyle())}function lg(t,e,n){var i=t.ends;return new pP({"shape":{"points":n?function hg(t,e){return f(t,function(t){return(t=t.slice())[1]=e.initBaseline,t})}(i,t):i},"z2":100})}function ug(t,e,n,i){var o=e.getItemModel(n),a=o.getModel(hP),r=e.getItemVisual(n,"color"),s=e.getItemVisual(n,"borderColor")||r,l=a.getItemStyle(dP);t.useStyle(l),t.style.strokeNoScale=!0,t.style.fill=r,t.style.stroke=s,t.__simpleBox=i,co(t,o.getModel(cP).getItemStyle())}function cg(t,e,n){var i=t.getData(),o=i.getLayout("largePoints"),a=new gP({"shape":{"points":o},"__sign":1});e.add(a);var r=new gP({"shape":{"points":o},"__sign":-1});e.add(r),dg(1,a,t,i),dg(-1,r,t,i),n&&(a.incremental=!0,r.incremental=!0)}function dg(t,e,n,i){var o=t>0?"P":"N",a=i.getVisual("borderColor"+o)||i.getVisual("color"+o),r=n.getModel(hP).getItemStyle(dP);e.useStyle(r),e.style.fill=null,e.style.stroke=a}function fg(t,e,n,i,o){return n>i?-1:n<i?1:e>0?t.get(o,e-1)<=i?1:-1:1}function mg(t,e){t.eachChild(function(t){t.attr({"z":e.z,"zlevel":e.zlevel,"style":{"stroke":"stroke"===e.brushType?e.color:null,"fill":"fill"===e.brushType?e.color:null}})})}function vg(t,e){Zb.call(this);var n=new _u(t,e),i=new Zb;this.add(n),this.add(i),i.beforeUpdate=function(){this.attr(n.getScale())},this.updateData(t,e)}function yg(t){var e=t.data;e&&e[0]&&e[0][0]&&e[0][0].coord&&(t.data=f(e,function(t){var e={"coords":[t[0].coord,t[1].coord]};return t[0].name&&(e.fromName=t[0].name),t[1].name&&(e.toName=t[1].name),o([e,t[0],t[1]])}))}function xg(t,e,n){Zb.call(this),this.add(this.createLine(t,e,n)),this._updateEffectSymbol(t,e)}function _g(t,e,n){Zb.call(this),this._createPolyline(t,e,n)}function wg(t,e,n){xg.call(this,t,e,n),this._lastFrame=0,this._lastFramePercent=0}function bg(){this.group=new Zb}function Sg(t){return t instanceof Array||(t=[t,t]),t}function Mg(){var t=gx();this.canvas=t,this.blurSize=30,this.pointSize=20,this.maxOpacity=1,this.minOpacity=0,this._gradientPixels={}}function Ig(t,e,n){var i=t[1]-t[0],o=(e=f(e,function(e){return{"interval":[(e.interval[0]-t[0])/i,(e.interval[1]-t[0])/i]}})).length,a=0;return function(t){for(i=a;i<o;i++)if((r=e[i].interval)[0]<=t&&t<=r[1]){a=i;break}if(i===o)for(var i=a-1;i>=0;i--){var r=e[i].interval;if(r[0]<=t&&t<=r[1]){a=i;break}}return i>=0&&i<o&&n[i]}}function Dg(t,e,n,i){var o=t.getItemLayout(e),a=n.get("symbolRepeat"),r=n.get("symbolClip"),s=n.get("symbolPosition")||"start",l=(n.get("symbolRotate")||0)*Math.PI/180||0,u=n.get("symbolPatternSize")||2,h=n.isAnimationEnabled(),c={"dataIndex":e,"layout":o,"itemModel":n,"symbolType":t.getItemVisual(e,"symbol")||"circle","color":t.getItemVisual(e,"color"),"symbolClip":r,"symbolRepeat":a,"symbolRepeatDirection":n.get("symbolRepeatDirection"),"symbolPatternSize":u,"rotation":l,"animationModel":h?n:null,"hoverAnimation":h&&n.get("hoverAnimation"),"z2":n.getShallow("z",!0)||0};(function Cg(t,e,n,i,o){var a,r=i.valueDim,s=t.get("symbolBoundingData"),l=i.coordSys.getOtherAxis(i.coordSys.getBaseAxis()),u=l.toGlobalCoord(l.dataToCoord(0)),h=1-+(n[r.wh]<=0);if(y(s)){var c=[Lg(l,s[0])-u,Lg(l,s[1])-u];c[1]<c[0]&&c.reverse(),a=c[h]}else a=null!=s?Lg(l,s)-u:e?i.coordSysExtent[r.index][h]-u:n[r.wh];o.boundingLength=a,e&&(o.repeatCutLength=n[r.wh]),o.pxSign=a>0?1:a<0?-1:0})(n,a,o,i,c),function kg(t,e,n,i,o,a,r,s,l,u){var h=l.valueDim,c=l.categoryDim,d=Math.abs(n[c.wh]),f=t.getItemVisual(e,"symbolSize");y(f)?f=f.slice():(null==f&&(f="100%"),f=[f,f]),f[c.index]=Bo(f[c.index],d),f[h.index]=Bo(f[h.index],i?d:Math.abs(a)),u.symbolSize=f,(u.symbolScale=[f[0]/s,f[1]/s])[h.index]*=(l.isHorizontal?-1:1)*r}(t,e,o,a,0,c.boundingLength,c.pxSign,u,i,c),function Pg(t,e,n,i,o){var a=t.get(EP)||0;a&&(BP.attr({"scale":e.slice(),"rotation":n}),BP.updateTransform(),a/=BP.getLineScale(),a*=e[i.valueDim.index]),o.valueLineWidth=a}(n,c.symbolScale,l,i,c);var d=c.symbolSize,f=n.get("symbolOffset");return y(f)&&(f=[Bo(f[0],d[0]),Bo(f[1],d[1])]),Ng(n,d,o,a,r,f,s,c.valueLineWidth,c.boundingLength,c.repeatCutLength,i,c),c}function Lg(t,e){return t.toGlobalCoord(t.dataToCoord(t.scale.parse(e)))}function Ng(t,e,n,i,o,r,s,l,u,h,c,d){var f=c.categoryDim,p=c.valueDim,g=d.pxSign,m=Math.max(e[p.index]+l,0),v=m;if(i){var y=Math.abs(u),x=T(t.get("symbolMargin"),"15%")+"",_=!1;x.lastIndexOf("!")===x.length-1&&(_=!0,x=x.slice(0,x.length-1)),x=Bo(x,e[p.index]);var b=Math.max(m+2*x,0),w=_?0:2*x,S=Jo(i),M=S?i:Kg((y+w)/b);b=m+2*(x=(y-M*m)/2/(_?M:M-1)),w=_?0:2*x,S||"fixed"===i||(M=h?Kg((Math.abs(h)+w)/b):0),v=M*b-w,d.repeatTimes=M,d.symbolMargin=x}var I=g*(v/2),A=d.pathPosition=[];A[f.index]=n[f.wh]/2,A[p.index]="start"===s?I:"end"===s?u-I:u/2,r&&(A[0]+=r[0],A[1]+=r[1]);var D=d.bundlePosition=[];D[f.index]=n[f.xy],D[p.index]=n[p.xy];var C=d.barRectShape=a({},n);C[p.wh]=g*Math.max(Math.abs(n[p.wh]),Math.abs(A[p.index]+I)),C[f.wh]=n[f.wh];var L=d.clipShape={};L[f.xy]=-n[f.xy],L[f.wh]=c.ecSize[f.wh],L[p.xy]=0,L[p.wh]=n[p.wh]}function Og(t){var e=t.symbolPatternSize,n=$l(t.symbolType,-e/2,-e/2,e,e,t.color);return n.attr({"culling":!0}),"image"!==n.type&&n.setStyle({"strokeNoScale":!0}),n}function Eg(t,e,n,i){function o(t){var e=l.slice(),i=n.pxSign,o=t;return("start"===n.symbolRepeatDirection?i>0:i<0)&&(o=h-1-t),e[u.index]=d*(o-h/2+.5)+l[u.index],{"position":e,"scale":n.symbolScale.slice(),"rotation":n.rotation}}var a=t.__pictorialBundle,r=n.symbolSize,s=n.valueLineWidth,l=n.pathPosition,u=e.valueDim,h=n.repeatTimes||0,c=0,d=r[e.valueDim.index]+s+2*n.symbolMargin;for(jg(t,function(t){t.__pictorialAnimationIndex=c,t.__pictorialRepeatTimes=h,c<h?Yg(t,null,o(c),n,i):Yg(t,null,{"scale":[0,0]},n,i,function(){a.remove(t)}),Wg(t,n),c++});c<h;c++){var f=Og(n);f.__pictorialAnimationIndex=c,f.__pictorialRepeatTimes=h,a.add(f);var p=o(c);Yg(f,{"position":p.position,"scale":[0,0]},{"scale":p.scale,"rotation":p.rotation},n,i),f.on("mouseover",function(){jg(t,function(t){t.trigger("emphasis")})}).on("mouseout",function(){jg(t,function(t){t.trigger("normal")})}),Wg(f,n)}}function Rg(t,e,n,i){var o=t.__pictorialBundle,a=t.__pictorialMainPath;a?Yg(a,null,{"position":n.pathPosition.slice(),"scale":n.symbolScale.slice(),"rotation":n.rotation},n,i):(a=t.__pictorialMainPath=Og(n),o.add(a),Yg(a,{"position":n.pathPosition.slice(),"scale":[0,0],"rotation":n.rotation},{"scale":n.symbolScale.slice()},n,i),a.on("mouseover",function(){this.trigger("emphasis")}).on("mouseout",function(){this.trigger("normal")})),Wg(a,n)}function zg(t,e,n){var i=a({},e.barRectShape),o=t.__pictorialBarRect;o?Yg(o,null,{"shape":i},e,n):(o=t.__pictorialBarRect=new bM({"z2":2,"shape":i,"silent":!0,"style":{"stroke":"transparent","fill":"transparent","lineWidth":0}}),t.add(o))}function Bg(t,e,n,i){if(n.symbolClip){var o=t.__pictorialClipPath,r=a({},n.clipShape),s=e.valueDim,l=n.animationModel,u=n.dataIndex;if(o)Mo(o,{"shape":r},l,u);else{r[s.wh]=0,o=new bM({"shape":r}),t.__pictorialBundle.setClipPath(o),t.__pictorialClipPath=o;var h={};h[s.wh]=n.clipShape[s.wh],WM[i?"updateProps":"initProps"](o,{"shape":h},l,u)}}}function Vg(t,e){var n=t.getItemModel(e);return n.getAnimationDelayParams=Gg,n.isAnimationEnabled=Fg,n}function Gg(t){return{"index":t.__pictorialAnimationIndex,"count":t.__pictorialRepeatTimes}}function Fg(){return this.parentModel.isAnimationEnabled()&&!!this.getShallow("animation")}function Wg(t,e){t.off("emphasis").off("normal");var n=e.symbolScale.slice();e.hoverAnimation&&t.on("emphasis",function(){this.animateTo({"scale":[1.1*n[0],1.1*n[1]]},400,"elasticOut")}).on("normal",function(){this.animateTo({"scale":n.slice()},400,"elasticOut")})}function Hg(t,e,n,i){var o=new Zb,a=new Zb;return o.add(a),o.__pictorialBundle=a,a.attr("position",n.bundlePosition.slice()),n.symbolRepeat?Eg(o,e,n):Rg(o,0,n),zg(o,n,i),Bg(o,e,n,i),o.__pictorialShapeStr=Xg(t,n),o.__pictorialSymbolMeta=n,o}function Ug(t,e,n,i){var o=i.__pictorialBarRect;o&&(o.style.text=null);var a=[];jg(i,function(t){a.push(t)}),i.__pictorialMainPath&&a.push(i.__pictorialMainPath),i.__pictorialClipPath&&(n=null),d(a,function(t){Mo(t,{"scale":[0,0]},n,e,function(){i.parent&&i.parent.remove(i)})}),t.setItemGraphicEl(e,null)}function Xg(t,e){return[t.getItemVisual(e.dataIndex,"symbol")||"none",!!e.symbolRepeat,!!e.symbolClip].join(":")}function jg(t,e,n){d(t.__pictorialBundle.children(),function(i){i!==t.__pictorialBarRect&&e.call(n,i)})}function Yg(t,e,n,i,o,a){e&&t.attr(e),i.symbolClip&&!o?n&&t.attr(n):n&&WM[o?"updateProps":"initProps"](t,n,i.animationModel,i.dataIndex,a)}function qg(t,e,n){var i=n.color,o=n.dataIndex,a=n.itemModel,s=a.getModel("itemStyle").getItemStyle(["color"]),l=a.getModel("emphasis.itemStyle").getItemStyle(),u=a.getShallow("cursor");jg(t,function(t){t.setColor(i),t.setStyle(r({"fill":i,"opacity":n.opacity},s)),co(t,l),u&&(t.cursor=u),t.z2=n.z2});var h={},c=(e.valueDim.posDesc[+(n.boundingLength>0)],t.__pictorialBarRect);Lh(c.style,h,a,i,e.seriesModel,o),co(c,h)}function Kg(t){var e=Math.round(t);return Math.abs(t-e)<1e-4?e:Math.ceil(t)}function $g(t,e,n){this.dimension="single",this.dimensions=["single"],this._axis=null,this._rect,this._init(t,e,n),this.model=t}function Jg(t,e){e=e||{};var n=t.coordinateSystem,i=t.axis,o={},a=i.position,r=i.orient,s=n.getRect(),l=[s.x,s.x+s.width,s.y,s.y+s.height],u={"horizontal":{"top":l[2],"bottom":l[3]},"vertical":{"left":l[0],"right":l[1]}};o.position=["vertical"===r?u.vertical[a]:l[0],"horizontal"===r?u.horizontal[a]:l[3]],o.rotation=Math.PI/2*{"horizontal":0,"vertical":1}[r],o.labelDirection=o.tickDirection=o.nameDirection={"top":-1,"bottom":1,"right":1,"left":-1}[a],t.get("axisTick.inside")&&(o.tickDirection=-o.tickDirection),T(e.labelInside,t.get("axisLabel.inside"))&&(o.labelDirection=-o.labelDirection);var h=e.rotate;return null==h&&(h=t.get("axisLabel.rotate")),o.labelRotation="top"===a?-h:h,o.z2=1,o}function Qg(t,e,n,i,o){var r=t.axis;if(!r.scale.isBlank()&&r.containData(e))if(t.involveSeries){var s=function tm(t,e){var n=e.axis,i=n.dim,o=t,a=[],r=Number.MAX_VALUE,s=-1;return jP(e.seriesModels,function(e,l){var u,h,c=e.getData().mapDimension(i,!0);if(e.getAxisTooltipData){var d=e.getAxisTooltipData(c,t,n);h=d.dataIndices,u=d.nestestValue}else{if(!(h=e.getData().indicesOfNearest(c[0],t,"category"===n.type?.5:null)).length)return;u=e.getData().get(c[0],h[0])}if(null!=u&&isFinite(u)){var f=t-u,p=Math.abs(f);p<=r&&((p<r||f>=0&&s<0)&&(r=p,s=f,o=u,a.length=0),jP(h,function(t){a.push({"seriesIndex":e.seriesIndex,"dataIndexInside":t,"dataIndex":e.getData().getRawIndex(t)})}))}}),{"payloadBatch":a,"snapToValue":o}}(e,t),l=s.payloadBatch,u=s.snapToValue;l[0]&&null==o.seriesIndex&&a(o,l[0]),!i&&t.snap&&r.containData(u)&&null!=u&&(e=u),n.showPointer(t,e,l,o),n.showTooltip(t,s,u)}else n.showPointer(t,e)}function em(t,e,n,i){t[e.key]={"value":n,"payloadBatch":i}}function im(t,e,n,i){var o=n.payloadBatch,a=e.axis,r=a.model,s=e.axisPointerModel;if(e.triggerTooltip&&o.length){var l=e.coordSys.model,u=Th(l),h=t.map[u];h||(h=t.map[u]={"coordSysId":l.id,"coordSysIndex":l.componentIndex,"coordSysType":l.type,"coordSysMainType":l.mainType,"dataByAxis":[]},t.list.push(h)),h.dataByAxis.push({"axisDim":a.dim,"axisIndex":r.componentIndex,"axisType":r.type,"axisId":r.id,"value":i,"valueLabelOpt":{"precision":s.get("label.precision"),"formatter":s.get("label.formatter")},"seriesDataIndices":o.slice()})}}function am(t,e,n){var i=n.getZr(),o=UP(i).axisPointerLastHighlights||{},a=UP(i).axisPointerLastHighlights={};jP(t,function(t,e){var n=t.axisPointerModel.option;"show"===n.status&&jP(n.seriesDataIndices,function(t){var e=t.seriesIndex+" | "+t.dataIndex;a[e]=t})});var r=[],s=[];d(o,function(t,e){!a[e]&&s.push(t)}),d(a,function(t,e){!o[e]&&r.push(t)}),s.length&&n.dispatchAction({"type":"downplay","escapeConnect":!0,"batch":s}),r.length&&n.dispatchAction({"type":"highlight","escapeConnect":!0,"batch":r})}function sm(t){var e=t.axis.model,n={},i=n.axisDim=t.axis.dim;return n.axisIndex=n[i+"AxisIndex"]=e.componentIndex,n.axisName=n[i+"AxisName"]=e.name,n.axisId=n[i+"AxisId"]=e.id,n}function lm(t){return!t||null==t[0]||isNaN(t[0])||null==t[1]||isNaN(t[1])}function um(t,e,n){if(!be.node){var i=e.getZr();XP(i).records||(XP(i).records={}),function hm(t,e){function i(n,i){t.on(n,function(n){var o=function pm(t){var e={"showTip":[],"hideTip":[]};return{"dispatchAction":function i(n){var o=e[n.type];o?o.push(n):(n.dispatchAction=i,t.dispatchAction(n))},"pendings":e}}(e);YP(XP(t).records,function(t){t&&i(t,n,o.dispatchAction)}),function cm(t,e){var n,i=t.showTip.length,o=t.hideTip.length;i?n=t.showTip[i-1]:o&&(n=t.hideTip[o-1]),n&&(n.dispatchAction=null,e.dispatchAction(n))}(o.pendings,e)})}XP(t).initialized||(XP(t).initialized=!0,i("click",v(fm,"click")),i("mousemove",v(fm,"mousemove")),i("globalout",dm))}(i,e),(XP(i).records[t]||(XP(i).records[t]={})).handler=n}}function dm(t,e,n){t.handler("leave",null,n)}function fm(t,e,n,i){e.handler(t,n,i)}function gm(t,e){if(!be.node){var n=e.getZr();(XP(n).records||{})[t]&&(XP(n).records[t]=null)}}function mm(){}function vm(t,e,n,i){(function ym(t,e){if(w(t)&&w(e)){var n=!0;return d(e,function(e,i){n=n&&ym(t[i],e)}),!!n}return t===e})($P(n).lastProp,i)||($P(n).lastProp=i,e?Mo(n,i,t):(n.stopAnimation(),n.attr(i)))}function xm(t,e){t[e.get("label.show")?"show":"hide"]()}function _m(t){return{"position":t.position.slice(),"rotation":t.rotation||0}}function wm(t,e,n){var i=e.get("z"),o=e.get("zlevel");t&&t.traverse(function(t){"group"!==t.type&&(null!=i&&(t.z=i),null!=o&&(t.zlevel=o),t.silent=n)})}function bm(t){var e,n=t.get("type"),i=t.getModel(n+"Style");return"line"===n?(e=i.getLineStyle()).fill=null:"shadow"===n&&((e=i.getAreaStyle()).stroke=null),e}function Sm(t,e,n,i,o){var a=Im(n.get("value"),e.axis,e.ecModel,n.get("seriesDataIndices"),{"precision":n.get("label.precision"),"formatter":n.get("label.formatter")}),r=n.getModel("label"),s=eI(r.get("padding")||0),l=r.getFont(),u=ke(a,l),h=o.position,c=u.width+s[1]+s[3],d=u.height+s[0]+s[2],f=o.align;"right"===f&&(h[0]-=c),"center"===f&&(h[0]-=c/2);var p=o.verticalAlign;"bottom"===p&&(h[1]-=d),"middle"===p&&(h[1]-=d/2),function Mm(t,e,n,i){var o=i.getWidth(),a=i.getHeight();t[0]=Math.min(t[0]+e,o)-e,t[1]=Math.min(t[1]+n,a)-n,t[0]=Math.max(t[0],0),t[1]=Math.max(t[1],0)}(h,c,d,i);var g=r.get("backgroundColor");g&&"auto"!==g||(g=e.get("axisLine.lineStyle.color")),t.label={"shape":{"x":0,"y":0,"width":c,"height":d,"r":r.get("borderRadius")},"position":h.slice(),"style":{"text":a,"textFont":l,"textFill":r.getTextColor(),"textPosition":"inside","fill":g,"stroke":r.get("borderColor")||"transparent","lineWidth":r.get("borderWidth")||0,"shadowBlur":r.get("shadowBlur"),"shadowColor":r.get("shadowColor"),"shadowOffsetX":r.get("shadowOffsetX"),"shadowOffsetY":r.get("shadowOffsetY")},"z2":10}}function Im(t,e,n,i,o){t=e.scale.parse(t);var a=e.scale.getLabel(t,{"precision":o.precision}),r=o.formatter;if(r){var s={"value":Ul(e,t),"seriesData":[]};d(i,function(t){var e=n.getSeriesByIndex(t.seriesIndex),i=t.dataIndexInside,o=e&&e.getDataParams(i);o&&s.seriesData.push(o)}),_(r)?a=r.replace("{value}",a):x(r)&&(a=r(s))}return a}function Tm(t,e,n){var i=xt();return Mt(i,i,n.rotation),St(i,i,n.position),Ao([t.dataToCoord(e),(n.labelOffset||0)+(n.labelDirection||1)*(n.labelMargin||0)],i)}function Am(t,e,n,i,o,a){var r=iC.innerTextLayout(n.rotation,0,n.labelDirection);n.labelMargin=o.get("label.margin"),Sm(e,i,o,a,{"position":Tm(i.axis,t,n),"align":r.textAlign,"verticalAlign":r.textVerticalAlign})}function Dm(t,e,n){return{"x1":t[n=n||0],"y1":t[1-n],"x2":e[n],"y2":e[1-n]}}function Cm(t,e,n){return{"x":t[n=n||0],"y":t[1-n],"width":e[n],"height":e[1-n]}}function Lm(t,e,n,i,o,a){return{"cx":t,"cy":e,"r0":n,"r":i,"startAngle":o,"endAngle":a,"clockwise":!0}}function km(t,e){var n={};return n[e.dim+"AxisIndex"]=e.index,t.getCartesian(n)}function Pm(t){return"x"===t.dim?0:1}function Nm(t){return t.isHorizontal()?0:1}function Om(t,e){var n=t.getRect();return[n[eO[e]],n[eO[e]]+n[nO[e]]]}function Rm(t,e,n){if(t.count())for(var i,o=e.coordinateSystem,a=e.getLayerSeries(),r=t.mapDimension("single"),s=t.mapDimension("value"),l=f(a,function(e){return f(e.indices,function(e){var n=o.dataToPoint(t.get(r,e));return n[1]=t.get(s,e),n})}),u=function zm(t){for(var e=t.length,n=t[0].length,i=[],o=[],a=0,r={},s=0;s<n;++s){for(var l=0,u=0;l<e;++l)u+=t[l][s][1];u>a&&(a=u),i.push(u)}for(var h=0;h<n;++h)o[h]=(a-i[h])/2;a=0;for(var c=0;c<n;++c){var d=i[c]+o[c];d>a&&(a=d)}return r.y0=o,r.max=a,r}(l),h=u.y0,c=n/u.max,d=a.length,p=a[0].indices.length,g=0;g<p;++g){i=h[g]*c,t.setItemLayout(a[0].indices[g],{"layerIndex":0,"x":l[0][g][0],"y0":i,"y":l[0][g][1]*c});for(var m=1;m<d;++m)i+=l[m-1][g][1]*c,t.setItemLayout(a[m].indices[g],{"layerIndex":m,"x":l[m][g][0],"y0":i,"y":l[m][g][1]*c})}}function Vm(t,e,i){function n(){r.ignore=r.hoverIgnore}function o(){r.ignore=r.normalIgnore}Zb.call(this);var a=new fM({"z2":sO});a.seriesIndex=e.seriesIndex;var r=new rM({"z2":lO,"silent":t.getModel("label").get("silent")});this.add(a),this.add(r),this.updateData(!0,t,"normal",e,i),this.on("emphasis",n).on("normal",o).on("mouseover",n).on("mouseout",o)}function Gm(t,e,n){var i=t.getVisual("color"),o=t.getVisual("visualMeta");o&&0!==o.length||(i=null);var a=t.getModel("itemStyle").get("color");if(a)return a;if(i)return i;if(0===t.depth)return n.option.color[0];var r=n.option.color.length;return n.option.color[function Fm(t){for(var e=t;e.depth>1;)e=e.parentNode;return l(t.getAncestors()[0].children,e)}(t)%r]}function Xm(t,e){return e=e||[0,0],f(["x","y"],function(n,i){var o=this.getAxis(n),a=e[i],r=t[i]/2;return"category"===o.type?o.getBandWidth():Math.abs(o.dataToCoord(a-r)-o.dataToCoord(a+r))},this)}function jm(t,e){return e=e||[0,0],f([0,1],function(n){var i=e[n],o=t[n]/2,a=[],r=[];return a[n]=i-o,r[n]=i+o,a[1-n]=r[1-n]=e[1-n],Math.abs(this.dataToPoint(a)[n]-this.dataToPoint(r)[n])},this)}function Ym(t,e){var n=this.getAxis(),i=e instanceof Array?e[0]:e,o=(t instanceof Array?t[0]:t)/2;return"category"===n.type?n.getBandWidth():Math.abs(n.dataToCoord(i-o)-n.dataToCoord(i+o))}function qm(t,e){return f(["Radius","Angle"],function(n,i){var o=this["get"+n+"Axis"](),a=e[i],r=t[i]/2,s="dataTo"+n,l="category"===o.type?o.getBandWidth():Math.abs(o[s](a-r)-o[s](a+r));return"Angle"===n&&(l=l*Math.PI/180),l},this)}function $m(t,e,n,o,a,r,s){var l={},u=n.style||{};if(n.shape&&(l.shape=i(n.shape)),n.position&&(l.position=n.position.slice()),n.scale&&(l.scale=n.scale.slice()),n.origin&&(l.origin=n.origin.slice()),n.rotation&&(l.rotation=n.rotation),"image"===t.type&&n.style&&(h=l.style={},d(["x","y","width","height"],function(e){Jm(e,h,u,t.style,r)})),"text"===t.type&&n.style){var h=l.style={};d(["x","y"],function(e){Jm(e,h,u,t.style,r)}),!u.hasOwnProperty("textFill")&&u.fill&&(u.textFill=u.fill),!u.hasOwnProperty("textStroke")&&u.stroke&&(u.textStroke=u.stroke)}if("group"!==t.type&&(t.useStyle(u),r)){t.style.opacity=0;var c=u.opacity;null==c&&(c=1),Io(t,{"style":{"opacity":c}},o,e)}r?t.attr(l):Mo(t,l,o,e),n.hasOwnProperty("z2")&&t.attr("z2",n.z2||0),n.hasOwnProperty("silent")&&t.attr("silent",n.silent),n.hasOwnProperty("invisible")&&t.attr("invisible",n.invisible),n.hasOwnProperty("ignore")&&t.attr("ignore",n.ignore),n.hasOwnProperty("info")&&t.attr("info",n.info);var f=n.styleEmphasis,p=!1===f;t.__cusHasEmphStl&&null==f||!t.__cusHasEmphStl&&p||(ao(t,f),t.__cusHasEmphStl=!p),s&&fo(t,!p)}function Jm(t,e,n,i,o){null==n[t]||o||(e[t]=n[t],n[t]=i[t])}function Qm(t,e,n,i){function o(t){null==t&&(t=h),v&&(c=e.getItemModel(t),d=c.getModel(mO),f=c.getModel(vO),p=e.getItemVisual(t,"color"),v=!1)}var s=t.get("renderItem"),l=t.coordinateSystem,u={};l&&(u=l.prepareCustoms?l.prepareCustoms():xO[l.type](l));var h,c,d,f,p,g=r({"getWidth":i.getWidth,"getHeight":i.getHeight,"getZr":i.getZr,"getDevicePixelRatio":i.getDevicePixelRatio,"value":function value(t,n){return null==n&&(n=h),e.get(e.getDimension(t||0),n)},"style":function style(n,i){null==i&&(i=h),o(i);var r=c.getModel(pO).getItemStyle();null!=p&&(r.fill=p);var s=e.getItemVisual(i,"opacity");return null!=s&&(r.opacity=s),go(r,d,null,{"autoColor":p,"isRectText":!0}),r.text=d.getShallow("show")?A(t.getFormattedLabel(i,"normal"),xu(e,i)):null,n&&a(r,n),r},"styleEmphasis":function styleEmphasis(n,i){null==i&&(i=h),o(i);var r=c.getModel(gO).getItemStyle();return go(r,f,null,{"isRectText":!0},!0),r.text=f.getShallow("show")?D(t.getFormattedLabel(i,"emphasis"),t.getFormattedLabel(i,"normal"),xu(e,i)):null,n&&a(r,n),r},"visual":function visual(t,n){return null==n&&(n=h),e.getItemVisual(n,t)},"barLayout":function barLayout(t){if(l.getBaseAxis)return function Cl(t){var e=[],n=t.axis;if("category"===n.type){for(var i=n.getBandWidth(),o=0;o<t.count;o++)e.push(r({"bandWidth":i,"axisKey":"axis0","stackId":BA+o},t));var a=Pl(e),s=[];for(o=0;o<t.count;o++){var l=a.axis0[BA+o];l.offsetCenter=l.offset+l.width/2,s.push(l)}return s}}(r({"axis":l.getBaseAxis()},t))},"currentSeriesIndices":function currentSeriesIndices(){return n.getCurrentSeriesIndices()},"font":function font(t){return bo(t,n)}},u.api||{}),m={"context":{},"seriesId":t.id,"seriesName":t.name,"seriesIndex":t.seriesIndex,"coordSys":u.coordSys,"dataInsideLength":e.count(),"encode":tv(t.getData())},v=!0;return function(t,n){return h=t,v=!0,s&&s(r({"dataIndexInside":t,"dataIndex":e.getRawIndex(t),"actionType":n?n.type:null},m),g)}}function tv(t){var e={};return d(t.dimensions,function(n,i){var o=t.getDimensionInfo(n);if(!o.isExtraCoord){var a=o.coordDim;(e[a]=e[a]||[])[o.coordDimIndex]=i}}),e}function ev(t,e,n,i,o,a){return(t=iv(t,e,n,i,o,a,!0))&&a.setItemGraphicEl(e,t),t}function iv(t,e,n,i,o,a,r){var s=!n,l=(n=n||{}).type,u=n.shape,h=n.style;if(t&&(s||null!=l&&l!==t.__customGraphicType||"path"===l&&function uv(t){return t&&(t.hasOwnProperty("pathData")||t.hasOwnProperty("d"))}(u)&&lv(u)!==t.__customPathData||"image"===l&&hv(h,"image")&&h.image!==t.__customImagePath||"text"===l&&hv(u,"text")&&h.text!==t.__customText)&&(o.remove(t),t=null),!s){var c=!t;return!t&&(t=function Km(t){var e,n=t.type;if("path"===n){var i=t.shape,o=null!=i.width&&null!=i.height?{"x":i.x||0,"y":i.y||0,"width":i.width,"height":i.height}:null,a=lv(i);(e=Un(a,null,o,i.layout||"center")).__customPathData=a}else"image"===n?(e=new fi({})).__customImagePath=t.style.image:"text"===n?(e=new rM({})).__customText=t.style.text:e=new(0,WM[n.charAt(0).toUpperCase()+n.slice(1)]);return e.__customGraphicType=n,e.name=t.name,e}(n)),$m(t,e,n,i,0,c,r),"group"===l&&function nv(t,e,n,i,o){var a=n.children,r=a?a.length:0,s=n.$mergeChildren,l="byName"===s||n.diffChildrenByName,u=!1===s;if(r||l||u)if(l)!function ov(t){new Us(t.oldChildren,t.newChildren,av,av,t).add(rv).update(rv).remove(sv).execute()}({"oldChildren":t.children()||[],"newChildren":a||[],"dataIndex":e,"animatableModel":i,"group":t,"data":o});else{u&&t.removeAll();for(var h=0;h<r;h++)a[h]&&iv(t.childAt(h),e,a[h],i,t,o)}}(t,e,n,i,a),o.add(t),t}}function av(t,e){var n=t&&t.name;return null!=n?n:yO+e}function rv(t,e){var n=this.context,i=null!=t?n.newChildren[t]:null;iv(null!=e?n.oldChildren[e]:null,n.dataIndex,i,n.animatableModel,n.group,n.data)}function sv(t){var e=this.context,n=e.oldChildren[t];n&&e.group.remove(n)}function lv(t){return t&&(t.pathData||t.d)}function hv(t,e){return t&&t.hasOwnProperty(e)}function cv(t,e,n,i){var o=n.type,a=new(0,WM[o.charAt(0).toUpperCase()+o.slice(1)])(n);e.add(a),i.set(t,a),a.__ecGraphicId=t}function dv(t,e){var n=t&&t.parent;n&&("group"===t.type&&t.traverse(function(t){dv(t,e)}),e.removeKey(t.__ecGraphicId),n.remove(t))}function fv(t){return t=a({},t),d(["id","parentId","$action","hv","bounding"].concat(hI),function(e){delete t[e]}),t}function pv(t,e){var n;return d(e,function(e){null!=t[e]&&"auto"!==t[e]&&(n=!0)}),n}function mv(t,e,i){var o=a({},i),r=t[e],s=i.$action||"merge";"merge"===s?r?(n(r,o,!0),fa(r,o,{"ignoreSize":!0}),ga(i,r)):t[e]=o:"replace"===s?t[e]=o:"remove"===s&&r&&(t[e]=null)}function xv(t,e,n){var i,o={},a="toggleSelected"===t;return n.eachComponent("legend",function(n){a&&null!=i?n[i?"select":"unSelect"](e.name):(n[t](e.name),i=n.isSelected(e.name)),d(n.getData(),function(t){var e=t.get("name");if("\n"!==e&&""!==e){var i=n.isSelected(e);o.hasOwnProperty(e)?o[e]=o[e]&&i:o[e]=i}})}),{"name":e.name,"selected":o}}function wv(t,e){var n=eI(e.get("padding")),i=e.getItemStyle(["color","opacity"]);return i.fill=e.get("backgroundColor"),new bM({"shape":{"x":t.x-n[3],"y":t.y-n[0],"width":t.width+n[1]+n[3],"height":t.height+n[0]+n[2],"r":e.get("borderRadius")},"style":i,"silent":!0,"z2":-1})}function bv(t,e){e.dispatchAction({"type":"legendToggleSelect","name":t})}function Sv(t,e,n,i){var o=n.getZr().storage.getDisplayList()[0];o&&o.useHoverLayer||n.dispatchAction({"type":"highlight","seriesName":t,"name":e,"excludeSeriesId":i})}function Mv(t,e,n,i){var o=n.getZr().storage.getDisplayList()[0];o&&o.useHoverLayer||n.dispatchAction({"type":"downplay","seriesName":t,"name":e,"excludeSeriesId":i})}function Iv(t,e,n){var i=[1,1];i[t.getOrient().index]=0,fa(e,n,{"type":"box","ignoreSize":i})}function Dv(t){var e=[],n=t.get("transitionDuration"),i=t.get("backgroundColor"),o=t.getModel("textStyle"),a=t.get("padding");return n&&e.push(function Tv(t){var e="left "+t+"s cubic-bezier(0.23, 1, 0.32, 1),top "+t+"s cubic-bezier(0.23, 1, 0.32, 1)";return f(OO,function(t){return t+"transition:"+e}).join(";")}(n)),i&&(be.canvasSupported?e.push("background-Color:"+i):(e.push("background-Color:#"+Zt(i)),e.push("filter:alpha(opacity=70)"))),kO(["width","color","radius"],function(n){var i="border-"+n,o=PO(i),a=t.get(o);null!=a&&e.push(i+":"+a+("color"===n?"":"px"))}),e.push(function Av(t){var e=[],n=t.get("fontSize"),i=t.getTextColor();return i&&e.push("color:"+i),e.push("font:"+t.getFont()),n&&e.push("line-height:"+Math.round(3*n/2)+"px"),kO(["decoration","align"],function(n){var i=t.get(n);i&&e.push("text-"+n+":"+i)}),e.join(";")}(o)),null!=a&&e.push("padding:"+eI(a).join("px ")+"px"),e.join(";")+";"}function Cv(t,e){if(be.wxa)return null;var n=document.createElement("div"),i=this._zr=e.getZr();this.el=n,this._x=e.getWidth()/2,this._y=e.getHeight()/2,t.appendChild(n),this._container=t,this._show=!1,this._hideTimeout;var o=this;n.onmouseenter=function(){o._enterable&&(clearTimeout(o._hideTimeout),o._show=!0),o._inContent=!0},n.onmousemove=function(e){if(e=e||window.event,!o._enterable){var n=i.handler;ut(t,e,!0),n.dispatch("mousemove",e)}},n.onmouseleave=function(){o._enterable&&o._show&&o.hideLater(o._hideDelay),o._inContent=!1}}function Lv(t){this._zr=t.getZr(),this._show=!1,this._hideTimeout}function kv(t){for(var e=t.pop();t.length;){var n=t.pop();n&&(Po.isInstance(n)&&(n=n.get("tooltip",!0)),"string"==typeof n&&(n={"formatter":n}),e=new Po(n,e,e.ecModel))}return e}function Pv(t,e){return t.dispatchAction||m(e.dispatchAction,e)}function Rv(t){return"center"===t||"middle"===t}function zv(t){return t.get("stack")||"__ec_stack_"+t.seriesIndex}function Bv(t){return t.dim}function Gv(t,e){vD.call(this,"radius",t,e),this.type="category"}function Fv(t,e){e=e||[0,360],vD.call(this,"angle",t,e),this.type="category"}function Wv(t,e){return e.type||(e.data?"category":"value")}function Zv(t,e){var n=this,i=n.getAngleAxis(),o=n.getRadiusAxis();if(i.scale.setExtent(1/0,-1/0),o.scale.setExtent(1/0,-1/0),t.eachSeries(function(t){if(t.coordinateSystem===n){var e=t.getData();d(e.mapDimension("radius",!0),function(t){o.scale.unionExtentFromData(e,pl(e,t))}),d(e.mapDimension("angle",!0),function(t){i.scale.unionExtentFromData(e,pl(e,t))})}}),Fl(i.scale,i.model),Fl(o.scale,o.model),"category"===i.type&&!i.onBand){var a=i.getExtent(),r=360/i.scale.count();i.inverse?a[1]+=r:a[1]-=r,i.setExtent(a[0],a[1])}}function Uv(t,e){if(t.type=e.get("type"),t.scale=Wl(e),t.onBand=e.get("boundaryGap")&&"category"===t.type,t.inverse=e.get("inverse"),"angleAxis"===e.mainType){t.inverse^=e.get("clockwise");var n=e.get("startAngle");t.setExtent(n,n+(t.inverse?-360:360))}e.axis=t,t.model=e}function Xv(t,e,n){e[1]>e[0]&&(e=e.slice().reverse());var i=t.coordToPoint([e[0],n]),o=t.coordToPoint([e[1],n]);return{"x1":i[0],"y1":i[1],"x2":o[0],"y2":o[1]}}function jv(t){return t.getRadiusAxis().inverse?0:1}function Yv(t){var e=t[0],n=t[t.length-1];e&&n&&Math.abs(Math.abs(e.coord-n.coord)-360)<1e-4&&t.pop()}function $v(t,e){e.update="updateView",Os(e,function(e,n){var i={};return n.eachComponent({"mainType":"geo","query":e},function(n){n[t](e.name),d(n.coordinateSystem.regions,function(t){i[t.name]=n.isSelected(t.name)||!1})}),{"selected":i,"name":e.name}})}function Qv(t){if(t)for(var e in t)if(t.hasOwnProperty(e))return!0}function ty(t,e,n){var a={};return QO(e,function(e){var r=a[e]=function o(){var t=function t(){};return t.prototype.__hidden=t.prototype,new t}();QO(t[e],function(t,o){if(PL.isValidType(o)){var a={"type":o,"visual":t};n&&n(a,e),r[o]=new PL(a),"opacity"===o&&((a=i(a)).type="colorAlpha",r.__hidden.__alphaForOpacity=new PL(a))}})}),a}function ey(t,e,n){var o;d(n,function(t){e.hasOwnProperty(t)&&Qv(e[t])&&(o=!0)}),o&&d(n,function(n){e.hasOwnProperty(n)&&Qv(e[n])?t[n]=i(e[n]):delete t[n]})}function oy(t){var e=["x","y"],n=["width","height"];return{"point":function point(e,n,i){if(e){var o=i.range;return ay(e[t],o)}},"rect":function rect(i,o,a){if(i){var r=a.range,s=[i[e[t]],i[e[t]]+i[n[t]]];return s[1]<s[0]&&s.reverse(),ay(s[0],r)||ay(s[1],r)||ay(r[0],s)||ay(r[1],s)}}}}function ay(t,e){return e[0]<=t&&t<=e[1]}function ry(t,e,n,i,o){for(var a=0,r=o[o.length-1];a<o.length;a++){var s=o[a];if(sy(t,e,n,i,s[0],s[1],r[0],r[1]))return!0;r=s}}function sy(t,e,n,i,o,a,r,s){var l=uy(n-t,o-r,i-e,a-s);if(function ly(t){return t<=1e-6&&t>=-1e-6}(l))return!1;var u=uy(o-t,o-r,a-e,a-s)/l;if(u<0||u>1)return!1;var h=uy(n-t,o-t,i-e,a-e)/l;return!(h<0||h>1)}function uy(t,e,n,i){return t*i-e*n}function hy(t,e,n){var i=this._targetInfoList=[],o={},a=dy(e,t);tR(rR,function(t,e){(!n||!n.include||eR(n.include,e)>=0)&&t(a,i,o)})}function cy(t){return t[0]>t[1]&&t.reverse(),t}function dy(t,e){return Vi(t,e,{"includeMainTypes":oR})}function fy(t,e,n,i){var o=n.getAxis(["x","y"][t]),a=cy(f([0,1],function(t){return e?o.coordToData(o.toLocalCoord(i[t])):o.toGlobalCoord(o.dataToCoord(i[t]))})),r=[];return r[t]=a,r[1-t]=[NaN,NaN],{"values":a,"xyMinMax":r}}function py(t,e,n,i){return[e[0]-i[t]*n[0],e[1]-i[t]*n[1]]}function my(t){return t?[t[0][1]-t[0][0],t[1][1]-t[1][0]]:[NaN,NaN]}function yy(t,e){if(!t.isDisposed()){var n=t.getZr();n[fR]=!0,t.dispatchAction({"type":"brushSelect","batch":e}),n[fR]=!1}}function xy(t,e,n,i){for(var o=0,a=e.length;o<a;o++){var r=e[o];if(t[r.brushType](i,n,r.selectors,r))return!0}}function _y(t){var e=t.brushSelector;if(_(e)){var n=[];return d(JO,function(t,i){n[i]=function(n,i,o,a){var r=i.getItemLayout(n);return t[e](r,o,a)}}),n}if(x(e)){var i={};return d(JO,function(t,n){i[n]=e}),i}return e}function wy(t,e){var n=t.option.seriesIndex;return null!=n&&"all"!==n&&(y(n)?l(n,e)<0:e!==n)}function Sy(t){return new de(t[0][0],t[1][0],t[0][1]-t[0][0],t[1][1]-t[1][0])}function My(t,e){return n({"brushType":t.brushType,"brushMode":t.brushMode,"transformable":t.transformable,"brushStyle":new Po(t.brushStyle).getItemStyle(),"removeOnClick":t.removeOnClick,"z":t.z},e,!0)}function Iy(t,e,n,i){(!i||i.$from!==t.id)&&this._brushController.setPanels(t.brushTargetManager.makePanelOpts(n)).enableBrush(t.brushOption).updateCovers(t.areas.slice())}function Ty(t,e){_R[t]=e}function Ay(t){return _R[t]}function Dy(t,e,n){this.model=t,this.ecModel=e,this.api=n,this._brushType,this._brushMode}function Cy(t,e,n){this._model=t}function Ly(t,e,n,i){var o=n.calendarModel,a=n.seriesModel,r=o?o.coordinateSystem:a?a.coordinateSystem:null;return r===this?r[t](i):null}function ky(t,e){var n=t.cellSize;y(n)?1===n.length&&(n[1]=n[0]):n=t.cellSize=[n,n];var i=f([0,1],function(t){return function da(t,e){return null!=t[cI[e][0]]||null!=t[cI[e][1]]&&null!=t[cI[e][2]]}(e,t)&&(n[t]="auto"),null!=n[t]&&"auto"!==n[t]});fa(t,e,{"type":"box","ignoreSize":i})}function Oy(t,e,n){var i=[1/0,-1/0];return DR(n,function(t){var n=t.getData();n&&DR(n.mapDimension(e,!0),function(t){var e=n.getApproximateExtent(t);e[0]<i[0]&&(i[0]=e[0]),e[1]>i[1]&&(i[1]=e[1])})}),i[1]<i[0]&&(i=[NaN,NaN]),function Ey(t,e){var n=t.getAxisModel(),i=n.getMin(!0),o="category"===n.get("type"),a=o&&n.getCategories().length;null!=i&&"dataMin"!==i&&"function"!=typeof i?e[0]=i:o&&(e[0]=a>0?0:NaN);var r=n.getMax(!0);return null!=r&&"dataMax"!==r&&"function"!=typeof r?e[1]=r:o&&(e[1]=a>0?a-1:NaN),n.get("scale",!0)||(e[0]>0&&(e[0]=0),e[1]<0&&(e[1]=0)),e}(t,i),i}function Ry(t,e){var n=t.getAxisModel(),i=t._percentWindow,o=t._valueWindow;if(i){var a=Ho(o,[0,500]);a=Math.min(a,20);var r=e||0===i[0]&&100===i[1];n.setRange(r?null:+o[0].toFixed(a),r?null:+o[1].toFixed(a))}}function By(t){var e={};return kR(["start","end","startValue","endValue","throttle"],function(n){t.hasOwnProperty(n)&&(e[n]=t[n])}),e}function Vy(t,e){var n=t._rangePropMode,i=t.get("rangeMode");kR([["start","startValue"],["end","endValue"]],function(t,o){var a=null!=e[t[0]],r=null!=e[t[1]];a&&!r?n[o]="percent":!a&&r?n[o]="value":i?n[o]=i[o]:a&&(n[o]="percent")})}function Fy(t){return"vertical"===t?"ns-resize":"ew-resize"}function Wy(t,e){var n=Uy(t),i=e.dataZoomId,o=e.coordId;d(n,function(t,n){var a=t.dataZoomInfos;a[i]&&l(e.allCoordIds,o)<0&&(delete a[i],t.count--)}),jy(n);var a=n[o];a||((a=n[o]={"coordId":o,"dataZoomInfos":{},"count":0}).controller=function Xy(t,e){var n=new nc(t.getZr());return d(["pan","zoom","scrollMove"],function(t){n.on(t,function(n){var i=[];d(e.dataZoomInfos,function(o){if(n.isAvailableBehavior(o.dataZoomModel.option)){var a=(o.getRange||{})[t],r=a&&a(e.controller,n);!o.dataZoomModel.get("disabled",!0)&&r&&i.push({"dataZoomId":o.dataZoomId,"start":r[0],"end":r[1]})}}),i.length&&e.dispatchAction(i)})}),n}(t,a),a.dispatchAction=v(Yy,t)),!a.dataZoomInfos[i]&&a.count++,a.dataZoomInfos[i]=e;var r=function qy(t){var e,n={"type_true":2,"type_move":1,"type_false":0,"type_undefined":-1},i=!0;return d(t,function(t){var o=t.dataZoomModel,a=!o.get("disabled",!0)&&(!o.get("zoomLock",!0)||"move");n["type_"+a]>n["type_"+e]&&(e=a),i&=o.get("preventDefaultMouseMove",!0)}),{"controlType":e,"opt":{"zoomOnMouseWheel":!0,"moveOnMouseMove":!0,"moveOnMouseWheel":!0,"preventDefaultMouseMove":!!i}}}(a.dataZoomInfos);a.controller.enable(r.controlType,r.opt),a.controller.setPointerChecker(e.containsPoint),Pr(a,"dispatchAction",e.dataZoomModel.get("throttle",!0),"fixRate")}function Zy(t){return t.type+"\0_"+t.id}function Uy(t){var e=t.getZr();return e[jR]||(e[jR]={})}function jy(t){d(t,function(e,n){e.count||(e.controller.dispose(),delete t[n])})}function Yy(t,e){t.dispatchAction({"type":"dataZoom","batch":e})}function Ky(t){return function(e,n,i,o){var a=this._range,r=a.slice(),s=e.axisModels[0];if(s){var l=t(r,s,e,n,i,o);return Sk(l,r,[0,100],"all"),this._range=r,a[0]!==r[0]||a[1]!==r[1]?r:void 0}}}function $y(t,e){return t&&t.hasOwnProperty&&t.hasOwnProperty(e)}function Jy(t,e,n,i){for(var o=e.targetVisuals[i],a=PL.prepareVisualTypes(o),r={"color":t.getData().getVisual("color")},s=0,l=a.length;s<l;s++){var u=a[s],h=o["opacity"===u?"__alphaForOpacity":u];h&&h.applyVisual(n,function(t){return r[t]},function(t,e){r[t]=e})}return r.color}function Qy(t,e,n){if(n[0]===n[1])return n.slice();for(var i=(n[1]-n[0])/200,o=n[0],a=[],r=0;r<=200&&o<n[1];r++)a.push(o),o+=i;return a.push(n[1]),a}function tx(t,e,n){var i=t.option,o=i.align;if(null!=o&&"auto"!==o)return o;for(var a={"width":e.getWidth(),"height":e.getHeight()},r="horizontal"===i.orient?1:0,s=[["left","right","width"],["top","bottom","height"]],l=s[r],u=[0,null,10],h={},c=0;c<3;c++)h[s[1-r][c]]=u[c],h[l[c]]=2===c?n[0]:i[l[c]];var d=[["x","width",3],["y","height",0]][r],f=ha(h,a,i.padding);return l[(f.margin[d[2]]||0)+f[d[0]]+.5*f[d[1]]<.5*a[d[1]]?0:1]}function ex(t){return d(t||[],function(e){null!=t.dataIndex&&(t.dataIndexInside=t.dataIndex,t.dataIndex=null)}),t}function ix(t,e,n,i){return new vM({"shape":{"points":t},"draggable":!!n,"cursor":e,"drift":n,"onmousemove":function onmousemove(t){ib(t.event)},"ondragend":i})}function rx(t){var e=t.get("hoverLinkOnHandle");return!!(null==e?t.get("realtime"):e)}function sx(t){return"vertical"===t?"ns-resize":"ew-resize"}function lx(t,e){var n=t.inverse;("vertical"===t.orient?!n:n)&&e.reverse()}function ux(t){Ci(t,"label",["show"])}function dx(t,e,n,i,o,a){var r=[],s=fl(e,i)?e.getCalculationInfo("stackResultDimension"):i,l=yx(e,s,t),u=e.indicesOfNearest(s,l)[0];r[o]=e.get(n,u),r[a]=e.get(i,u);var h=Fo(e.get(i,u));return(h=Math.min(h,20))>=0&&(r[a]=+r[a].toFixed(h)),r}function fx(t,e){var n=t.getData(),o=t.coordinateSystem;if(e&&!function cx(t){return!isNaN(parseFloat(t.x))&&!isNaN(parseFloat(t.y))}(e)&&!y(e.coord)&&o){var a=o.dimensions,r=px(e,n,o,t);if((e=i(e)).type&&IN[e.type]&&r.baseAxis&&r.valueAxis){var s=SN(a,r.baseAxis.dim),l=SN(a,r.valueAxis.dim);e.coord=IN[e.type](n,r.baseDataDim,r.valueDataDim,s,l),e.value=e.coord[l]}else{for(var u=[null!=e.xAxis?e.xAxis:e.radiusAxis,null!=e.yAxis?e.yAxis:e.angleAxis],h=0;h<2;h++)IN[u[h]]&&(u[h]=yx(n,n.mapDimension(a[h]),u[h]));e.coord=u}}return e}function px(t,e,n,i){var o={};return null!=t.valueIndex||null!=t.valueDim?(o.valueDataDim=null!=t.valueIndex?e.getDimension(t.valueIndex):t.valueDim,o.valueAxis=n.getAxis(function gx(t,e){var n=t.getData(),i=n.dimensions;e=n.getDimension(e);for(var o=0;o<i.length;o++){var a=n.getDimensionInfo(i[o]);if(a.name===e)return a.coordDim}}(i,o.valueDataDim)),o.baseAxis=n.getOtherAxis(o.valueAxis),o.baseDataDim=e.mapDimension(o.baseAxis.dim)):(o.baseAxis=i.getBaseAxis(),o.valueAxis=n.getOtherAxis(o.baseAxis),o.baseDataDim=e.mapDimension(o.baseAxis.dim),o.valueDataDim=e.mapDimension(o.valueAxis.dim)),o}function mx(t,e){return!(t&&t.containData&&e.coord&&!function hx(t){return!(isNaN(parseFloat(t.x))&&isNaN(parseFloat(t.y)))}(e))||t.containData(e.coord)}function vx(t,e,n,i){return i<2?t.coord&&t.coord[i]:t.value}function yx(t,e,n){if("average"===n){var i=0,o=0;return t.each(e,function(t,e){isNaN(t)||(i+=t,o++)}),i/o}return"median"===n?t.getMedian(e):t.getDataExtent(e,!0)["max"===n?1:0]}function xx(t,e,n){var i=e.coordinateSystem;t.each(function(o){var a,r=t.getItemModel(o),s=Bo(r.get("x"),n.getWidth()),l=Bo(r.get("y"),n.getHeight());if(isNaN(s)||isNaN(l)){if(e.getMarkerPosition)a=e.getMarkerPosition(t.getValues(t.dimensions,o));else if(i){var u=t.get(i.dimensions[0],o),h=t.get(i.dimensions[1],o);a=i.dataToPoint([u,h])}}else a=[s,l];isNaN(s)||(a[0]=s),isNaN(l)||(a[1]=l),t.setItemLayout(o,a)})}function _x(t,e,n){var i;i=t?f(t&&t.dimensions,function(t){return r({"name":t},e.getData().getDimensionInfo(e.getData().mapDimension(t))||{})}):[{"name":"value","type":"float"}];var o=new DA(i,n),a=f(n.get("data"),v(fx,e));return t&&(a=g(a,v(mx,t))),o.initData(a,null,t?vx:function(t){return t.value}),o}function bx(t){return!isNaN(t)&&!isFinite(t)}function Sx(t,e,n,i){var o=1-t,a=i.dimensions[t];return bx(e[o])&&bx(n[o])&&e[t]===n[t]&&i.getAxis(a).containData(e[t])}function Mx(t,e){if("cartesian2d"===t.type){var n=e[0].coord,i=e[1].coord;if(n&&i&&(Sx(1,n,i,t)||Sx(0,n,i,t)))return!0}return mx(t,e[0])&&mx(t,e[1])}function Ix(t,e,n,i,o){var a,r=i.coordinateSystem,s=t.getItemModel(e),l=Bo(s.get("x"),o.getWidth()),u=Bo(s.get("y"),o.getHeight());if(isNaN(l)||isNaN(u)){if(i.getMarkerPosition)a=i.getMarkerPosition(t.getValues(t.dimensions,e));else{var h=r.dimensions,c=t.get(h[0],e),d=t.get(h[1],e);a=r.dataToPoint([c,d])}if("cartesian2d"===r.type){var f=r.getAxis("x"),p=r.getAxis("y");h=r.dimensions;bx(t.get(h[0],e))?a[0]=f.toGlobalCoord(f.getExtent()[n?0:1]):bx(t.get(h[1],e))&&(a[1]=p.toGlobalCoord(p.getExtent()[n?0:1]))}isNaN(l)||(a[0]=l),isNaN(u)||(a[1]=u)}else a=[l,u];t.setItemLayout(e,a)}function Tx(t,e,n){var i;i=t?f(t&&t.dimensions,function(t){return r({"name":t},e.getData().getDimensionInfo(e.getData().mapDimension(t))||{})}):[{"name":"value","type":"float"}];var o=new DA(i,n),a=new DA(i,n),s=new DA([],n),l=f(n.get("data"),v(AN,e,t,n));t&&(l=g(l,v(Mx,t)));var u=t?vx:function(t){return t.value};return o.initData(f(l,function(t){return t[0]}),null,u),a.initData(f(l,function(t){return t[1]}),null,u),s.initData(f(l,function(t){return t[2]})),s.hasItemOption=!0,{"from":o,"to":a,"line":s}}function Ax(t){return!isNaN(t)&&!isFinite(t)}function Dx(t,e,n,i){var o=1-t;return Ax(e[o])&&Ax(n[o])}function Cx(t,e){var n=e.coord[0],i=e.coord[1];return!("cartesian2d"!==t.type||!n||!i||!Dx(1,n,i)&&!Dx(0,n,i))||mx(t,{"coord":n,"x":e.x0,"y":e.y0})||mx(t,{"coord":i,"x":e.x1,"y":e.y1})}function Lx(t,e,n,i,o){var a,r=i.coordinateSystem,s=t.getItemModel(e),l=Bo(s.get(n[0]),o.getWidth()),u=Bo(s.get(n[1]),o.getHeight());if(isNaN(l)||isNaN(u)){if(i.getMarkerPosition)a=i.getMarkerPosition(t.getValues(n,e));else{var h=[f=t.get(n[0],e),p=t.get(n[1],e)];r.clampData&&r.clampData(h,h),a=r.dataToPoint(h,!0)}if("cartesian2d"===r.type){var c=r.getAxis("x"),d=r.getAxis("y"),f=t.get(n[0],e),p=t.get(n[1],e);Ax(f)?a[0]=c.toGlobalCoord(c.getExtent()["x0"===n[0]?0:1]):Ax(p)&&(a[1]=d.toGlobalCoord(d.getExtent()["y0"===n[1]?0:1]))}isNaN(l)||(a[0]=l),isNaN(u)||(a[1]=u)}else a=[l,u];return a}function Nx(t){var e=t.itemStyle||(t.itemStyle={}),n=e.emphasis||(e.emphasis={}),i=t.label||t.label||{},o=i.normal||(i.normal={}),a={"normal":1,"emphasis":1};d(i,function(t,e){a[e]||Ox(o,e)||(o[e]=t)}),n.label&&!Ox(i,"emphasis")&&(i.emphasis=n.label,delete n.label)}function Ox(t,e){return t.hasOwnProperty(e)}function Rx(t,e,n,o){return Un(t.get(e).replace(/^path:\/\//,""),i(o||{}),new de(n[0],n[1],n[2],n[3]),"center")}function zx(t,e,i,o,a,r){var s=e.get("color");a?(a.setColor(s),i.add(a),r&&r.onUpdate(a)):((a=$l(t.get("symbol"),-1,-1,2,2,s)).setStyle("strokeNoScale",!0),i.add(a),r&&r.onCreate(a));var l=e.getItemStyle(["color","symbol","symbolSize"]);a.setStyle(l),o=n({"rectHover":!0,"z2":100},o,!0);var u=t.get("symbolSize");(u=u instanceof Array?u.slice():[+u,+u])[0]/=2,u[1]/=2,o.scale=u;var h=t.get("symbolOffset");if(h){var c=o.position=o.position||[0,0];c[0]+=Bo(h[0],u[0]),c[1]+=Bo(h[1],u[1])}var d=t.get("symbolRotate");return o.rotation=(d||0)*Math.PI/180||0,a.attr(o),a.updateTransform(),a}function Bx(t,e,n,i,o){if(!t.dragging){var a=i.getModel("checkpointStyle"),r=n.dataToCoord(i.getData().get(["value"],e));o||!a.get("animation",!0)?t.attr({"position":[r,0]}):(t.stopAnimation(!0),t.animateTo({"position":[r,0]},a.get("animationDuration",!0),a.get("animationEasing",!0)))}}function Gx(t){this.model=t}function Fx(t){this.model=t}function Ux(t){var e=function Wx(t){var e={},n=[],i=[];return t.eachRawSeries(function(t){var o=t.coordinateSystem;if(!o||"cartesian2d"!==o.type&&"polar"!==o.type)n.push(t);else{var a=o.getBaseAxis();if("category"===a.type){var r=a.dim+"_"+a.index;e[r]||(e[r]={"categoryAxis":a,"valueAxis":o.getOtherAxis(a),"series":[]},i.push({"axisDim":a.dim,"axisIndex":a.index})),e[r].series.push(t)}else n.push(t)}}),{"seriesGroupByCategoryAxis":e,"other":n,"meta":i}}(t);return{"value":g([function Hx(t){var e=[];return d(t,function(t,n){var i=t.categoryAxis,o=t.valueAxis.dim,a=[" "].concat(f(t.series,function(t){return t.name})),r=[i.model.getCategories()];d(t.series,function(t){r.push(t.getRawData().mapArray(o,function(t){return t}))});for(var s=[a.join(jN)],l=0;l<r[0].length;l++){for(var u=[],h=0;h<r.length;h++)u.push(r[h][l]);s.push(u.join(jN))}e.push(s.join("\n"))}),e.join("\n\n"+WN+"\n\n")}(e.seriesGroupByCategoryAxis),function Zx(t){return f(t,function(t){var e=t.getRawData(),n=[t.name],i=[];return e.each(e.dimensions,function(){for(var t=arguments.length,o=arguments[t-1],a=e.getName(o),r=0;r<t-1;r++)i[r]=arguments[r];n.push((a?a+jN:"")+i.join(jN))}),n.join("\n")}).join("\n\n"+WN+"\n\n")}(e.other)],function(t){return t.replace(/[\n\t\s]/g,"")}).join("\n\n"+WN+"\n\n"),"meta":e.meta}}function Xx(t){return t.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function Kx(t,e){var n={"series":[]};return d(t.split(new RegExp("\n*"+WN+"\n*","g")),function(t,i){if(function jx(t){if(t.slice(0,t.indexOf("\n")).indexOf(jN)>=0)return!0}(t)){var o=function Yx(t){for(var e=t.split(/\n+/g),n=[],i=f(Xx(e.shift()).split(ZN),function(t){return{"name":t,"data":[]}}),o=0;o<e.length;o++){var a=Xx(e[o]).split(ZN);n.push(a.shift());for(var r=0;r<a.length;r++)i[r]&&(i[r].data[o]=a[r])}return{"series":i,"categories":n}}(t),a=e[i],r=a.axisDim+"Axis";a&&(n[r]=n[r]||[],n[r][a.axisIndex]={"data":o.categories},n.series=n.series.concat(o.series))}else o=function qx(t){for(var e=t.split(/\n+/g),n=Xx(e.shift()),i=[],o=0;o<e.length;o++){var a,r=Xx(e[o]).split(ZN),s="",l=!1;isNaN(r[0])?(l=!0,s=r[0],r=r.slice(1),i[o]={"name":s,"value":[]},a=i[o].value):a=i[o]=[];for(var u=0;u<r.length;u++)a.push(+r[u]);1===a.length&&(l?i[o].value=a[0]:i[o]=a[0])}return{"name":n,"data":i}}(t),n.series.push(o)}),n}function $x(t){this._dom=null,this.model=t}function n_(t){var e=t[XN];return e||(e=t[XN]=[{}]),e}function o_(t,e,n){(this._brushController=new Rf(n.getZr())).on("brush",m(this._onBrush,this)).mount(),this._isZoomActive}function a_(t){var e={};return d(["xAxisIndex","yAxisIndex"],function(n){e[n]=t[n],null==e[n]&&(e[n]="all"),(!1===e[n]||"none"===e[n])&&(e[n]=[])}),e}function r_(t,e){t.setIconStatus("back",function i_(t){return n_(t).length}(e)>1?"emphasis":"normal")}function l_(t){this.model=t}function u_(t){return tE(t)}function c_(t){return parseInt(t,10)}function d_(t,e){(function h_(){if(!iE&&oE){iE=!0;var t=oE.styleSheets;t.length<31?oE.createStyleSheet().addRule(".zrvml","behavior:url(#default#VML)"):t[0].addRule(".zrvml","behavior:url(#default#VML)")}})(),this.root=t,this.storage=e;var n=document.createElement("div"),i=document.createElement("div");n.style.cssText="display:inline-block;overflow:hidden;position:relative;width:300px;height:150px;",i.style.cssText="position:absolute;left:0;top:0;",t.appendChild(n),this._vmlRoot=i,this._vmlViewport=n,this.resize();var o=e.delFromStorage,a=e.addToStorage;e.delFromStorage=function(t){o.call(e,t),t&&t.onRemove&&t.onRemove(i)},e.addToStorage=function(t){t.onAdd&&t.onAdd(i),a.call(e,t)},this._firstPaint=!0}function p_(t){return document.createElementNS(EE,t)}function g_(t){return UE(1e4*t)/1e4}function m_(t){return t<JE&&t>-JE}function x_(t,e){e&&__(t,"transform","matrix("+HE.call(e,",")+")")}function __(t,e,n){(!n||"linear"!==n.type&&"radial"!==n.type)&&t.setAttribute(e,n)}function b_(t,e,n,i){if(function v_(t,e){var n=e?t.textFill:t.fill;return null!=n&&n!==jE}(e,n)){var o=n?e.textFill:e.fill;o="transparent"===o?jE:o,"none"!==t.getAttribute("clip-path")&&o===jE&&(o="rgba(0, 0, 0, 0.002)"),__(t,"fill",o),__(t,"fill-opacity",null!=e.fillOpacity?e.fillOpacity*e.opacity:e.opacity)}else __(t,"fill",jE);if(function y_(t,e){var n=e?t.textStroke:t.stroke;return null!=n&&n!==jE}(e,n)){var a=n?e.textStroke:e.stroke;__(t,"stroke",a="transparent"===a?jE:a),__(t,"stroke-width",(n?e.textStrokeWidth:e.lineWidth)/(!n&&e.strokeNoScale?i.getLineScale():1)),__(t,"paint-order",n?"stroke":"fill"),__(t,"stroke-opacity",null!=e.strokeOpacity?e.strokeOpacity:e.opacity),e.lineDash?(__(t,"stroke-dasharray",e.lineDash.join(",")),__(t,"stroke-dashoffset",UE(e.lineDashOffset||0))):__(t,"stroke-dasharray",""),e.lineCap&&__(t,"stroke-linecap",e.lineCap),e.lineJoin&&__(t,"stroke-linejoin",e.lineJoin),e.miterLimit&&__(t,"stroke-miterlimit",e.miterLimit)}else __(t,"stroke",jE)}function M_(t){return"middle"===t?"middle":"bottom"===t?"after-edge":"hanging"}function I_(){}function T_(t,e,n,i){for(var o=0,a=e.length,r=0,s=0;o<a;o++){var l=e[o];if(l.removed){for(var u=[],h=s;h<s+l.count;h++)u.push(h);l.indices=u,s+=l.count}else{for(u=[],h=r;h<r+l.count;h++)u.push(h);l.indices=u,r+=l.count,l.added||(s+=l.count)}}return e}function A_(t){return{"newPos":t.newPos,"components":t.components.slice(0)}}function D_(t,e,n,i,o){this._zrId=t,this._svgRoot=e,this._tagNames="string"==typeof n?[n]:n,this._markLabel=i,this._domName=o||"_dom",this.nextId=0}function C_(t,e){D_.call(this,t,e,["linearGradient","radialGradient"],"__gradient_in_use__")}function L_(t,e){D_.call(this,t,e,"clipPath","__clippath_in_use__")}function k_(t,e){D_.call(this,t,e,["filter"],"__filter_in_use__","_shadowDom")}function P_(t){return t&&(t.shadowBlur||t.shadowOffsetX||t.shadowOffsetY||t.textShadowBlur||t.textShadowOffsetX||t.textShadowOffsetY)}function N_(t){return parseInt(t,10)}function O_(t){return t instanceof kn?tz:t instanceof fi?ez:t instanceof rM?nz:tz}function E_(t,e){return e&&t&&e.parentNode!==t}function R_(t,e,n){if(E_(t,e)&&n){var i=n.nextSibling;i?t.insertBefore(e,i):t.appendChild(e)}}function z_(t,e){if(E_(t,e)){var n=t.firstChild;n?t.insertBefore(e,n):t.appendChild(e)}}function B_(t,e){e&&t&&e.parentNode===t&&t.removeChild(e)}function V_(t){return t.__textSvgEl}function G_(t){return t.__svgEl}var rt=2311,ge=function H_(){return rt++},be="object"==("undefined"==typeof wx?"undefined":se(wx))&&"function"==typeof wx.getSystemInfoSync?{"browser":{},"os":{},"node":!1,"wxa":!0,"canvasSupported":!0,"svgSupported":!1,"touchEventsSupported":!0,"domSupported":!1}:"undefined"==typeof document&&"undefined"!=typeof self?{"browser":{},"os":{},"node":!1,"worker":!0,"canvasSupported":!0,"domSupported":!1}:"undefined"==typeof navigator?{"browser":{},"os":{},"node":!0,"worker":!1,"canvasSupported":!0,"svgSupported":!0,"domSupported":!1}:function(t){var e={},n=t.match(/Firefox\/([\d.]+)/),i=t.match(/MSIE\s([\d.]+)/)||t.match(/Trident\/.+?rv:(([\d.]+))/),o=t.match(/Edge\/([\d.]+)/),a=/micromessenger/i.test(t);return n&&(e.firefox=!0,e.version=n[1]),i&&(e.ie=!0,e.version=i[1]),o&&(e.edge=!0,e.version=o[1]),a&&(e.weChat=!0),{"browser":e,"os":{},"node":!1,"canvasSupported":!!document.createElement("canvas").getContext,"svgSupported":"undefined"!=typeof SVGRect,"touchEventsSupported":"ontouchstart"in window&&!e.ie&&!e.edge,"pointerEventsSupported":"onpointerdown"in window&&(e.edge||e.ie&&e.version>=11),"domSupported":"undefined"!=typeof document}}(navigator.userAgent),Se={"[object Function]":1,"[object RegExp]":1,"[object Date]":1,"[object Error]":1,"[object CanvasGradient]":1,"[object CanvasPattern]":1,"[object Image]":1,"[object Canvas]":1},Ro={"[object Int8Array]":1,"[object Uint8Array]":1,"[object Uint8ClampedArray]":1,"[object Int16Array]":1,"[object Uint16Array]":1,"[object Int32Array]":1,"[object Uint32Array]":1,"[object Float32Array]":1,"[object Float64Array]":1},Pa=Object.prototype.toString,ll=Array.prototype,Hl=ll.forEach,oh=ll.filter,Tp=ll.slice,sg=ll.map,Ag=ll.reduce,hx={},gx=function iw(){return hx.createCanvas()};hx.createCanvas=function(){return document.createElement("canvas")};var W_,j_="__ec_primitive__";E.prototype={"constructor":E,"get":function get(t){return this.data.hasOwnProperty(t)?this.data[t]:null},"set":function set(t,e){return this.data[t]=e},"each":function each(t,e){for(var n in void 0!==e&&(t=m(t,e)),this.data)this.data.hasOwnProperty(n)&&t(this.data[n],n)},"removeKey":function removeKey(t){delete this.data[t]}};var Z_=(Object.freeze||Object)({"$override":e,"clone":i,"merge":n,"mergeAll":o,"extend":a,"defaults":r,"createCanvas":gx,"getContext":s,"indexOf":l,"inherits":u,"mixin":h,"isArrayLike":c,"each":d,"map":f,"reduce":p,"filter":g,"find":function find(t,e,n){if(t&&e)for(var i=0,o=t.length;i<o;i++)if(e.call(n,t[i],i,t))return t[i]},"bind":m,"curry":v,"isArray":y,"isFunction":x,"isString":_,"isObject":w,"isBuiltInObject":b,"isTypedArray":S,"isDom":M,"eqNaN":I,"retrieve":T,"retrieve2":A,"retrieve3":D,"slice":C,"normalizeCssArray":L,"assert":k,"trim":P,"setAsPrimitive":N,"isPrimitive":O,"createHashMap":R,"concatArray":z,"noop":B}),U_="undefined"==typeof Float32Array?Array:Float32Array,X_=X,Y_=j,q_=K,$_=$,K_=(Object.freeze||Object)({"create":V,"copy":G,"clone":F,"set":W,"add":H,"scaleAndAdd":Z,"sub":U,"len":X,"length":X_,"lenSquare":j,"lengthSquare":Y_,"mul":function mul(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t},"div":function div(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t},"dot":function dot(t,e){return t[0]*e[0]+t[1]*e[1]},"scale":Y,"normalize":q,"distance":K,"dist":q_,"distanceSquare":$,"distSquare":$_,"negate":function negate(t,e){return t[0]=-e[0],t[1]=-e[1],t},"lerp":J,"applyTransform":Q,"min":tt,"max":et});it.prototype={"constructor":it,"_dragStart":function _dragStart(t){var e=t.target;e&&e.draggable&&(this._draggingTarget=e,e.dragging=!0,this._x=t.offsetX,this._y=t.offsetY,this.dispatchToElement(nt(e,t),"dragstart",t.event))},"_drag":function _drag(t){var e=this._draggingTarget;if(e){var n=t.offsetX,i=t.offsetY,o=n-this._x,a=i-this._y;this._x=n,this._y=i,e.drift(o,a,t),this.dispatchToElement(nt(e,t),"drag",t.event);var r=this.findHover(n,i,e).target,s=this._dropTarget;this._dropTarget=r,e!==r&&(s&&r!==s&&this.dispatchToElement(nt(s,t),"dragleave",t.event),r&&r!==s&&this.dispatchToElement(nt(r,t),"dragenter",t.event))}},"_dragEnd":function _dragEnd(t){var e=this._draggingTarget;e&&(e.dragging=!1),this.dispatchToElement(nt(e,t),"dragend",t.event),this._dropTarget&&this.dispatchToElement(nt(this._dropTarget,t),"drop",t.event),this._draggingTarget=null,this._dropTarget=null}};var Q_=Array.prototype.slice,J_=function fw(t){this._$handlers={},this._$eventProcessor=t};J_.prototype={"constructor":J_,"one":function one(t,e,n,i){return at(this,t,e,n,i,!0)},"on":function on(t,e,n,i){return at(this,t,e,n,i,!1)},"isSilent":function isSilent(t){var e=this._$handlers;return!e[t]||!e[t].length},"off":function off(t,e){var n=this._$handlers;if(!t)return this._$handlers={},this;if(e){if(n[t]){for(var i=[],o=0,a=n[t].length;o<a;o++)n[t][o].h!==e&&i.push(n[t][o]);n[t]=i}n[t]&&0===n[t].length&&delete n[t]}else delete n[t];return this},"trigger":function trigger(t){var e=this._$handlers[t],n=this._$eventProcessor;if(e){var i=arguments,o=i.length;o>3&&(i=Q_.call(i,1));for(var a=e.length,r=0;r<a;){var s=e[r];if(n&&n.filter&&null!=s.query&&!n.filter(t,s.query))r++;else{switch(o){case 1:s.h.call(s.ctx);break;case 2:s.h.call(s.ctx,i[1]);break;case 3:s.h.call(s.ctx,i[1],i[2]);break;default:s.h.apply(s.ctx,i)}s.one?(e.splice(r,1),a--):r++}}}return n&&n.afterTrigger&&n.afterTrigger(t),this},"triggerWithContext":function triggerWithContext(t){var e=this._$handlers[t],n=this._$eventProcessor;if(e){var i=arguments,o=i.length;o>4&&(i=Q_.call(i,1,i.length-1));for(var a=i[i.length-1],r=e.length,s=0;s<r;){var l=e[s];if(n&&n.filter&&null!=l.query&&!n.filter(t,l.query))s++;else{switch(o){case 1:l.h.call(a);break;case 2:l.h.call(a,i[1]);break;case 3:l.h.call(a,i[1],i[2]);break;default:l.h.apply(a,i)}l.one?(e.splice(s,1),r--):s++}}}return n&&n.afterTrigger&&n.afterTrigger(t),this}};var eb="undefined"!=typeof window&&!!window.addEventListener,nb=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,ib=eb?function(t){t.preventDefault(),t.stopPropagation(),t.cancelBubble=!0}:function(t){t.returnValue=!1,t.cancelBubble=!0},ob=function vw(){this._track=[]};ob.prototype={"constructor":ob,"recognize":function recognize(t,e,n){return this._doTrack(t,e,n),this._recognize(t)},"clear":function clear(){return this._track.length=0,this},"_doTrack":function _doTrack(t,e,n){var i=t.touches;if(i){for(var o={"points":[],"touches":[],"target":e,"event":t},a=0,r=i.length;a<r;a++){var s=i[a],l=st(n,s,{});o.points.push([l.zrX,l.zrY]),o.touches.push(s)}this._track.push(o)}},"_recognize":function _recognize(t){for(var e in rb)if(rb.hasOwnProperty(e)){var n=rb[e](this._track,t);if(n)return n}}};var rb={"pinch":function pinch(t,e){var n=t.length;if(n){var i=(t[n-1]||{}).points,o=(t[n-2]||{}).points||i;if(o&&o.length>1&&i&&i.length>1){var a=ft(i)/ft(o);!isFinite(a)&&(a=1),e.pinchScale=a;var r=function pt(t){return[(t[0][0]+t[1][0])/2,(t[0][1]+t[1][1])/2]}(i);return e.pinchX=r[0],e.pinchY=r[1],{"type":"pinch","target":t[0].target,"event":e}}}}},sb="silent";vt.prototype.dispose=function(){};var lb=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],ub=function ww(t,e,n,i){J_.call(this),this.storage=t,this.painter=e,this.painterRoot=i,n=n||new vt,this.proxy=null,this._hovered={},this._lastTouchMoment,this._lastX,this._lastY,this._gestureMgr,it.call(this),this.setHandlerProxy(n)};ub.prototype={"constructor":ub,"setHandlerProxy":function setHandlerProxy(t){this.proxy&&this.proxy.dispose(),t&&(d(lb,function(e){t.on&&t.on(e,this[e],this)},this),t.handler=this),this.proxy=t},"mousemove":function mousemove(t){var e=t.zrX,n=t.zrY,i=this._hovered,o=i.target;o&&!o.__zr&&(o=(i=this.findHover(i.x,i.y)).target);var a=this._hovered=this.findHover(e,n),r=a.target,s=this.proxy;s.setCursor&&s.setCursor(r?r.cursor:"default"),o&&r!==o&&this.dispatchToElement(i,"mouseout",t),this.dispatchToElement(a,"mousemove",t),r&&r!==o&&this.dispatchToElement(a,"mouseover",t)},"mouseout":function mouseout(t){this.dispatchToElement(this._hovered,"mouseout",t);var e,n=t.toElement||t.relatedTarget;do{n=n&&n.parentNode}while(n&&9!==n.nodeType&&!(e=n===this.painterRoot));!e&&this.trigger("globalout",{"event":t})},"resize":function resize(t){this._hovered={}},"dispatch":function dispatch(t,e){var n=this[t];n&&n.call(this,e)},"dispose":function dispose(){this.proxy.dispose(),this.storage=this.proxy=this.painter=null},"setCursorStyle":function setCursorStyle(t){var e=this.proxy;e.setCursor&&e.setCursor(t)},"dispatchToElement":function dispatchToElement(t,e,n){var i=(t=t||{}).target;if(!i||!i.silent){for(var o="on"+e,a=function gt(t,e,n){return{"type":t,"event":n,"target":e.target,"topTarget":e.topTarget,"cancelBubble":!1,"offsetX":n.zrX,"offsetY":n.zrY,"gestureEvent":n.gestureEvent,"pinchX":n.pinchX,"pinchY":n.pinchY,"pinchScale":n.pinchScale,"wheelDelta":n.zrDelta,"zrByTouch":n.zrByTouch,"which":n.which,"stop":mt}}(e,t,n);i&&(i[o]&&(a.cancelBubble=i[o].call(i,a)),i.trigger(e,a),i=i.parent,!a.cancelBubble););a.cancelBubble||(this.trigger(e,a),this.painter&&this.painter.eachOtherLayer(function(t){"function"==typeof t[o]&&t[o].call(t,a),t.trigger&&t.trigger(e,a)}))}},"findHover":function findHover(t,e,n){for(var i=this.storage.getDisplayList(),o={"x":t,"y":e},a=i.length-1;a>=0;a--){var r;if(i[a]!==n&&!i[a].ignore&&(r=yt(i[a],t,e))&&(!o.topTarget&&(o.topTarget=i[a]),r!==sb)){o.target=i[a];break}}return o},"processGesture":function processGesture(t,e){this._gestureMgr||(this._gestureMgr=new ob);var n=this._gestureMgr;"start"===e&&n.clear();var i=n.recognize(t,this.findHover(t.zrX,t.zrY,null).target,this.proxy.dom);if("end"===e&&n.clear(),i){var o=i.type;t.gestureEvent=o,this.dispatchToElement({"target":i.target},o,i.event)}}},d(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],function(t){ub.prototype[t]=function(e){var n=this.findHover(e.zrX,e.zrY),i=n.target;if("mousedown"===t)this._downEl=i,this._downPoint=[e.zrX,e.zrY],this._upEl=i;else if("mouseup"===t)this._upEl=i;else if("click"===t){if(this._downEl!==this._upEl||!this._downPoint||q_(this._downPoint,[e.zrX,e.zrY])>4)return;this._downPoint=null}this.dispatchToElement(n,t,e)}}),h(ub,J_),h(ub,it);var hb="undefined"==typeof Float32Array?Array:Float32Array,cb=(Object.freeze||Object)({"create":xt,"identity":_t,"copy":wt,"mul":bt,"translate":St,"rotate":Mt,"scale":It,"invert":Tt,"clone":At}),db=_t,fb=5e-5,gb=function Tw(t){(t=t||{}).position||(this.position=[0,0]),null==t.rotation&&(this.rotation=0),t.scale||(this.scale=[1,1]),this.origin=this.origin||null},mb=gb.prototype;mb.transform=null,mb.needLocalTransform=function(){return Dt(this.rotation)||Dt(this.position[0])||Dt(this.position[1])||Dt(this.scale[0]-1)||Dt(this.scale[1]-1)};var vb=[];mb.updateTransform=function(){var t=this.parent,e=t&&t.transform,n=this.needLocalTransform(),i=this.transform;if(n||e){i=i||xt(),n?this.getLocalTransform(i):db(i),e&&(n?bt(i,t.transform,i):wt(i,t.transform)),this.transform=i;var o=this.globalScaleRatio;if(null!=o&&1!==o){this.getGlobalScale(vb);var a=vb[0]<0?-1:1,r=vb[1]<0?-1:1,s=((vb[0]-a)*o+a)/vb[0]||0,l=((vb[1]-r)*o+r)/vb[1]||0;i[0]*=s,i[1]*=s,i[2]*=l,i[3]*=l}this.invTransform=this.invTransform||xt(),Tt(this.invTransform,i)}else i&&db(i)},mb.getLocalTransform=function(t){return gb.getLocalTransform(this,t)},mb.setTransform=function(t){var e=this.transform,n=t.dpr||1;e?t.setTransform(n*e[0],n*e[1],n*e[2],n*e[3],n*e[4],n*e[5]):t.setTransform(n,0,0,n,0,0)},mb.restoreTransform=function(t){var e=t.dpr||1;t.setTransform(e,0,0,e,0,0)};var yb=[],xb=xt();mb.setLocalTransform=function(t){if(t){var e=t[0]*t[0]+t[1]*t[1],n=t[2]*t[2]+t[3]*t[3],i=this.position,o=this.scale;Dt(e-1)&&(e=Math.sqrt(e)),Dt(n-1)&&(n=Math.sqrt(n)),t[0]<0&&(e=-e),t[3]<0&&(n=-n),i[0]=t[4],i[1]=t[5],o[0]=e,o[1]=n,this.rotation=Math.atan2(-t[1]/n,t[0]/e)}},mb.decomposeTransform=function(){if(this.transform){var t=this.parent,e=this.transform;t&&t.transform&&(bt(yb,t.invTransform,e),e=yb);var n=this.origin;n&&(n[0]||n[1])&&(xb[4]=n[0],xb[5]=n[1],bt(yb,e,xb),yb[4]-=n[0],yb[5]-=n[1],e=yb),this.setLocalTransform(e)}},mb.getGlobalScale=function(t){var e=this.transform;return t=t||[],e?(t[0]=Math.sqrt(e[0]*e[0]+e[1]*e[1]),t[1]=Math.sqrt(e[2]*e[2]+e[3]*e[3]),e[0]<0&&(t[0]=-t[0]),e[3]<0&&(t[1]=-t[1]),t):(t[0]=1,t[1]=1,t)},mb.transformCoordToLocal=function(t,e){var n=[t,e],i=this.invTransform;return i&&Q(n,n,i),n},mb.transformCoordToGlobal=function(t,e){var n=[t,e],i=this.transform;return i&&Q(n,n,i),n},gb.getLocalTransform=function(t,e){db(e=e||[]);var n=t.origin,i=t.scale||[1,1],o=t.rotation||0,a=t.position||[0,0];return n&&(e[4]-=n[0],e[5]-=n[1]),It(e,e,i),o&&Mt(e,e,o),n&&(e[4]+=n[0],e[5]+=n[1]),e[4]+=a[0],e[5]+=a[1],e};var _b={"linear":function linear(t){return t},"quadraticIn":function quadraticIn(t){return t*t},"quadraticOut":function quadraticOut(t){return t*(2-t)},"quadraticInOut":function quadraticInOut(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)},"cubicIn":function cubicIn(t){return t*t*t},"cubicOut":function cubicOut(t){return--t*t*t+1},"cubicInOut":function cubicInOut(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)},"quarticIn":function quarticIn(t){return t*t*t*t},"quarticOut":function quarticOut(t){return 1- --t*t*t*t},"quarticInOut":function quarticInOut(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)},"quinticIn":function quinticIn(t){return t*t*t*t*t},"quinticOut":function quinticOut(t){return--t*t*t*t*t+1},"quinticInOut":function quinticInOut(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)},"sinusoidalIn":function sinusoidalIn(t){return 1-Math.cos(t*Math.PI/2)},"sinusoidalOut":function sinusoidalOut(t){return Math.sin(t*Math.PI/2)},"sinusoidalInOut":function sinusoidalInOut(t){return.5*(1-Math.cos(Math.PI*t))},"exponentialIn":function exponentialIn(t){return 0===t?0:Math.pow(1024,t-1)},"exponentialOut":function exponentialOut(t){return 1===t?1:1-Math.pow(2,-10*t)},"exponentialInOut":function exponentialInOut(t){return 0===t?0:1===t?1:(t*=2)<1?.5*Math.pow(1024,t-1):.5*(2-Math.pow(2,-10*(t-1)))},"circularIn":function circularIn(t){return 1-Math.sqrt(1-t*t)},"circularOut":function circularOut(t){return Math.sqrt(1- --t*t)},"circularInOut":function circularInOut(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},"elasticIn":function elasticIn(t){var e,n=.1;return 0===t?0:1===t?1:(!n||n<1?(n=1,e=.1):e=.4*Math.asin(1/n)/(2*Math.PI),-n*Math.pow(2,10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/.4))},"elasticOut":function elasticOut(t){var e,n=.1;return 0===t?0:1===t?1:(!n||n<1?(n=1,e=.1):e=.4*Math.asin(1/n)/(2*Math.PI),n*Math.pow(2,-10*t)*Math.sin((t-e)*(2*Math.PI)/.4)+1)},"elasticInOut":function elasticInOut(t){var e,n=.1;return 0===t?0:1===t?1:(!n||n<1?(n=1,e=.1):e=.4*Math.asin(1/n)/(2*Math.PI),(t*=2)<1?n*Math.pow(2,10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/.4)*-.5:n*Math.pow(2,-10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/.4)*.5+1)},"backIn":function backIn(t){var e=1.70158;return t*t*((e+1)*t-e)},"backOut":function backOut(t){var e=1.70158;return--t*t*((e+1)*t+e)+1},"backInOut":function backInOut(t){var e=2.5949095;return(t*=2)<1?t*t*((e+1)*t-e)*.5:.5*((t-=2)*t*((e+1)*t+e)+2)},"bounceIn":function bounceIn(t){return 1-_b.bounceOut(1-t)},"bounceOut":function bounceOut(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},"bounceInOut":function bounceInOut(t){return t<.5?.5*_b.bounceIn(2*t):.5*_b.bounceOut(2*t-1)+.5}};Ct.prototype={"constructor":Ct,"step":function step(t,e){if(this._initialized||(this._startTime=t+this._delay,this._initialized=!0),this._paused)this._pausedTime+=e;else{var n=(t-this._startTime-this._pausedTime)/this._life;if(!(n<0)){n=Math.min(n,1);var i=this.easing,o="string"==typeof i?_b[i]:i,a="function"==typeof o?o(n):n;return this.fire("frame",a),1===n?this.loop?(this.restart(t),"restart"):(this._needsRemove=!0,"destroy"):null}}},"restart":function restart(t){var e=(t-this._startTime-this._pausedTime)%this._life;this._startTime=t-e+this.gap,this._pausedTime=0,this._needsRemove=!1},"fire":function fire(t,e){this[t="on"+t]&&this[t](this._target,e)},"pause":function pause(){this._paused=!0},"resume":function resume(){this._paused=!1}};var bb=function Pw(){this.head=null,this.tail=null,this._len=0},wb=bb.prototype;wb.insert=function(t){var e=new Sb(t);return this.insertEntry(e),e},wb.insertEntry=function(t){this.head?(this.tail.next=t,t.prev=this.tail,t.next=null,this.tail=t):this.head=this.tail=t,this._len++},wb.remove=function(t){var e=t.prev,n=t.next;e?e.next=n:this.head=n,n?n.prev=e:this.tail=e,t.next=t.prev=null,this._len--},wb.len=function(){return this._len},wb.clear=function(){this.head=this.tail=null,this._len=0};var Sb=function Ow(t){this.value=t,this.next,this.prev},Mb=function Ew(t){this._list=new bb,this._map={},this._maxSize=t||10,this._lastRemovedEntry=null},Ib=Mb.prototype;Ib.put=function(t,e){var n=this._list,i=this._map,o=null;if(null==i[t]){var a=n.len(),r=this._lastRemovedEntry;if(a>=this._maxSize&&a>0){var s=n.head;n.remove(s),delete i[s.key],o=s.value,this._lastRemovedEntry=s}r?r.value=e:r=new Sb(e),r.key=t,n.insertEntry(r),i[t]=r}return o},Ib.get=function(t){var e=this._map[t],n=this._list;if(null!=e)return e!==n.tail&&(n.remove(e),n.insertEntry(e)),e.value},Ib.clear=function(){this._list.clear(),this._map={}};var Tb={"transparent":[0,0,0,0],"aliceblue":[240,248,255,1],"antiquewhite":[250,235,215,1],"aqua":[0,255,255,1],"aquamarine":[127,255,212,1],"azure":[240,255,255,1],"beige":[245,245,220,1],"bisque":[255,228,196,1],"black":[0,0,0,1],"blanchedalmond":[255,235,205,1],"blue":[0,0,255,1],"blueviolet":[138,43,226,1],"brown":[165,42,42,1],"burlywood":[222,184,135,1],"cadetblue":[95,158,160,1],"chartreuse":[127,255,0,1],"chocolate":[210,105,30,1],"coral":[255,127,80,1],"cornflowerblue":[100,149,237,1],"cornsilk":[255,248,220,1],"crimson":[220,20,60,1],"cyan":[0,255,255,1],"darkblue":[0,0,139,1],"darkcyan":[0,139,139,1],"darkgoldenrod":[184,134,11,1],"darkgray":[169,169,169,1],"darkgreen":[0,100,0,1],"darkgrey":[169,169,169,1],"darkkhaki":[189,183,107,1],"darkmagenta":[139,0,139,1],"darkolivegreen":[85,107,47,1],"darkorange":[255,140,0,1],"darkorchid":[153,50,204,1],"darkred":[139,0,0,1],"darksalmon":[233,150,122,1],"darkseagreen":[143,188,143,1],"darkslateblue":[72,61,139,1],"darkslategray":[47,79,79,1],"darkslategrey":[47,79,79,1],"darkturquoise":[0,206,209,1],"darkviolet":[148,0,211,1],"deeppink":[255,20,147,1],"deepskyblue":[0,191,255,1],"dimgray":[105,105,105,1],"dimgrey":[105,105,105,1],"dodgerblue":[30,144,255,1],"firebrick":[178,34,34,1],"floralwhite":[255,250,240,1],"forestgreen":[34,139,34,1],"fuchsia":[255,0,255,1],"gainsboro":[220,220,220,1],"ghostwhite":[248,248,255,1],"gold":[255,215,0,1],"goldenrod":[218,165,32,1],"gray":[128,128,128,1],"green":[0,128,0,1],"greenyellow":[173,255,47,1],"grey":[128,128,128,1],"honeydew":[240,255,240,1],"hotpink":[255,105,180,1],"indianred":[205,92,92,1],"indigo":[75,0,130,1],"ivory":[255,255,240,1],"khaki":[240,230,140,1],"lavender":[230,230,250,1],"lavenderblush":[255,240,245,1],"lawngreen":[124,252,0,1],"lemonchiffon":[255,250,205,1],"lightblue":[173,216,230,1],"lightcoral":[240,128,128,1],"lightcyan":[224,255,255,1],"lightgoldenrodyellow":[250,250,210,1],"lightgray":[211,211,211,1],"lightgreen":[144,238,144,1],"lightgrey":[211,211,211,1],"lightpink":[255,182,193,1],"lightsalmon":[255,160,122,1],"lightseagreen":[32,178,170,1],"lightskyblue":[135,206,250,1],"lightslategray":[119,136,153,1],"lightslategrey":[119,136,153,1],"lightsteelblue":[176,196,222,1],"lightyellow":[255,255,224,1],"lime":[0,255,0,1],"limegreen":[50,205,50,1],"linen":[250,240,230,1],"magenta":[255,0,255,1],"maroon":[128,0,0,1],"mediumaquamarine":[102,205,170,1],"mediumblue":[0,0,205,1],"mediumorchid":[186,85,211,1],"mediumpurple":[147,112,219,1],"mediumseagreen":[60,179,113,1],"mediumslateblue":[123,104,238,1],"mediumspringgreen":[0,250,154,1],"mediumturquoise":[72,209,204,1],"mediumvioletred":[199,21,133,1],"midnightblue":[25,25,112,1],"mintcream":[245,255,250,1],"mistyrose":[255,228,225,1],"moccasin":[255,228,181,1],"navajowhite":[255,222,173,1],"navy":[0,0,128,1],"oldlace":[253,245,230,1],"olive":[128,128,0,1],"olivedrab":[107,142,35,1],"orange":[255,165,0,1],"orangered":[255,69,0,1],"orchid":[218,112,214,1],"palegoldenrod":[238,232,170,1],"palegreen":[152,251,152,1],"paleturquoise":[175,238,238,1],"palevioletred":[219,112,147,1],"papayawhip":[255,239,213,1],"peachpuff":[255,218,185,1],"peru":[205,133,63,1],"pink":[255,192,203,1],"plum":[221,160,221,1],"powderblue":[176,224,230,1],"purple":[128,0,128,1],"red":[255,0,0,1],"rosybrown":[188,143,143,1],"royalblue":[65,105,225,1],"saddlebrown":[139,69,19,1],"salmon":[250,128,114,1],"sandybrown":[244,164,96,1],"seagreen":[46,139,87,1],"seashell":[255,245,238,1],"sienna":[160,82,45,1],"silver":[192,192,192,1],"skyblue":[135,206,235,1],"slateblue":[106,90,205,1],"slategray":[112,128,144,1],"slategrey":[112,128,144,1],"snow":[255,250,250,1],"springgreen":[0,255,127,1],"steelblue":[70,130,180,1],"tan":[210,180,140,1],"teal":[0,128,128,1],"thistle":[216,191,216,1],"tomato":[255,99,71,1],"turquoise":[64,224,208,1],"violet":[238,130,238,1],"wheat":[245,222,179,1],"white":[255,255,255,1],"whitesmoke":[245,245,245,1],"yellow":[255,255,0,1],"yellowgreen":[154,205,50,1]},Ab=new Mb(20),Db=null,Cb=Ut,Pb=Xt,Ob=(Object.freeze||Object)({"parse":Gt,"lift":Ht,"toHex":Zt,"fastLerp":Ut,"fastMapToColor":Cb,"lerp":Xt,"mapToColor":Pb,"modifyHSL":jt,"modifyAlpha":Yt,"stringify":qt}),Rb=Array.prototype.slice,Nb=function Zw(t,e,n,i){this._tracks={},this._target=t,this._loop=e||!1,this._getter=n||Kt,this._setter=i||$t,this._clipCount=0,this._delay=0,this._doneList=[],this._onframeList=[],this._clipList=[]};Nb.prototype={"when":function when(t,e){var n=this._tracks;for(var i in e)if(e.hasOwnProperty(i)){if(!n[i]){n[i]=[];var o=this._getter(this._target,i);if(null==o)continue;0!==t&&n[i].push({"time":0,"value":ae(o)})}n[i].push({"time":t,"value":e[i]})}return this},"during":function during(t){return this._onframeList.push(t),this},"pause":function pause(){for(var t=0;t<this._clipList.length;t++)this._clipList[t].pause();this._paused=!0},"resume":function resume(){for(var t=0;t<this._clipList.length;t++)this._clipList[t].resume();this._paused=!1},"isPaused":function isPaused(){return!!this._paused},"_doneCallback":function _doneCallback(){this._tracks={},this._clipList.length=0;for(var t=this._doneList,e=t.length,n=0;n<e;n++)t[n].call(this)},"start":function start(t,e){var n,i=this,o=0;for(var a in this._tracks)if(this._tracks.hasOwnProperty(a)){var r=le(this,t,function(){--o||i._doneCallback()},this._tracks[a],a,e);r&&(this._clipList.push(r),o++,this.animation&&this.animation.addClip(r),n=r)}if(n){var s=n.onframe;n.onframe=function(t,e){s(t,e);for(var n=0;n<i._onframeList.length;n++)i._onframeList[n](t,e)}}return o||this._doneCallback(),this},"stop":function stop(t){for(var e=this._clipList,n=this.animation,i=0;i<e.length;i++){var o=e[i];t&&o.onframe(this._target,1),n&&n.removeClip(o)}e.length=0},"delay":function delay(t){return this._delay=t,this},"done":function done(t){return t&&this._doneList.push(t),this},"getClips":function getClips(){return this._clipList}};var Eb=1;"undefined"!=typeof window&&(Eb=Math.max(window.devicePixelRatio||1,1));var zb=Eb,Bb=function jw(){},Vb=function qw(){this.animators=[]};Vb.prototype={"constructor":Vb,"animate":function animate(t,e){var n,i=!1,o=this,a=this.__zr;if(t){var r=t.split("."),s=o;i="shape"===r[0];for(var u=0,h=r.length;u<h;u++)s&&(s=s[r[u]]);s&&(n=s)}else n=o;if(n){var c=o.animators,d=new Nb(n,e);return d.during(function(t){o.dirty(i)}).done(function(){c.splice(l(c,d),1)}),c.push(d),a&&a.animation.addAnimator(d),d}Bb('Property "'+t+'" is not existed in element '+o.id)},"stopAnimation":function stopAnimation(t){for(var e=this.animators,n=e.length,i=0;i<n;i++)e[i].stop(t);return e.length=0,this},"animateTo":function animateTo(t,e,n,i,o,a){ue(this,t,e,n,i,o,a)},"animateFrom":function animateFrom(t,e,n,i,o,a){ue(this,t,e,n,i,o,a,!0)}};var Gb=function Kw(t){gb.call(this,t),J_.call(this,t),Vb.call(this,t),this.id=t.id||ge()};Gb.prototype={"type":"element","name":"","__zr":null,"ignore":!1,"clipPath":null,"isGroup":!1,"drift":function drift(t,e){switch(this.draggable){case"horizontal":e=0;break;case"vertical":t=0}var n=this.transform;n||(n=this.transform=[1,0,0,1,0,0]),n[4]+=t,n[5]+=e,this.decomposeTransform(),this.dirty(!1)},"beforeUpdate":function beforeUpdate(){},"afterUpdate":function afterUpdate(){},"update":function update(){this.updateTransform()},"traverse":function traverse(t,e){},"attrKV":function attrKV(t,e){if("position"===t||"scale"===t||"origin"===t){if(e){var n=this[t];n||(n=this[t]=[]),n[0]=e[0],n[1]=e[1]}}else this[t]=e},"hide":function hide(){this.ignore=!0,this.__zr&&this.__zr.refresh()},"show":function show(){this.ignore=!1,this.__zr&&this.__zr.refresh()},"attr":function attr(t,e){if("string"==typeof t)this.attrKV(t,e);else if(w(t))for(var n in t)t.hasOwnProperty(n)&&this.attrKV(n,t[n]);return this.dirty(!1),this},"setClipPath":function setClipPath(t){var e=this.__zr;e&&t.addSelfToZr(e),this.clipPath&&this.clipPath!==t&&this.removeClipPath(),this.clipPath=t,t.__zr=e,t.__clipTarget=this,this.dirty(!1)},"removeClipPath":function removeClipPath(){var t=this.clipPath;t&&(t.__zr&&t.removeSelfFromZr(t.__zr),t.__zr=null,t.__clipTarget=null,this.clipPath=null,this.dirty(!1))},"addSelfToZr":function addSelfToZr(t){this.__zr=t;var e=this.animators;if(e)for(var n=0;n<e.length;n++)t.animation.addAnimator(e[n]);this.clipPath&&this.clipPath.addSelfToZr(t)},"removeSelfFromZr":function removeSelfFromZr(t){this.__zr=null;var e=this.animators;if(e)for(var n=0;n<e.length;n++)t.animation.removeAnimator(e[n]);this.clipPath&&this.clipPath.removeSelfFromZr(t)}},h(Gb,Vb),h(Gb,gb),h(Gb,J_);var Hb=Q,Wb=Math.min,jb=Math.max;de.prototype={"constructor":de,"union":function union(t){var e=Wb(t.x,this.x),n=Wb(t.y,this.y);this.width=jb(t.x+t.width,this.x+this.width)-e,this.height=jb(t.y+t.height,this.y+this.height)-n,this.x=e,this.y=n},"applyTransform":function(){var t=[],e=[],n=[],i=[];return function(o){if(o){t[0]=n[0]=this.x,t[1]=i[1]=this.y,e[0]=i[0]=this.x+this.width,e[1]=n[1]=this.y+this.height,Hb(t,t,o),Hb(e,e,o),Hb(n,n,o),Hb(i,i,o),this.x=Wb(t[0],e[0],n[0],i[0]),this.y=Wb(t[1],e[1],n[1],i[1]);var a=jb(t[0],e[0],n[0],i[0]),r=jb(t[1],e[1],n[1],i[1]);this.width=a-this.x,this.height=r-this.y}}}(),"calculateTransform":function calculateTransform(t){var e=this,n=t.width/e.width,i=t.height/e.height,o=xt();return St(o,o,[-e.x,-e.y]),It(o,o,[n,i]),St(o,o,[t.x,t.y]),o},"intersect":function intersect(t){if(!t)return!1;t instanceof de||(t=de.create(t));var e=this,n=e.x,i=e.x+e.width,o=e.y,a=e.y+e.height,r=t.x,s=t.x+t.width,l=t.y,u=t.y+t.height;return!(i<r||s<n||a<l||u<o)},"contain":function contain(t,e){var n=this;return t>=n.x&&t<=n.x+n.width&&e>=n.y&&e<=n.y+n.height},"clone":function clone(){return new de(this.x,this.y,this.width,this.height)},"copy":function copy(t){this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height},"plain":function plain(){return{"x":this.x,"y":this.y,"width":this.width,"height":this.height}}},de.create=function(t){return new de(t.x,t.y,t.width,t.height)};var Zb=function tb(t){for(var e in t=t||{},Gb.call(this,t),t)t.hasOwnProperty(e)&&(this[e]=t[e]);this._children=[],this.__storage=null,this.__dirty=!0};Zb.prototype={"constructor":Zb,"isGroup":!0,"type":"group","silent":!1,"children":function children(){return this._children.slice()},"childAt":function childAt(t){return this._children[t]},"childOfName":function childOfName(t){for(var e=this._children,n=0;n<e.length;n++)if(e[n].name===t)return e[n]},"childCount":function childCount(){return this._children.length},"add":function add(t){return t&&t!==this&&t.parent!==this&&(this._children.push(t),this._doAdd(t)),this},"addBefore":function addBefore(t,e){if(t&&t!==this&&t.parent!==this&&e&&e.parent===this){var n=this._children,i=n.indexOf(e);i>=0&&(n.splice(i,0,t),this._doAdd(t))}return this},"_doAdd":function _doAdd(t){t.parent&&t.parent.remove(t),t.parent=this;var e=this.__storage,n=this.__zr;e&&e!==t.__storage&&(e.addToStorage(t),t instanceof Zb&&t.addChildrenToStorage(e)),n&&n.refresh()},"remove":function remove(t){var e=this.__zr,n=this.__storage,i=this._children,o=l(i,t);return o<0?this:(i.splice(o,1),t.parent=null,n&&(n.delFromStorage(t),t instanceof Zb&&t.delChildrenFromStorage(n)),e&&e.refresh(),this)},"removeAll":function removeAll(){var t,e,n=this._children,i=this.__storage;for(e=0;e<n.length;e++)t=n[e],i&&(i.delFromStorage(t),t instanceof Zb&&t.delChildrenFromStorage(i)),t.parent=null;return n.length=0,this},"eachChild":function eachChild(t,e){for(var n=this._children,i=0;i<n.length;i++){var o=n[i];t.call(e,o,i)}return this},"traverse":function traverse(t,e){for(var n=0;n<this._children.length;n++){var i=this._children[n];t.call(e,i),"group"===i.type&&i.traverse(t,e)}return this},"addChildrenToStorage":function addChildrenToStorage(t){for(var e=0;e<this._children.length;e++){var n=this._children[e];t.addToStorage(n),n instanceof Zb&&n.addChildrenToStorage(t)}},"delChildrenFromStorage":function delChildrenFromStorage(t){for(var e=0;e<this._children.length;e++){var n=this._children[e];t.delFromStorage(n),n instanceof Zb&&n.delChildrenFromStorage(t)}},"dirty":function dirty(){return this.__dirty=!0,this.__zr&&this.__zr.refresh(),this},"getBoundingRect":function getBoundingRect(t){for(var e=null,n=new de(0,0,0,0),i=t||this._children,o=[],a=0;a<i.length;a++){var r=i[a];if(!r.ignore&&!r.invisible){var s=r.getBoundingRect(),l=r.getLocalTransform(o);l?(n.copy(s),n.applyTransform(l),(e=e||n.clone()).union(n)):(e=e||s.clone()).union(s)}}return e||n}},u(Zb,Gb);var Ub=32,Xb=7,Yb=function nb(){this._roots=[],this._displayList=[],this._displayListLen=0};Yb.prototype={"constructor":Yb,"traverse":function traverse(t,e){for(var n=0;n<this._roots.length;n++)this._roots[n].traverse(t,e)},"getDisplayList":function getDisplayList(t,e){return e=e||!1,t&&this.updateDisplayList(e),this._displayList},"updateDisplayList":function updateDisplayList(t){this._displayListLen=0;for(var e=this._roots,n=this._displayList,i=0,o=e.length;i<o;i++)this._updateAndAddDisplayable(e[i],null,t);n.length=this._displayListLen,be.canvasSupported&&_e(n,we)},"_updateAndAddDisplayable":function _updateAndAddDisplayable(t,e,n){if(!t.ignore||n){t.beforeUpdate(),t.__dirty&&t.update(),t.afterUpdate();var i=t.clipPath;if(i){e=e?e.slice():[];for(var o=i,a=t;o;)o.parent=a,o.updateTransform(),e.push(o),a=o,o=o.clipPath}if(t.isGroup){for(var r=t._children,s=0;s<r.length;s++){var l=r[s];t.__dirty&&(l.__dirty=!0),this._updateAndAddDisplayable(l,e,n)}t.__dirty=!1}else t.__clipPaths=e,this._displayList[this._displayListLen++]=t}},"addRoot":function addRoot(t){t.__storage!==this&&(t instanceof Zb&&t.addChildrenToStorage(this),this.addToStorage(t),this._roots.push(t))},"delRoot":function delRoot(t){if(null==t){for(n=0;n<this._roots.length;n++){var e=this._roots[n];e instanceof Zb&&e.delChildrenFromStorage(this)}return this._roots=[],this._displayList=[],void(this._displayListLen=0)}if(t instanceof Array)for(var n=0,i=t.length;n<i;n++)this.delRoot(t[n]);else{var o=l(this._roots,t);o>=0&&(this.delFromStorage(t),this._roots.splice(o,1),t instanceof Zb&&t.delChildrenFromStorage(this))}},"addToStorage":function addToStorage(t){return t&&(t.__storage=this,t.dirty(!1)),this},"delFromStorage":function delFromStorage(t){return t&&(t.__storage=null),this},"dispose":function dispose(){this._renderList=this._roots=null},"displayableSortFunc":we};var qb={"shadowBlur":1,"shadowOffsetX":1,"shadowOffsetY":1,"textShadowBlur":1,"textShadowOffsetX":1,"textShadowOffsetY":1,"textBoxShadowBlur":1,"textBoxShadowOffsetX":1,"textBoxShadowOffsetY":1},$b=function ab(t,e,n){return qb.hasOwnProperty(e)?n*=t.dpr:n},Kb={"NONE":0,"STYLE_BIND":1,"PLAIN_TEXT":2},Qb=9,tw=[["shadowBlur",0],["shadowOffsetX",0],["shadowOffsetY",0],["shadowColor","#000"],["lineCap","butt"],["lineJoin","miter"],["miterLimit",10]],ew=function ub(t){this.extendFrom(t,!1)};ew.prototype={"constructor":ew,"fill":"#000","stroke":null,"opacity":1,"fillOpacity":null,"strokeOpacity":null,"lineDash":null,"lineDashOffset":0,"shadowBlur":0,"shadowOffsetX":0,"shadowOffsetY":0,"lineWidth":1,"strokeNoScale":!1,"text":null,"font":null,"textFont":null,"fontStyle":null,"fontWeight":null,"fontSize":null,"fontFamily":null,"textTag":null,"textFill":"#000","textStroke":null,"textWidth":null,"textHeight":null,"textStrokeWidth":0,"textLineHeight":null,"textPosition":"inside","textRect":null,"textOffset":null,"textAlign":null,"textVerticalAlign":null,"textDistance":5,"textShadowColor":"transparent","textShadowBlur":0,"textShadowOffsetX":0,"textShadowOffsetY":0,"textBoxShadowColor":"transparent","textBoxShadowBlur":0,"textBoxShadowOffsetX":0,"textBoxShadowOffsetY":0,"transformText":!1,"textRotation":0,"textOrigin":null,"textBackgroundColor":null,"textBorderColor":null,"textBorderWidth":0,"textBorderRadius":0,"textPadding":null,"rich":null,"truncate":null,"blend":null,"bind":function bind(t,e,n){var i=this,o=n&&n.style,a=!o||t.__attrCachedBy!==Kb.STYLE_BIND;t.__attrCachedBy=Kb.STYLE_BIND;for(var r=0;r<tw.length;r++){var s=tw[r],l=s[0];(a||i[l]!==o[l])&&(t[l]=$b(t,l,i[l]||s[1]))}if((a||i.fill!==o.fill)&&(t.fillStyle=i.fill),(a||i.stroke!==o.stroke)&&(t.strokeStyle=i.stroke),(a||i.opacity!==o.opacity)&&(t.globalAlpha=null==i.opacity?1:i.opacity),(a||i.blend!==o.blend)&&(t.globalCompositeOperation=i.blend||"source-over"),this.hasStroke()){var u=i.lineWidth;t.lineWidth=u/(this.strokeNoScale&&e&&e.getLineScale?e.getLineScale():1)}},"hasFill":function hasFill(){var t=this.fill;return null!=t&&"none"!==t},"hasStroke":function hasStroke(){var t=this.stroke;return null!=t&&"none"!==t&&this.lineWidth>0},"extendFrom":function extendFrom(t,e){if(t)for(var n in t)!t.hasOwnProperty(n)||!0!==e&&(!1===e?this.hasOwnProperty(n):null==t[n])||(this[n]=t[n])},"set":function set(t,e){"string"==typeof t?this[t]=e:this.extendFrom(t,!0)},"clone":function clone(){var t=new this.constructor;return t.extendFrom(this,!0),t},"getGradient":function getGradient(t,e,n){for(var i=("radial"===e.type?function Se(t,e,n){var i=n.width,o=n.height,a=Math.min(i,o),r=null==e.x?.5:e.x,s=null==e.y?.5:e.y,l=null==e.r?.5:e.r;return e.global||(r=r*i+n.x,s=s*o+n.y,l*=a),t.createRadialGradient(r,s,0,r,s,l)}:function be(t,e,n){var i=null==e.x?0:e.x,o=null==e.x2?1:e.x2,a=null==e.y?0:e.y,r=null==e.y2?0:e.y2;return e.global||(i=i*n.width+n.x,o=o*n.width+n.x,a=a*n.height+n.y,r=r*n.height+n.y),i=isNaN(i)?0:i,o=isNaN(o)?1:o,a=isNaN(a)?0:a,r=isNaN(r)?0:r,t.createLinearGradient(i,a,o,r)})(t,e,n),o=e.colorStops,a=0;a<o.length;a++)i.addColorStop(o[a].offset,o[a].color);return i}};for(var nw=ew.prototype,ow=0;ow<tw.length;ow++){var aw=tw[ow];aw[0]in nw||(nw[aw[0]]=aw[1])}ew.getGradient=nw.getGradient;var rw=function fb(t,e){this.image=t,this.repeat=e,this.type="pattern"};rw.prototype.getCanvasPattern=function(t){return t.createPattern(this.image,this.repeat||"repeat")};var sw=function pb(t,e,n){var i;n=n||zb,"string"==typeof t?i=Ie(t,e,n):w(t)&&(t=(i=t).id),this.id=t,this.dom=i;var o=i.style;o&&(i.onselectstart=Me,o["-webkit-user-select"]="none",o["user-select"]="none",o["-webkit-touch-callout"]="none",o["-webkit-tap-highlight-color"]="rgba(0,0,0,0)",o.padding=0,o.margin=0,o["border-width"]=0),this.domBack=null,this.ctxBack=null,this.painter=e,this.config=null,this.clearColor=0,this.motionBlur=!1,this.lastFrameAlpha=.7,this.dpr=n};sw.prototype={"constructor":sw,"__dirty":!0,"__used":!1,"__drawIndex":0,"__startIndex":0,"__endIndex":0,"incremental":!1,"getElementCount":function getElementCount(){return this.__endIndex-this.__startIndex},"initContext":function initContext(){this.ctx=this.dom.getContext("2d"),this.ctx.dpr=this.dpr},"createBackBuffer":function createBackBuffer(){var t=this.dpr;this.domBack=Ie("back-"+this.id,this.painter,t),this.ctxBack=this.domBack.getContext("2d"),1!==t&&this.ctxBack.scale(t,t)},"resize":function resize(t,e){var n=this.dpr,i=this.dom,o=i.style,a=this.domBack;o&&(o.width=t+"px",o.height=e+"px"),i.width=t*n,i.height=e*n,a&&(a.width=t*n,a.height=e*n,1!==n&&this.ctxBack.scale(n,n))},"clear":function clear(t,e){var n,i=this.dom,o=this.ctx,a=i.width,r=i.height,s=(e=e||this.clearColor,this.motionBlur&&!t),l=this.lastFrameAlpha,u=this.dpr;(s&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(i,0,0,a/u,r/u)),o.clearRect(0,0,a,r),e&&"transparent"!==e)&&(e.colorStops?(n=e.__canvasGradient||ew.getGradient(o,e,{"x":0,"y":0,"width":a,"height":r}),e.__canvasGradient=n):e.image&&(n=rw.prototype.getCanvasPattern.call(e,o)),o.save(),o.fillStyle=n||e,o.fillRect(0,0,a,r),o.restore());if(s){var h=this.domBack;o.save(),o.globalAlpha=l,o.drawImage(h,0,0,a,r),o.restore()}}};var lw="undefined"!=typeof window&&(window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.msRequestAnimationFrame&&window.msRequestAnimationFrame.bind(window)||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(t){setTimeout(t,16)},uw=new Mb(50),hw={},cw=0,dw=5e3,fw=/\{([a-zA-Z0-9_]+)\|([^}]*)\}/g,pw="12px sans-serif",gw={"measureText":function(t,e){var n=s();return n.font=e||pw,n.measureText(t)}},mw={"left":1,"right":1,"center":1},vw={"top":1,"bottom":1,"middle":1},yw=[["textShadowBlur","shadowBlur",0],["textShadowOffsetX","shadowOffsetX",0],["textShadowOffsetY","shadowOffsetY",0],["textShadowColor","shadowColor","transparent"]],xw=new de,_w=function Ab(){};_w.prototype={"constructor":_w,"drawRectText":function drawRectText(t,e){var n=this.style;e=n.textRect||e,this.__dirty&&Ye(n);var i=n.text;if(null!=i&&(i+=""),ci(i,n)){t.save();var o=this.transform;n.transformText?this.setTransform(t):o&&(xw.copy(e),xw.applyTransform(o),e=xw),Ke(this,t,i,n,e,Qb),t.restore()}}},di.prototype={"constructor":di,"type":"displayable","__dirty":!0,"invisible":!1,"z":0,"z2":0,"zlevel":0,"draggable":!1,"dragging":!1,"silent":!1,"culling":!1,"cursor":"pointer","rectHover":!1,"progressive":!1,"incremental":!1,"globalScaleRatio":1,"beforeBrush":function beforeBrush(t){},"afterBrush":function afterBrush(t){},"brush":function brush(t,e){},"getBoundingRect":function getBoundingRect(){},"contain":function contain(t,e){return this.rectContain(t,e)},"traverse":function traverse(t,e){t.call(e,this)},"rectContain":function rectContain(t,e){var n=this.transformCoordToLocal(t,e);return this.getBoundingRect().contain(n[0],n[1])},"dirty":function dirty(){this.__dirty=this.__dirtyText=!0,this._rect=null,this.__zr&&this.__zr.refresh()},"animateStyle":function animateStyle(t){return this.animate("style",t)},"attrKV":function attrKV(t,e){"style"!==t?Gb.prototype.attrKV.call(this,t,e):this.style.set(e)},"setStyle":function setStyle(t,e){return this.style.set(t,e),this.dirty(!1),this},"useStyle":function useStyle(t){return this.style=new ew(t,this),this.dirty(!1),this}},u(di,Gb),h(di,_w),fi.prototype={"constructor":fi,"type":"image","brush":function brush(t,e){var n=this.style,i=n.image;n.bind(t,this,e);var o=this._image=Ae(i,this._image,this,this.onload);if(o&&Ce(o)){var a=n.x||0,r=n.y||0,s=n.width,l=n.height,u=o.width/o.height;if(null==s&&null!=l?s=l*u:null==l&&null!=s?l=s/u:null==s&&null==l&&(s=o.width,l=o.height),this.setTransform(t),n.sWidth&&n.sHeight){var h=n.sx||0,c=n.sy||0;t.drawImage(o,h,c,n.sWidth,n.sHeight,a,r,s,l)}else if(n.sx&&n.sy){var d=s-(h=n.sx),f=l-(c=n.sy);t.drawImage(o,h,c,d,f,a,r,s,l)}else t.drawImage(o,a,r,s,l);null!=n.text&&(this.restoreTransform(t),this.drawRectText(t,this.getBoundingRect()))}},"getBoundingRect":function getBoundingRect(){var t=this.style;return this._rect||(this._rect=new de(t.x||0,t.y||0,t.width||0,t.height||0)),this._rect}},u(fi,di);var bw=new de(0,0,0,0),Sw=new de(0,0,0,0),Mw=function Lb(t,e,n){this.type="canvas";var i=!t.nodeName||"CANVAS"===t.nodeName.toUpperCase();this._opts=n=a({},n||{}),this.dpr=n.devicePixelRatio||zb,this._singleCanvas=i,this.root=t;var o=t.style;o&&(o["-webkit-tap-highlight-color"]="transparent",o["-webkit-user-select"]=o["user-select"]=o["-webkit-touch-callout"]="none",t.innerHTML=""),this.storage=e;var r=this._zlevelList=[],s=this._layers={};if(this._layerConfig={},this._needsManuallyCompositing=!1,i){var l=t.width,u=t.height;null!=n.width&&(l=n.width),null!=n.height&&(u=n.height),this.dpr=n.devicePixelRatio||1,t.width=l*this.dpr,t.height=u*this.dpr,this._width=l,this._height=u;var h=new sw(t,this,this.dpr);h.__builtin__=!0,h.initContext(),s[314159]=h,h.zlevel=314159,r.push(314159),this._domRoot=t}else{this._width=this._getSize(0),this._height=this._getSize(1);var c=this._domRoot=function xi(t,e){var n=document.createElement("div");return n.style.cssText=["position:relative","overflow:hidden","width:"+t+"px","height:"+e+"px","padding:0","margin:0","border-width:0"].join(";")+";",n}(this._width,this._height);t.appendChild(c)}this._hoverlayer=null,this._hoverElements=[]};Mw.prototype={"constructor":Mw,"getType":function getType(){return"canvas"},"isSingleCanvas":function isSingleCanvas(){return this._singleCanvas},"getViewportRoot":function getViewportRoot(){return this._domRoot},"getViewportRootOffset":function getViewportRootOffset(){var t=this.getViewportRoot();if(t)return{"offsetLeft":t.offsetLeft||0,"offsetTop":t.offsetTop||0}},"refresh":function refresh(t){var e=this.storage.getDisplayList(!0),n=this._zlevelList;this._redrawId=Math.random(),this._paintList(e,t,this._redrawId);for(var i=0;i<n.length;i++){var o=n[i],a=this._layers[o];if(!a.__builtin__&&a.refresh){var r=0===i?this._backgroundColor:null;a.refresh(r)}}return this.refreshHover(),this},"addHover":function addHover(t,e){if(!t.__hoverMir){var n=new t.constructor({"style":t.style,"shape":t.shape,"z":t.z,"z2":t.z2,"silent":t.silent});return n.__from=t,t.__hoverMir=n,e&&n.setStyle(e),this._hoverElements.push(n),n}},"removeHover":function removeHover(t){var e=t.__hoverMir,n=this._hoverElements,i=l(n,e);i>=0&&n.splice(i,1),t.__hoverMir=null},"clearHover":function clearHover(t){for(var e=this._hoverElements,n=0;n<e.length;n++){var i=e[n].__from;i&&(i.__hoverMir=null)}e.length=0},"refreshHover":function refreshHover(){var t=this._hoverElements,e=t.length,n=this._hoverlayer;if(n&&n.clear(),e){_e(t,this.storage.displayableSortFunc),n||(n=this._hoverlayer=this.getLayer(1e5));var i={};n.ctx.save();for(var o=0;o<e;){var a=t[o],r=a.__from;r&&r.__zr?(o++,r.invisible||(a.transform=r.transform,a.invTransform=r.invTransform,a.__clipPaths=r.__clipPaths,this._doPaintEl(a,n,!0,i))):(t.splice(o,1),r.__hoverMir=null,e--)}n.ctx.restore()}},"getHoverLayer":function getHoverLayer(){return this.getLayer(1e5)},"_paintList":function _paintList(t,e,n){if(this._redrawId===n){e=e||!1,this._updateLayerStatus(t);var i=this._doPaintList(t,e);if(this._needsManuallyCompositing&&this._compositeManually(),!i){var o=this;lw(function(){o._paintList(t,e,n)})}}},"_compositeManually":function _compositeManually(){var t=this.getLayer(314159).ctx,e=this._domRoot.width,n=this._domRoot.height;t.clearRect(0,0,e,n),this.eachBuiltinLayer(function(i){i.virtual&&t.drawImage(i.dom,0,0,e,n)})},"_doPaintList":function _doPaintList(t,e){for(var n=[],i=0;i<this._zlevelList.length;i++){var o=this._zlevelList[i];(s=this._layers[o]).__builtin__&&s!==this._hoverlayer&&(s.__dirty||e)&&n.push(s)}for(var a=!0,r=0;r<n.length;r++){var s=n[r],l=s.ctx,u={};l.save();var h=e?s.__startIndex:s.__drawIndex,c=!e&&s.incremental&&Date.now,f=c&&Date.now(),p=s.zlevel===this._zlevelList[0]?this._backgroundColor:null;if(s.__startIndex===s.__endIndex)s.clear(!1,p);else if(h===s.__startIndex){var g=t[h];g.incremental&&g.notClear&&!e||s.clear(!1,p)}-1===h&&(console.error("For some unknown reason. drawIndex is -1"),h=s.__startIndex);for(var m=h;m<s.__endIndex;m++){var v=t[m];if(this._doPaintEl(v,s,e,u),v.__dirty=v.__dirtyText=!1,c&&Date.now()-f>15)break}s.__drawIndex=m,s.__drawIndex<s.__endIndex&&(a=!1),u.prevElClipPaths&&l.restore(),l.restore()}return be.wxa&&d(this._layers,function(t){t&&t.ctx&&t.ctx.draw&&t.ctx.draw()}),a},"_doPaintEl":function _doPaintEl(t,e,n,i){var o=e.ctx,a=t.transform;if((e.__dirty||n)&&!t.invisible&&0!==t.style.opacity&&(!a||a[0]||a[3])&&(!t.culling||!function mi(t,e,n){return bw.copy(t.getBoundingRect()),t.transform&&bw.applyTransform(t.transform),Sw.width=e,Sw.height=n,!bw.intersect(Sw)}(t,this._width,this._height))){var r=t.__clipPaths;i.prevElClipPaths&&!function vi(t,e){if(t===e)return!1;if(!t||!e||t.length!==e.length)return!0;for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!0}(r,i.prevElClipPaths)||(i.prevElClipPaths&&(e.ctx.restore(),i.prevElClipPaths=null,i.prevEl=null),r&&(o.save(),function yi(t,e){for(var n=0;n<t.length;n++){var i=t[n];i.setTransform(e),e.beginPath(),i.buildPath(e,i.shape),e.clip(),i.restoreTransform(e)}}(r,o),i.prevElClipPaths=r)),t.beforeBrush&&t.beforeBrush(o),t.brush(o,i.prevEl||null),i.prevEl=t,t.afterBrush&&t.afterBrush(o)}},"getLayer":function getLayer(t,e){this._singleCanvas&&!this._needsManuallyCompositing&&(t=314159);var i=this._layers[t];return i||((i=new sw("zr_"+t,this,this.dpr)).zlevel=t,i.__builtin__=!0,this._layerConfig[t]&&n(i,this._layerConfig[t],!0),e&&(i.virtual=e),this.insertLayer(t,i),i.initContext()),i},"insertLayer":function insertLayer(t,e){var n=this._layers,i=this._zlevelList,o=i.length,a=null,r=-1,s=this._domRoot;if(n[t])Bb("ZLevel "+t+" has been used already");else if(function gi(t){return!!t&&(!!t.__builtin__||"function"==typeof t.resize&&"function"==typeof t.refresh)}(e)){if(o>0&&t>i[0]){for(r=0;r<o-1&&!(i[r]<t&&i[r+1]>t);r++);a=n[i[r]]}if(i.splice(r+1,0,t),n[t]=e,!e.virtual)if(a){var l=a.dom;l.nextSibling?s.insertBefore(e.dom,l.nextSibling):s.appendChild(e.dom)}else s.firstChild?s.insertBefore(e.dom,s.firstChild):s.appendChild(e.dom)}else Bb("Layer of zlevel "+t+" is not valid")},"eachLayer":function eachLayer(t,e){var n,i,o=this._zlevelList;for(i=0;i<o.length;i++)n=o[i],t.call(e,this._layers[n],n)},"eachBuiltinLayer":function eachBuiltinLayer(t,e){var n,i,o,a=this._zlevelList;for(o=0;o<a.length;o++)i=a[o],(n=this._layers[i]).__builtin__&&t.call(e,n,i)},"eachOtherLayer":function eachOtherLayer(t,e){var n,i,o,a=this._zlevelList;for(o=0;o<a.length;o++)i=a[o],(n=this._layers[i]).__builtin__||t.call(e,n,i)},"getLayers":function getLayers(){return this._layers},"_updateLayerStatus":function _updateLayerStatus(t){function e(t){n&&(n.__endIndex!==t&&(n.__dirty=!0),n.__endIndex=t)}if(this.eachBuiltinLayer(function(t,e){t.__dirty=t.__used=!1}),this._singleCanvas)for(o=1;o<t.length;o++)if((r=t[o]).zlevel!==t[o-1].zlevel||r.incremental){this._needsManuallyCompositing=!0;break}for(var n=null,i=0,o=0;o<t.length;o++){var a,r=t[o],s=r.zlevel;r.incremental?((a=this.getLayer(s+.001,this._needsManuallyCompositing)).incremental=!0,i=1):a=this.getLayer(s+(i>0?.01:0),this._needsManuallyCompositing),a.__builtin__||Bb("ZLevel "+s+" has been used by unkown layer "+a.id),a!==n&&(a.__used=!0,a.__startIndex!==o&&(a.__dirty=!0),a.__startIndex=o,a.incremental?a.__drawIndex=-1:a.__drawIndex=o,e(o),n=a),r.__dirty&&(a.__dirty=!0,a.incremental&&a.__drawIndex<0&&(a.__drawIndex=o))}e(o),this.eachBuiltinLayer(function(t,e){!t.__used&&t.getElementCount()>0&&(t.__dirty=!0,t.__startIndex=t.__endIndex=t.__drawIndex=0),t.__dirty&&t.__drawIndex<0&&(t.__drawIndex=t.__startIndex)})},"clear":function clear(){return this.eachBuiltinLayer(this._clearLayer),this},"_clearLayer":function _clearLayer(t){t.clear()},"setBackgroundColor":function setBackgroundColor(t){this._backgroundColor=t},"configLayer":function configLayer(t,e){if(e){var i=this._layerConfig;i[t]?n(i[t],e,!0):i[t]=e;for(var o=0;o<this._zlevelList.length;o++){var a=this._zlevelList[o];a!==t&&a!==t+.01||n(this._layers[a],i[t],!0)}}},"delLayer":function delLayer(t){var e=this._layers,n=this._zlevelList,i=e[t];i&&(i.dom.parentNode.removeChild(i.dom),delete e[t],n.splice(l(n,t),1))},"resize":function resize(t,e){if(this._domRoot.style){var n=this._domRoot;n.style.display="none";var i=this._opts;if(null!=t&&(i.width=t),null!=e&&(i.height=e),t=this._getSize(0),e=this._getSize(1),n.style.display="",this._width!==t||e!==this._height){for(var o in n.style.width=t+"px",n.style.height=e+"px",this._layers)this._layers.hasOwnProperty(o)&&this._layers[o].resize(t,e);d(this._progressiveLayers,function(n){n.resize(t,e)}),this.refresh(!0)}this._width=t,this._height=e}else{if(null==t||null==e)return;this._width=t,this._height=e,this.getLayer(314159).resize(t,e)}return this},"clearLayer":function clearLayer(t){var e=this._layers[t];e&&e.clear()},"dispose":function dispose(){this.root.innerHTML="",this.root=this.storage=this._domRoot=this._layers=null},"getRenderedCanvas":function getRenderedCanvas(t){if(t=t||{},this._singleCanvas&&!this._compositeManually)return this._layers[314159].dom;var e=new sw("image",this,t.pixelRatio||this.dpr);if(e.initContext(),e.clear(!1,t.backgroundColor||this._backgroundColor),t.pixelRatio<=this.dpr){this.refresh();var n=e.dom.width,i=e.dom.height,o=e.ctx;this.eachLayer(function(t){t.__builtin__?o.drawImage(t.dom,0,0,n,i):t.renderToCanvas&&(e.ctx.save(),t.renderToCanvas(e.ctx),e.ctx.restore())})}else for(var a={},r=this.storage.getDisplayList(!0),s=0;s<r.length;s++){var l=r[s];this._doPaintEl(l,e,!0,a)}return e.dom},"getWidth":function getWidth(){return this._width},"getHeight":function getHeight(){return this._height},"_getSize":function _getSize(t){var e=this._opts,n=["width","height"][t],i=["clientWidth","clientHeight"][t],o=["paddingLeft","paddingTop"][t],a=["paddingRight","paddingBottom"][t];if(null!=e[n]&&"auto"!==e[n])return parseFloat(e[n]);var r=this.root,s=document.defaultView.getComputedStyle(r);return(r[i]||pi(s[n])||pi(r.style[n]))-(pi(s[o])||0)-(pi(s[a])||0)|0},"pathToImage":function pathToImage(t,e){e=e||this.dpr;var n=document.createElement("canvas"),i=n.getContext("2d"),o=t.getBoundingRect(),a=t.style,r=a.shadowBlur*e,s=a.shadowOffsetX*e,l=a.shadowOffsetY*e,u=a.hasStroke()?a.lineWidth:0,h=Math.max(u/2,-s+r),c=Math.max(u/2,s+r),d=Math.max(u/2,-l+r),f=Math.max(u/2,l+r),p=o.width+h+c,g=o.height+d+f;n.width=p*e,n.height=g*e,i.scale(e,e),i.clearRect(0,0,p,g),i.dpr=e;var m={"position":t.position,"rotation":t.rotation,"scale":t.scale};t.position=[h-o.x,d-o.y],t.rotation=0,t.scale=[1,1],t.updateTransform(),t&&t.brush(i);var v=new fi({"style":{"x":0,"y":0,"image":n}});return null!=m.position&&(v.position=t.position=m.position),null!=m.rotation&&(v.rotation=t.rotation=m.rotation),null!=m.scale&&(v.scale=t.scale=m.scale),v}};var Iw=function kb(t){t=t||{},this.stage=t.stage||{},this.onframe=t.onframe||function(){},this._clips=[],this._running=!1,this._time,this._pausedTime,this._pauseStart,this._paused=!1,J_.call(this)};Iw.prototype={"constructor":Iw,"addClip":function addClip(t){this._clips.push(t)},"addAnimator":function addAnimator(t){t.animation=this;for(var e=t.getClips(),n=0;n<e.length;n++)this.addClip(e[n])},"removeClip":function removeClip(t){var e=l(this._clips,t);e>=0&&this._clips.splice(e,1)},"removeAnimator":function removeAnimator(t){for(var e=t.getClips(),n=0;n<e.length;n++)this.removeClip(e[n]);t.animation=null},"_update":function _update(){for(var t=(new Date).getTime()-this._pausedTime,e=t-this._time,n=this._clips,i=n.length,o=[],a=[],r=0;r<i;r++){var s=n[r],l=s.step(t,e);l&&(o.push(l),a.push(s))}for(r=0;r<i;)n[r]._needsRemove?(n[r]=n[i-1],n.pop(),i--):r++;for(i=o.length,r=0;r<i;r++)a[r].fire(o[r]);this._time=t,this.onframe(e),this.trigger("frame",e),this.stage.update&&this.stage.update()},"_startLoop":function _startLoop(){var e=this;this._running=!0,lw(function t(){e._running&&(lw(t),!e._paused&&e._update())})},"start":function start(){this._time=(new Date).getTime(),this._pausedTime=0,this._startLoop()},"stop":function stop(){this._running=!1},"pause":function pause(){this._paused||(this._pauseStart=(new Date).getTime(),this._paused=!0)},"resume":function resume(){this._paused&&(this._pausedTime+=(new Date).getTime()-this._pauseStart,this._paused=!1)},"clear":function clear(){this._clips=[]},"isFinished":function isFinished(){return!this._clips.length},"animate":function animate(t,e){var n=new Nb(t,(e=e||{}).loop,e.getter,e.setter);return this.addAnimator(n),n}},h(Iw,J_);var Tw=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],Aw=["touchstart","touchend","touchmove"],Dw={"pointerdown":1,"pointerup":1,"pointermove":1,"pointerout":1},Cw=f(Tw,function(t){var e=t.replace("mouse","pointer");return Dw[e]?e:t}),Lw={"mousemove":function mousemove(t){t=ut(this.dom,t),this.trigger("mousemove",t)},"mouseout":function mouseout(t){var e=(t=ut(this.dom,t)).toElement||t.relatedTarget;if(e!==this.dom)for(;e&&9!==e.nodeType;){if(e===this.dom)return;e=e.parentNode}this.trigger("mouseout",t)},"touchstart":function touchstart(t){(t=ut(this.dom,t)).zrByTouch=!0,this._lastTouchMoment=new Date,this.handler.processGesture(this,t,"start"),Lw.mousemove.call(this,t),Lw.mousedown.call(this,t),wi(this)},"touchmove":function touchmove(t){(t=ut(this.dom,t)).zrByTouch=!0,this.handler.processGesture(this,t,"change"),Lw.mousemove.call(this,t),wi(this)},"touchend":function touchend(t){(t=ut(this.dom,t)).zrByTouch=!0,this.handler.processGesture(this,t,"end"),Lw.mouseup.call(this,t),+new Date-this._lastTouchMoment<300&&Lw.click.call(this,t),wi(this)},"pointerdown":function pointerdown(t){Lw.mousedown.call(this,t)},"pointermove":function pointermove(t){bi(t)||Lw.mousemove.call(this,t)},"pointerup":function pointerup(t){Lw.mouseup.call(this,t)},"pointerout":function pointerout(t){bi(t)||Lw.mouseout.call(this,t)}};d(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],function(t){Lw[t]=function(e){e=ut(this.dom,e),this.trigger(t,e)}});var kw=Mi.prototype;kw.dispose=function(){for(var t=Tw.concat(Aw),e=0;e<t.length;e++){var n=t[e];ct(this.dom,_i(n),this._handlers[n])}},kw.setCursor=function(t){this.dom.style&&(this.dom.style.cursor=t||"default")},h(Mi,J_);var Pw=!be.canvasSupported,Ow={"canvas":Mw},Rw={},Nw=function Fb(t,e,n){n=n||{},this.dom=e,this.id=t;var i=this,o=new Yb,a=n.renderer;if(Pw){if(!Ow.vml)throw new Error("You need to require 'zrender/vml/vml' to support IE8");a="vml"}else a&&Ow[a]||(a="canvas");var r=new Ow[a](e,o,n,t);this.storage=o,this.painter=r;var s=be.node||be.worker?null:new Mi(r.getViewportRoot());this.handler=new ub(o,r,s,r.root),this.animation=new Iw({"stage":{"update":m(this.flush,this)}}),this.animation.start(),this._needsRefresh;var l=o.delFromStorage,u=o.addToStorage;o.delFromStorage=function(t){l.call(o,t),t&&t.removeSelfFromZr(i)},o.addToStorage=function(t){u.call(o,t),t.addSelfToZr(i)}};Nw.prototype={"constructor":Nw,"getId":function getId(){return this.id},"add":function add(t){this.storage.addRoot(t),this._needsRefresh=!0},"remove":function remove(t){this.storage.delRoot(t),this._needsRefresh=!0},"configLayer":function configLayer(t,e){this.painter.configLayer&&this.painter.configLayer(t,e),this._needsRefresh=!0},"setBackgroundColor":function setBackgroundColor(t){this.painter.setBackgroundColor&&this.painter.setBackgroundColor(t),this._needsRefresh=!0},"refreshImmediately":function refreshImmediately(){this._needsRefresh=!1,this.painter.refresh(),this._needsRefresh=!1},"refresh":function refresh(){this._needsRefresh=!0},"flush":function flush(){var t;this._needsRefresh&&(t=!0,this.refreshImmediately()),this._needsRefreshHover&&(t=!0,this.refreshHoverImmediately()),t&&this.trigger("rendered")},"addHover":function addHover(t,e){if(this.painter.addHover){var n=this.painter.addHover(t,e);return this.refreshHover(),n}},"removeHover":function removeHover(t){this.painter.removeHover&&(this.painter.removeHover(t),this.refreshHover())},"clearHover":function clearHover(){this.painter.clearHover&&(this.painter.clearHover(),this.refreshHover())},"refreshHover":function refreshHover(){this._needsRefreshHover=!0},"refreshHoverImmediately":function refreshHoverImmediately(){this._needsRefreshHover=!1,this.painter.refreshHover&&this.painter.refreshHover()},"resize":function resize(t){t=t||{},this.painter.resize(t.width,t.height),this.handler.resize()},"clearAnimation":function clearAnimation(){this.animation.clear()},"getWidth":function getWidth(){return this.painter.getWidth()},"getHeight":function getHeight(){return this.painter.getHeight()},"pathToImage":function pathToImage(t,e){return this.painter.pathToImage(t,e)},"setCursorStyle":function setCursorStyle(t){this.handler.setCursorStyle(t)},"findHover":function findHover(t,e){return this.handler.findHover(t,e)},"on":function on(t,e,n){this.handler.on(t,e,n)},"off":function off(t,e){this.handler.off(t,e)},"trigger":function trigger(t,e){this.handler.trigger(t,e)},"clear":function clear(){this.storage.delRoot(),this.painter.clear()},"dispose":function dispose(){this.animation.stop(),this.clear(),this.storage.dispose(),this.painter.dispose(),this.handler.dispose(),this.animation=this.storage=this.painter=this.handler=null,function Ai(t){delete Rw[t]}(this.id)}};var zw=(Object.freeze||Object)({"version":"4.0.6","init":Ii,"dispose":function dispose(t){if(t)t.dispose();else{for(var e in Rw)Rw.hasOwnProperty(e)&&Rw[e].dispose();Rw={}}return this},"getInstance":function getInstance(t){return Rw[t]},"registerPainter":Ti}),Bw=d,Vw=w,Gw=y,Fw="series\0",Hw=["fontStyle","fontWeight","fontSize","fontFamily","rich","tag","color","textBorderColor","textBorderWidth","width","height","lineHeight","align","verticalAlign","baseline","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY","backgroundColor","borderColor","borderWidth","borderRadius","padding"],Ww=0,jw=".",Uw="___EC__COMPONENT__CONTAINER___",Xw=0,Yw=function Jb(t){for(var e=0;e<t.length;e++)t[e][1]||(t[e][1]=t[e][0]);return function(e,n,i){for(var o={},a=0;a<t.length;a++){var r=t[a][1];if(!(n&&l(n,r)>=0||i&&l(i,r)<0)){var s=e.getShallow(r);null!=s&&(o[t[a][0]]=s)}}return o}},qw=Yw([["lineWidth","width"],["stroke","color"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),$w={"getLineStyle":function getLineStyle(t){var e=qw(this,t),n=this.getLineDash(e.lineWidth);return n&&(e.lineDash=n),e},"getLineDash":function getLineDash(t){null==t&&(t=1);var e=this.get("type"),n=Math.max(t,2),i=4*t;return"solid"===e||null==e?null:"dashed"===e?[i,i]:[n,n]}},Qw=Yw([["fill","color"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["opacity"],["shadowColor"]]),Jw={"getAreaStyle":function getAreaStyle(t,e){return Qw(this,t,e)}},tS=Math.pow,eS=Math.sqrt,nS=1e-8,iS=1e-4,oS=eS(3),aS=1/3,rS=V(),sS=V(),lS=V(),uS=Math.min,hS=Math.max,cS=Math.sin,dS=Math.cos,fS=2*Math.PI,pS=V(),gS=V(),mS=V(),vS=[],yS=[],xS={"M":1,"L":2,"C":3,"Q":4,"A":5,"Z":6,"R":7},_S=[],bS=[],wS=[],SS=[],MS=Math.min,IS=Math.max,TS=Math.cos,AS=Math.sin,DS=Math.sqrt,CS=Math.abs,LS="undefined"!=typeof Float32Array,kS=function OS(t){this._saveData=!t,this._saveData&&(this.data=[]),this._ctx=null};kS.prototype={"constructor":kS,"_xi":0,"_yi":0,"_x0":0,"_y0":0,"_ux":0,"_uy":0,"_len":0,"_lineDash":null,"_dashOffset":0,"_dashIdx":0,"_dashSum":0,"setScale":function setScale(t,e){this._ux=CS(1/zb/t)||0,this._uy=CS(1/zb/e)||0},"getContext":function getContext(){return this._ctx},"beginPath":function beginPath(t){return this._ctx=t,t&&t.beginPath(),t&&(this.dpr=t.dpr),this._saveData&&(this._len=0),this._lineDash&&(this._lineDash=null,this._dashOffset=0),this},"moveTo":function moveTo(t,e){return this.addData(xS.M,t,e),this._ctx&&this._ctx.moveTo(t,e),this._x0=t,this._y0=e,this._xi=t,this._yi=e,this},"lineTo":function lineTo(t,e){var n=CS(t-this._xi)>this._ux||CS(e-this._yi)>this._uy||this._len<5;return this.addData(xS.L,t,e),this._ctx&&n&&(this._needsDash()?this._dashedLineTo(t,e):this._ctx.lineTo(t,e)),n&&(this._xi=t,this._yi=e),this},"bezierCurveTo":function bezierCurveTo(t,e,n,i,o,a){return this.addData(xS.C,t,e,n,i,o,a),this._ctx&&(this._needsDash()?this._dashedBezierTo(t,e,n,i,o,a):this._ctx.bezierCurveTo(t,e,n,i,o,a)),this._xi=o,this._yi=a,this},"quadraticCurveTo":function quadraticCurveTo(t,e,n,i){return this.addData(xS.Q,t,e,n,i),this._ctx&&(this._needsDash()?this._dashedQuadraticTo(t,e,n,i):this._ctx.quadraticCurveTo(t,e,n,i)),this._xi=n,this._yi=i,this},"arc":function arc(t,e,n,i,o,a){return this.addData(xS.A,t,e,n,n,i,o-i,0,a?0:1),this._ctx&&this._ctx.arc(t,e,n,i,o,a),this._xi=TS(o)*n+t,this._yi=AS(o)*n+e,this},"arcTo":function arcTo(t,e,n,i,o){return this._ctx&&this._ctx.arcTo(t,e,n,i,o),this},"rect":function rect(t,e,n,i){return this._ctx&&this._ctx.rect(t,e,n,i),this.addData(xS.R,t,e,n,i),this},"closePath":function closePath(){this.addData(xS.Z);var t=this._ctx,e=this._x0,n=this._y0;return t&&(this._needsDash()&&this._dashedLineTo(e,n),t.closePath()),this._xi=e,this._yi=n,this},"fill":function fill(t){t&&t.fill(),this.toStatic()},"stroke":function stroke(t){t&&t.stroke(),this.toStatic()},"setLineDash":function setLineDash(t){if(t instanceof Array){this._lineDash=t,this._dashIdx=0;for(var e=0,n=0;n<t.length;n++)e+=t[n];this._dashSum=e}return this},"setLineDashOffset":function setLineDashOffset(t){return this._dashOffset=t,this},"len":function len(){return this._len},"setData":function setData(t){var e=t.length;this.data&&this.data.length===e||!LS||(this.data=new Float32Array(e));for(var n=0;n<e;n++)this.data[n]=t[n];this._len=e},"appendPath":function appendPath(t){t instanceof Array||(t=[t]);for(var e=t.length,n=0,i=this._len,o=0;o<e;o++)n+=t[o].len();for(LS&&this.data instanceof Float32Array&&(this.data=new Float32Array(i+n)),o=0;o<e;o++)for(var a=t[o].data,r=0;r<a.length;r++)this.data[i++]=a[r];this._len=i},"addData":function addData(t){if(this._saveData){var e=this.data;this._len+arguments.length>e.length&&(this._expandData(),e=this.data);for(var n=0;n<arguments.length;n++)e[this._len++]=arguments[n];this._prevCmd=t}},"_expandData":function _expandData(){if(!(this.data instanceof Array)){for(var t=[],e=0;e<this._len;e++)t[e]=this.data[e];this.data=t}},"_needsDash":function _needsDash(){return this._lineDash},"_dashedLineTo":function _dashedLineTo(t,e){var n,i,o=this._dashSum,a=this._dashOffset,r=this._lineDash,s=this._ctx,l=this._xi,u=this._yi,h=t-l,c=e-u,d=DS(h*h+c*c),f=l,p=u,g=r.length;for(h/=d,c/=d,a<0&&(a=o+a),f-=(a%=o)*h,p-=a*c;h>0&&f<=t||h<0&&f>=t||0===h&&(c>0&&p<=e||c<0&&p>=e);)f+=h*(n=r[i=this._dashIdx]),p+=c*n,this._dashIdx=(i+1)%g,h>0&&f<l||h<0&&f>l||c>0&&p<u||c<0&&p>u||s[i%2?"moveTo":"lineTo"](h>=0?MS(f,t):IS(f,t),c>=0?MS(p,e):IS(p,e));h=f-t,c=p-e,this._dashOffset=-DS(h*h+c*c)},"_dashedBezierTo":function _dashedBezierTo(t,e,n,i,o,a){var r,s,l,u,h,c=this._dashSum,d=this._dashOffset,f=this._lineDash,p=this._ctx,g=this._xi,m=this._yi,v=Qi,y=0,x=this._dashIdx,_=f.length,b=0;for(d<0&&(d=c+d),d%=c,r=0;r<1;r+=.1)s=v(g,t,n,o,r+.1)-v(g,t,n,o,r),l=v(m,e,i,a,r+.1)-v(m,e,i,a,r),y+=DS(s*s+l*l);for(;x<_&&!((b+=f[x])>d);x++);for(r=(b-d)/y;r<=1;)u=v(g,t,n,o,r),h=v(m,e,i,a,r),x%2?p.moveTo(u,h):p.lineTo(u,h),r+=f[x]/y,x=(x+1)%_;x%2!=0&&p.lineTo(o,a),s=o-u,l=a-h,this._dashOffset=-DS(s*s+l*l)},"_dashedQuadraticTo":function _dashedQuadraticTo(t,e,n,i){var o=n,a=i;n=(n+2*t)/3,i=(i+2*e)/3,t=(this._xi+2*t)/3,e=(this._yi+2*e)/3,this._dashedBezierTo(t,e,n,i,o,a)},"toStatic":function toStatic(){var t=this.data;t instanceof Array&&(t.length=this._len,LS&&(this.data=new Float32Array(t)))},"getBoundingRect":function getBoundingRect(){_S[0]=_S[1]=wS[0]=wS[1]=Number.MAX_VALUE,bS[0]=bS[1]=SS[0]=SS[1]=-Number.MAX_VALUE;for(var t=this.data,e=0,n=0,i=0,o=0,a=0;a<t.length;){var r=t[a++];switch(1===a&&(i=e=t[a],o=n=t[a+1]),r){case xS.M:e=i=t[a++],n=o=t[a++],wS[0]=i,wS[1]=o,SS[0]=i,SS[1]=o;break;case xS.L:fn(e,n,t[a],t[a+1],wS,SS),e=t[a++],n=t[a++];break;case xS.C:pn(e,n,t[a++],t[a++],t[a++],t[a++],t[a],t[a+1],wS,SS),e=t[a++],n=t[a++];break;case xS.Q:gn(e,n,t[a++],t[a++],t[a],t[a+1],wS,SS),e=t[a++],n=t[a++];break;case xS.A:var s=t[a++],l=t[a++],u=t[a++],h=t[a++],c=t[a++],d=t[a++]+c;a+=1;var f=1-t[a++];1===a&&(i=TS(c)*u+s,o=AS(c)*h+l),mn(s,l,u,h,c,d,f,wS,SS),e=TS(d)*u+s,n=AS(d)*h+l;break;case xS.R:fn(i=e=t[a++],o=n=t[a++],i+t[a++],o+t[a++],wS,SS);break;case xS.Z:e=i,n=o}tt(_S,_S,wS),et(bS,bS,SS)}return 0===a&&(_S[0]=_S[1]=bS[0]=bS[1]=0),new de(_S[0],_S[1],bS[0]-_S[0],bS[1]-_S[1])},"rebuildPath":function rebuildPath(t){for(var e,n,i,o,a,r,s=this.data,l=this._ux,u=this._uy,h=this._len,c=0;c<h;){var d=s[c++];switch(1===c&&(e=i=s[c],n=o=s[c+1]),d){case xS.M:e=i=s[c++],n=o=s[c++],t.moveTo(i,o);break;case xS.L:a=s[c++],r=s[c++],(CS(a-i)>l||CS(r-o)>u||c===h-1)&&(t.lineTo(a,r),i=a,o=r);break;case xS.C:t.bezierCurveTo(s[c++],s[c++],s[c++],s[c++],s[c++],s[c++]),i=s[c-2],o=s[c-1];break;case xS.Q:t.quadraticCurveTo(s[c++],s[c++],s[c++],s[c++]),i=s[c-2],o=s[c-1];break;case xS.A:var f=s[c++],p=s[c++],g=s[c++],m=s[c++],v=s[c++],y=s[c++],x=s[c++],_=s[c++],b=g>m?g:m,w=g>m?1:g/m,S=g>m?m/g:1,M=v+y;Math.abs(g-m)>.001?(t.translate(f,p),t.rotate(x),t.scale(w,S),t.arc(0,0,b,v,M,1-_),t.scale(1/w,1/S),t.rotate(-x),t.translate(-f,-p)):t.arc(f,p,b,v,M,1-_),1===c&&(e=TS(v)*g+f,n=AS(v)*m+p),i=TS(M)*g+f,o=AS(M)*m+p;break;case xS.R:e=i=s[c],n=o=s[c+1],t.rect(s[c++],s[c++],s[c++],s[c++]);break;case xS.Z:t.closePath(),i=e,o=n}}}},kS.CMD=xS;var PS=2*Math.PI,OS=2*Math.PI,RS=kS.CMD,NS=2*Math.PI,ES=1e-4,zS=[-1,-1,-1],BS=[-1,-1],VS=rw.prototype.getCanvasPattern,GS=Math.abs,FS=new kS(!0);kn.prototype={"constructor":kn,"type":"path","__dirtyPath":!0,"strokeContainThreshold":5,"subPixelOptimize":!1,"brush":function brush(t,e){var n,i=this.style,o=this.path||FS,a=i.hasStroke(),r=i.hasFill(),s=i.fill,l=i.stroke,u=r&&!!s.colorStops,h=a&&!!l.colorStops,c=r&&!!s.image,d=a&&!!l.image;(i.bind(t,this,e),this.setTransform(t),this.__dirty)&&(u&&(n=n||this.getBoundingRect(),this._fillGradient=i.getGradient(t,s,n)),h&&(n=n||this.getBoundingRect(),this._strokeGradient=i.getGradient(t,l,n)));u?t.fillStyle=this._fillGradient:c&&(t.fillStyle=VS.call(s,t)),h?t.strokeStyle=this._strokeGradient:d&&(t.strokeStyle=VS.call(l,t));var f=i.lineDash,p=i.lineDashOffset,g=!!t.setLineDash,m=this.getGlobalScale();if(o.setScale(m[0],m[1]),this.__dirtyPath||f&&!g&&a?(o.beginPath(t),f&&!g&&(o.setLineDash(f),o.setLineDashOffset(p)),this.buildPath(o,this.shape,!1),this.path&&(this.__dirtyPath=!1)):(t.beginPath(),this.path.rebuildPath(t)),r&&(null!=i.fillOpacity?(v=t.globalAlpha,t.globalAlpha=i.fillOpacity*i.opacity,o.fill(t),t.globalAlpha=v):o.fill(t)),f&&g&&(t.setLineDash(f),t.lineDashOffset=p),a)if(null!=i.strokeOpacity){var v=t.globalAlpha;t.globalAlpha=i.strokeOpacity*i.opacity,o.stroke(t),t.globalAlpha=v}else o.stroke(t);f&&g&&t.setLineDash([]),null!=i.text&&(this.restoreTransform(t),this.drawRectText(t,this.getBoundingRect()))},"buildPath":function buildPath(t,e,n){},"createPathProxy":function createPathProxy(){this.path=new kS},"getBoundingRect":function getBoundingRect(){var t=this._rect,e=this.style,n=!t;if(n){var i=this.path;i||(i=this.path=new kS),this.__dirtyPath&&(i.beginPath(),this.buildPath(i,this.shape,!1)),t=i.getBoundingRect()}if(this._rect=t,e.hasStroke()){var o=this._rectWithStroke||(this._rectWithStroke=t.clone());if(this.__dirty||n){o.copy(t);var a=e.lineWidth,r=e.strokeNoScale?this.getLineScale():1;e.hasFill()||(a=Math.max(a,this.strokeContainThreshold||4)),r>1e-10&&(o.width+=a/r,o.height+=a/r,o.x-=a/r/2,o.y-=a/r/2)}return o}return t},"contain":function contain(t,e){var n=this.transformCoordToLocal(t,e),i=this.getBoundingRect(),o=this.style;if(t=n[0],e=n[1],i.contain(t,e)){var a=this.path.data;if(o.hasStroke()){var r=o.lineWidth,s=o.strokeNoScale?this.getLineScale():1;if(s>1e-10&&(o.hasFill()||(r=Math.max(r,this.strokeContainThreshold)),function Ln(t,e,n,i){return Dn(t,e,!0,n,i)}(a,r/s,t,e)))return!0}if(o.hasFill())return function Cn(t,e,n){return Dn(t,0,!1,e,n)}(a,t,e)}return!1},"dirty":function dirty(t){null==t&&(t=!0),t&&(this.__dirtyPath=t,this._rect=null),this.__dirty=this.__dirtyText=!0,this.__zr&&this.__zr.refresh(),this.__clipTarget&&this.__clipTarget.dirty()},"animateShape":function animateShape(t){return this.animate("shape",t)},"attrKV":function attrKV(t,e){"shape"===t?(this.setShape(e),this.__dirtyPath=!0,this._rect=null):di.prototype.attrKV.call(this,t,e)},"setShape":function setShape(t,e){var n=this.shape;if(n){if(w(t))for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);else n[t]=e;this.dirty(!0)}return this},"getLineScale":function getLineScale(){var t=this.transform;return t&&GS(t[0]-1)>1e-10&&GS(t[3]-1)>1e-10?Math.sqrt(GS(t[0]*t[3]-t[2]*t[1])):1}},kn.extend=function(t){var n=function e(n){kn.call(this,n),t.style&&this.style.extendFrom(t.style,!1);var i=t.shape;if(i){this.shape=this.shape||{};var o=this.shape;for(var a in i)!o.hasOwnProperty(a)&&i.hasOwnProperty(a)&&(o[a]=i[a])}t.init&&t.init.call(this,n)};for(var i in u(n,kn),t)"style"!==i&&"shape"!==i&&(n.prototype[i]=t[i]);return n},u(kn,di);var HS=kS.CMD,WS=[[],[],[]],jS=Math.sqrt,ZS=Math.atan2,US=function qS(t,e){var n,i,o,a,r,s,l=t.data,u=HS.M,h=HS.C,c=HS.L,d=HS.R,f=HS.A,p=HS.Q;for(o=0,a=0;o<l.length;){switch(n=l[o++],a=o,i=0,n){case u:case c:i=1;break;case h:i=3;break;case p:i=2;break;case f:var g=e[4],m=e[5],v=jS(e[0]*e[0]+e[1]*e[1]),y=jS(e[2]*e[2]+e[3]*e[3]),x=ZS(-e[1]/y,e[0]/v);l[o]*=v,l[o++]+=g,l[o]*=y,l[o++]+=m,l[o++]*=v,l[o++]*=y,l[o++]+=x,l[o++]+=x,a=o+=2;break;case d:s[0]=l[o++],s[1]=l[o++],Q(s,s,e),l[a++]=s[0],l[a++]=s[1],s[0]+=l[o++],s[1]+=l[o++],Q(s,s,e),l[a++]=s[0],l[a++]=s[1]}for(r=0;r<i;r++)(s=WS[r])[0]=l[o++],s[1]=l[o++],Q(s,s,e),l[a++]=s[0],l[a++]=s[1]}},XS=Math.sqrt,YS=Math.sin,$S=Math.cos,KS=Math.PI,QS=function tM(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])},JS=function eM(t,e){return(t[0]*e[0]+t[1]*e[1])/(QS(t)*QS(e))},tM=function iM(t,e){return(t[0]*e[1]<t[1]*e[0]?-1:1)*Math.acos(JS(t,e))},nM=/([mlvhzcqtsa])([^mlvhzcqtsa]*)/gi,oM=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g,rM=function aM(t){di.call(this,t)};rM.prototype={"constructor":rM,"type":"text","brush":function brush(t,e){var n=this.style;this.__dirty&&Ye(n),n.fill=n.stroke=n.shadowBlur=n.shadowColor=n.shadowOffsetX=n.shadowOffsetY=null;var i=n.text;null!=i&&(i+=""),ci(i,n)?(this.setTransform(t),Ke(this,t,i,n,null,e),this.restoreTransform(t)):t.__attrCachedBy=Kb.NONE},"getBoundingRect":function getBoundingRect(){var t=this.style;if(this.__dirty&&Ye(t),!this._rect){var e=t.text;null!=e?e+="":e="";var n=ke(t.text+"",t.font,t.textAlign,t.textVerticalAlign,t.textPadding,t.rich);if(n.x+=t.x||0,n.y+=t.y||0,si(t.textStroke,t.textStrokeWidth)){var i=t.textStrokeWidth;n.x-=i/2,n.y-=i/2,n.width+=i,n.height+=i}this._rect=n}return this._rect}},u(rM,di);var sM=kn.extend({"type":"circle","shape":{"cx":0,"cy":0,"r":0},"buildPath":function buildPath(t,e,n){n&&t.moveTo(e.cx+e.r,e.cy),t.arc(e.cx,e.cy,e.r,0,2*Math.PI,!0)}}),uM=[["shadowBlur",0],["shadowColor","#000"],["shadowOffsetX",0],["shadowOffsetY",0]],hM=function lM(t){return be.browser.ie&&be.browser.version>=11?function(){var e,n=this.__clipPaths,i=this.style;if(n)for(var o=0;o<n.length;o++){var a=n[o],r=a&&a.shape,s=a&&a.type;if(r&&("sector"===s&&r.startAngle===r.endAngle||"rect"===s&&(!r.width||!r.height))){for(l=0;l<uM.length;l++)uM[l][2]=i[uM[l][0]],i[uM[l][0]]=uM[l][1];e=!0;break}}if(t.apply(this,arguments),e)for(var l=0;l<uM.length;l++)i[uM[l][0]]=uM[l][2]}:t},fM=kn.extend({"type":"sector","shape":{"cx":0,"cy":0,"r0":0,"r":0,"startAngle":0,"endAngle":2*Math.PI,"clockwise":!0},"brush":hM(kn.prototype.brush),"buildPath":function buildPath(t,e){var n=e.cx,i=e.cy,o=Math.max(e.r0||0,0),a=Math.max(e.r,0),r=e.startAngle,s=e.endAngle,l=e.clockwise,u=Math.cos(r),h=Math.sin(r);t.moveTo(u*o+n,h*o+i),t.lineTo(u*a+n,h*a+i),t.arc(n,i,a,r,s,!l),t.lineTo(Math.cos(s)*o+n,Math.sin(s)*o+i),0!==o&&t.arc(n,i,o,s,r,l),t.closePath()}}),pM=kn.extend({"type":"ring","shape":{"cx":0,"cy":0,"r":0,"r0":0},"buildPath":function buildPath(t,e){var n=e.cx,i=e.cy,o=2*Math.PI;t.moveTo(n+e.r,i),t.arc(n,i,e.r,0,o,!1),t.moveTo(n+e.r0,i),t.arc(n,i,e.r0,0,o,!0)}}),gM=function cM(t,e){for(var n=t.length,i=[],o=0,a=1;a<n;a++)o+=K(t[a-1],t[a]);var r=o/2;for(r=r<n?n:r,a=0;a<r;a++){var s,l,u,h=a/(r-1)*(e?n:n-1),c=Math.floor(h),d=h-c,f=t[c%n];e?(s=t[(c-1+n)%n],l=t[(c+1)%n],u=t[(c+2)%n]):(s=t[0===c?c:c-1],l=t[c>n-2?n-1:c+1],u=t[c>n-3?n-1:c+2]);var p=d*d,g=d*p;i.push([zn(s[0],f[0],l[0],u[0],d,p,g),zn(s[1],f[1],l[1],u[1],d,p,g)])}return i},mM=function dM(t,e,n,i){var o,a,r,s,l=[],u=[],h=[],c=[];if(i){r=[1/0,1/0],s=[-1/0,-1/0];for(var d=0,f=t.length;d<f;d++)tt(r,r,t[d]),et(s,s,t[d]);tt(r,r,i[0]),et(s,s,i[1])}for(d=0,f=t.length;d<f;d++){var p=t[d];if(n)o=t[d?d-1:f-1],a=t[(d+1)%f];else{if(0===d||d===f-1){l.push(F(t[d]));continue}o=t[d-1],a=t[d+1]}U(u,a,o),Y(u,u,e);var g=K(p,o),m=K(p,a),v=g+m;0!==v&&(g/=v,m/=v),Y(h,u,-g),Y(c,u,m);var y=H([],p,h),x=H([],p,c);i&&(et(y,y,r),tt(y,y,s),et(x,x,r),tt(x,x,s)),l.push(y),l.push(x)}return n&&l.push(l.shift()),l},vM=kn.extend({"type":"polygon","shape":{"points":null,"smooth":!1,"smoothConstraint":null},"buildPath":function buildPath(t,e){Bn(t,e,!0)}}),yM=kn.extend({"type":"polyline","shape":{"points":null,"smooth":!1,"smoothConstraint":null},"style":{"stroke":"#000","fill":null},"buildPath":function buildPath(t,e){Bn(t,e,!1)}}),xM=Math.round,_M={},bM=kn.extend({"type":"rect","shape":{"r":0,"x":0,"y":0,"width":0,"height":0},"buildPath":function buildPath(t,e){var n,i,o,a;this.subPixelOptimize?(function Gn(t,e,n){var i=n&&n.lineWidth;if(e&&i){var o=e.x,a=e.y,r=e.width,s=e.height;t.x=Fn(o,i,!0),t.y=Fn(a,i,!0),t.width=Math.max(Fn(o+r,i,!1)-t.x,0===r?0:1),t.height=Math.max(Fn(a+s,i,!1)-t.y,0===s?0:1)}}(_M,e,this.style),n=_M.x,i=_M.y,o=_M.width,a=_M.height,_M.r=e.r,e=_M):(n=e.x,i=e.y,o=e.width,a=e.height),e.r?je(t,e):t.rect(n,i,o,a),t.closePath()}}),wM={},SM=kn.extend({"type":"line","shape":{"x1":0,"y1":0,"x2":0,"y2":0,"percent":1},"style":{"stroke":"#000","fill":null},"buildPath":function buildPath(t,e){var n,i,o,a;this.subPixelOptimize?(function Vn(t,e,n){var i=n&&n.lineWidth;if(e&&i){var o=e.x1,a=e.x2,r=e.y1,s=e.y2;xM(2*o)===xM(2*a)?t.x1=t.x2=Fn(o,i,!0):(t.x1=o,t.x2=a),xM(2*r)===xM(2*s)?t.y1=t.y2=Fn(r,i,!0):(t.y1=r,t.y2=s)}}(wM,e,this.style),n=wM.x1,i=wM.y1,o=wM.x2,a=wM.y2):(n=e.x1,i=e.y1,o=e.x2,a=e.y2);var r=e.percent;0!==r&&(t.moveTo(n,i),r<1&&(o=n*(1-r)+o*r,a=i*(1-r)+a*r),t.lineTo(o,a))},"pointAt":function pointAt(t){var e=this.shape;return[e.x1*(1-t)+e.x2*t,e.y1*(1-t)+e.y2*t]}}),MM=[],AM=kn.extend({"type":"bezier-curve","shape":{"x1":0,"y1":0,"x2":0,"y2":0,"cpx1":0,"cpy1":0,"percent":1},"style":{"stroke":"#000","fill":null},"buildPath":function buildPath(t,e){var n=e.x1,i=e.y1,o=e.x2,a=e.y2,r=e.cpx1,s=e.cpy1,l=e.cpx2,u=e.cpy2,h=e.percent;0!==h&&(t.moveTo(n,i),null==l||null==u?(h<1&&(hn(n,r,o,h,MM),r=MM[1],o=MM[2],hn(i,s,a,h,MM),s=MM[1],a=MM[2]),t.quadraticCurveTo(r,s,o,a)):(h<1&&(on(n,r,l,o,h,MM),r=MM[1],l=MM[2],o=MM[3],on(i,s,u,a,h,MM),s=MM[1],u=MM[2],a=MM[3]),t.bezierCurveTo(r,s,l,u,o,a)))},"pointAt":function pointAt(t){return Wn(this.shape,t,!1)},"tangentAt":function tangentAt(t){var e=Wn(this.shape,t,!0);return q(e,e)}}),DM=kn.extend({"type":"arc","shape":{"cx":0,"cy":0,"r":0,"startAngle":0,"endAngle":2*Math.PI,"clockwise":!0},"style":{"stroke":"#000","fill":null},"buildPath":function buildPath(t,e){var n=e.cx,i=e.cy,o=Math.max(e.r,0),a=e.startAngle,r=e.endAngle,s=e.clockwise,l=Math.cos(a),u=Math.sin(a);t.moveTo(l*o+n,u*o+i),t.arc(n,i,o,a,r,!s)}}),CM=kn.extend({"type":"compound","shape":{"paths":null},"_updatePathDirty":function _updatePathDirty(){for(var t=this.__dirtyPath,e=this.shape.paths,n=0;n<e.length;n++)t=t||e[n].__dirtyPath;this.__dirtyPath=t,this.__dirty=this.__dirty||t},"beforeBrush":function beforeBrush(){this._updatePathDirty();for(var t=this.shape.paths||[],e=this.getGlobalScale(),n=0;n<t.length;n++)t[n].path||t[n].createPathProxy(),t[n].path.setScale(e[0],e[1])},"buildPath":function buildPath(t,e){for(var n=e.paths||[],i=0;i<n.length;i++)n[i].buildPath(t,n[i].shape,!0)},"afterBrush":function afterBrush(){for(var t=this.shape.paths||[],e=0;e<t.length;e++)t[e].__dirtyPath=!1},"getBoundingRect":function getBoundingRect(){return this._updatePathDirty(),kn.prototype.getBoundingRect.call(this)}}),LM=function MM(t){this.colorStops=t||[]};LM.prototype={"constructor":LM,"addColorStop":function addColorStop(t,e){this.colorStops.push({"offset":t,"color":e})}};var kM=function IM(t,e,n,i,o,a){this.x=null==t?0:t,this.y=null==e?0:e,this.x2=null==n?1:n,this.y2=null==i?0:i,this.type="linear",this.global=a||!1,LM.call(this,o)};kM.prototype={"constructor":kM},u(kM,LM);var PM=function TM(t,e,n,i,o){this.x=null==t?.5:t,this.y=null==e?.5:e,this.r=null==n?.5:n,this.type="radial",this.global=o||!1,LM.call(this,i)};PM.prototype={"constructor":PM},u(PM,LM),Hn.prototype.incremental=!0,Hn.prototype.clearDisplaybles=function(){this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.dirty(),this.notClear=!1},Hn.prototype.addDisplayable=function(t,e){e?this._temporaryDisplayables.push(t):this._displayables.push(t),this.dirty()},Hn.prototype.addDisplayables=function(t,e){e=e||!1;for(var n=0;n<t.length;n++)this.addDisplayable(t[n],e)},Hn.prototype.eachPendingDisplayable=function(t){for(e=this._cursor;e<this._displayables.length;e++)t&&t(this._displayables[e]);for(var e=0;e<this._temporaryDisplayables.length;e++)t&&t(this._temporaryDisplayables[e])},Hn.prototype.update=function(){for(this.updateTransform(),t=this._cursor;t<this._displayables.length;t++)(e=this._displayables[t]).parent=this,e.update(),e.parent=null;for(var t=0;t<this._temporaryDisplayables.length;t++){var e=this._temporaryDisplayables[t];e.parent=this,e.update(),e.parent=null}},Hn.prototype.brush=function(t,e){for(n=this._cursor;n<this._displayables.length;n++)(i=this._displayables[n]).beforeBrush&&i.beforeBrush(t),i.brush(t,n===this._cursor?null:this._displayables[n-1]),i.afterBrush&&i.afterBrush(t);this._cursor=n;for(var n=0;n<this._temporaryDisplayables.length;n++){var i=this._temporaryDisplayables[n];i.beforeBrush&&i.beforeBrush(t),i.brush(t,0===n?null:this._temporaryDisplayables[n-1]),i.afterBrush&&i.afterBrush(t)}this._temporaryDisplayables=[],this.notClear=!0};var OM=[];Hn.prototype.getBoundingRect=function(){if(!this._rect){for(var t=new de(1/0,1/0,-1/0,-1/0),e=0;e<this._displayables.length;e++){var n=this._displayables[e],i=n.getBoundingRect().clone();n.needLocalTransform()&&i.applyTransform(n.getLocalTransform(OM)),t.union(i)}this._rect=t}return this._rect},Hn.prototype.contain=function(t,e){var n=this.transformCoordToLocal(t,e);if(this.getBoundingRect().contain(n[0],n[1]))for(var i=0;i<this._displayables.length;i++)if(this._displayables[i].contain(t,e))return!0;return!1},u(Hn,di);var RM=Math.round,EM=Math.max,zM=Math.min,BM={},VM=1,GM=function NM(t,e){for(var n=[],i=t.length,o=0;o<i;o++){var a=t[o];a.path||a.createPathProxy(),a.__dirtyPath&&a.buildPath(a.path,a.shape,!0),n.push(a.path)}var r=new kn(e);return r.createPathProxy(),r.buildPath=function(t){t.appendPath(n);var e=t.getContext();e&&t.rebuildPath(e)},r},FM=R(),HM=0,WM=(Object.freeze||Object)({"Z2_EMPHASIS_LIFT":VM,"extendShape":Zn,"extendPath":function extendPath(t,e){return function Rn(t,e){return kn.extend(On(t,e))}(t,e)},"makePath":Un,"makeImage":Xn,"mergePath":GM,"resizePath":Yn,"subPixelOptimizeLine":qn,"subPixelOptimizeRect":Kn,"subPixelOptimize":$n,"setElementHoverStyle":ao,"isInEmphasis":ro,"setHoverStyle":co,"setAsHoverStyleTrigger":fo,"setLabelStyle":po,"setTextStyle":go,"setText":function setText(t,e,n){var i,o={"isRectText":!0};!1===n?i=!0:o.autoColor=n,mo(t,e,o,i)},"getFont":bo,"updateProps":Mo,"initProps":Io,"getTransform":To,"applyTransform":Ao,"transformDirection":Do,"groupTransition":Co,"clipPointsByRect":Lo,"clipRectByRect":function clipRectByRect(t,e){var n=EM(t.x,e.x),i=zM(t.x+t.width,e.x+e.width),o=EM(t.y,e.y),a=zM(t.y+t.height,e.y+e.height);if(i>=n&&a>=o)return{"x":n,"y":o,"width":i-n,"height":a-o}},"createIcon":ko,"Group":Zb,"Image":fi,"Text":rM,"Circle":sM,"Sector":fM,"Ring":pM,"Polygon":vM,"Polyline":yM,"Rect":bM,"Line":SM,"BezierCurve":AM,"Arc":DM,"IncrementalDisplayable":Hn,"CompoundPath":CM,"LinearGradient":kM,"RadialGradient":PM,"BoundingRect":de}),jM=["textStyle","color"],ZM={"getTextColor":function getTextColor(t){var e=this.ecModel;return this.getShallow("color")||(!t&&e?e.get(jM):null)},"getFont":function getFont(){return bo({"fontStyle":this.getShallow("fontStyle"),"fontWeight":this.getShallow("fontWeight"),"fontSize":this.getShallow("fontSize"),"fontFamily":this.getShallow("fontFamily")},this.ecModel)},"getTextRect":function getTextRect(t){return ke(t,this.getFont(),this.getShallow("align"),this.getShallow("verticalAlign")||this.getShallow("baseline"),this.getShallow("padding"),this.getShallow("rich"),this.getShallow("truncateText"))}},UM=Yw([["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["textPosition"],["textAlign"]]),XM={"getItemStyle":function getItemStyle(t,e){var n=UM(this,t,e),i=this.getBorderLineDash();return i&&(n.lineDash=i),n},"getBorderLineDash":function getBorderLineDash(){var t=this.get("borderType");return"solid"===t||null==t?null:"dashed"===t?[5,5]:[1,1]}},YM=h,qM=Bi();Po.prototype={"constructor":Po,"init":null,"mergeOption":function mergeOption(t){n(this.option,t,!0)},"get":function get(t,e){return null==t?this.option:No(this.option,this.parsePath(t),!e&&Oo(this,t))},"getShallow":function getShallow(t,e){var n=this.option,i=null==n?n:n[t],o=!e&&Oo(this,t);return null==i&&o&&(i=o.getShallow(t)),i},"getModel":function getModel(t,e){var n;return new Po(null==t?this.option:No(this.option,t=this.parsePath(t)),e=e||(n=Oo(this,t))&&n.getModel(t),this.ecModel)},"isEmpty":function isEmpty(){return null==this.option},"restoreData":function restoreData(){},"clone":function clone(){return new(0,this.constructor)(i(this.option))},"setReadOnly":function setReadOnly(t){},"parsePath":function parsePath(t){return"string"==typeof t&&(t=t.split(".")),t},"customizeGetParent":function customizeGetParent(t){qM(this).getParent=t},"isAnimationEnabled":function isAnimationEnabled(){if(!be.node){if(null!=this.option.animation)return!!this.option.animation;if(this.parentModel)return this.parentModel.isAnimationEnabled()}}},Xi(Po),ji(Po),YM(Po,$w),YM(Po,Jw),YM(Po,ZM),YM(Po,XM);var $M=0,KM=1e-4,QM=9007199254740991,JM=/^(?:(\d{4})(?:[-\/](\d{1,2})(?:[-\/](\d{1,2})(?:[T ](\d{1,2})(?::(\d\d)(?::(\d\d)(?:[.,](\d+))?)?)?(Z|[\+\-]\d\d:?\d\d)?)?)?)?)?$/,tI=(Object.freeze||Object)({"linearMap":zo,"parsePercent":Bo,"round":Vo,"asc":Go,"getPrecision":Fo,"getPrecisionSafe":Wo,"getPixelPrecision":Ho,"getPercentWithPrecision":Zo,"MAX_SAFE_INTEGER":QM,"remRadian":Uo,"isRadianAroundZero":Xo,"parseDate":jo,"quantity":Yo,"nice":Ko,"quantile":function quantile(t,e){var n=(t.length-1)*e+1,i=Math.floor(n),o=+t[i-1],a=n-i;return a?o+a*(t[i]-o):o},"reformIntervals":$o,"isNumeric":Jo}),eI=L,nI=/([&<>"'])/g,iI={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},oI=["a","b","c","d","e","f","g"],aI=function JM(t,e){return"{"+t+(null==e?"":e)+"}"},rI=ze,sI=ke,lI=(Object.freeze||Object)({"addCommas":Qo,"toCamelCase":ta,"normalizeCssArray":eI,"encodeHTML":ea,"formatTpl":ia,"formatTplSimple":na,"getTooltipMarker":oa,"formatTime":ra,"capitalFirst":sa,"truncateText":rI,"getTextRect":sI}),uI=d,hI=["left","right","top","bottom","width","height"],cI=[["width","left","right"],["height","top","bottom"]],dI=la,fI=(v(la,"vertical"),v(la,"horizontal"),Bi()),pI=Po.extend({"type":"component","id":"","name":"","mainType":"","subType":"","componentIndex":0,"defaultOption":null,"ecModel":null,"dependentModels":[],"uid":null,"layoutMode":null,"$constructor":function $constructor(t,e,n,i){Po.call(this,t,e,n,i),this.uid=Eo("ec_cpt_model")},"init":function init(t,e,n,i){this.mergeDefaultAndTheme(t,n)},"mergeDefaultAndTheme":function mergeDefaultAndTheme(t,e){var i=this.layoutMode,o=i?pa(t):{};n(t,e.getTheme().get(this.mainType)),n(t,this.getDefaultOption()),i&&fa(t,o,i)},"mergeOption":function mergeOption(t,e){n(this.option,t,!0);var i=this.layoutMode;i&&fa(this.option,t,i)},"optionUpdated":function optionUpdated(t,e){},"getDefaultOption":function getDefaultOption(){var t=fI(this);if(!t.defaultOption){for(var e=[],i=this.constructor;i;){var o=i.prototype.defaultOption;o&&e.push(o),i=i.superClass}for(var a={},r=e.length-1;r>=0;r--)a=n(a,e[r],!0);t.defaultOption=a}return t.defaultOption},"getReferringComponents":function getReferringComponents(t){return this.ecModel.queryComponents({"mainType":t,"index":this.get(t+"Index",!0),"id":this.get(t+"Id",!0)})}});Ki(pI,{"registerWhenExtend":!0}),function(t){var e={};t.registerSubTypeDefaulter=function(t,n){t=Zi(t),e[t.main]=n},t.determineSubType=function(n,i){var o=i.type;if(!o){var a=Zi(n).main;t.hasSubTypes(n)&&e[a]&&(o=e[a](i))}return o}}(pI),function(t,e){function i(t){var i={},a=[];return d(t,function(r){var s=n(i,r),u=function o(t,e){var n=[];return d(t,function(t){l(e,t)>=0&&n.push(t)}),n}(s.originalDeps=e(r),t);s.entryCount=u.length,0===s.entryCount&&a.push(r),d(u,function(t){l(s.predecessor,t)<0&&s.predecessor.push(t);var e=n(i,t);l(e.successor,t)<0&&e.successor.push(r)})}),{"graph":i,"noEntryList":a}}function n(t,e){return t[e]||(t[e]={"predecessor":[],"successor":[]}),t[e]}pI.topologicalTravel=function(t,e,n,o){function a(t){s[t].entryCount--,0===s[t].entryCount&&l.push(t)}if(t.length){var r=i(e),s=r.graph,l=r.noEntryList,u={};for(d(t,function(t){u[t]=!0});l.length;){var h=l.pop(),c=s[h],f=!!u[h];f&&(n.call(o,h,c.originalDeps.slice()),delete u[h]),d(c.successor,f?function(t){u[t]=!0,a(t)}:a)}d(u,function(){throw new Error("Circle dependency may exists")})}}}(0,function(t){var e=[];return d(pI.getClassesByMainType(t),function(t){e=e.concat(t.prototype.dependencies||[])}),e=f(e,function(t){return Zi(t).main}),"dataset"!==t&&l(e,"dataset")<=0&&e.unshift("dataset"),e}),h(pI,{"getBoxLayoutParams":function getBoxLayoutParams(){return{"left":this.get("left"),"top":this.get("top"),"right":this.get("right"),"bottom":this.get("bottom"),"width":this.get("width"),"height":this.get("height")}}});var gI="";"undefined"!=typeof navigator&&(gI=navigator.platform||"");var mI={"color":["#c23531","#2f4554","#61a0a8","#d48265","#91c7ae","#749f83","#ca8622","#bda29a","#6e7074","#546570","#c4ccd3"],"gradientColor":["#f6efa6","#d88273","#bf444c"],"textStyle":{"fontFamily":gI.match(/^Win/)?"Microsoft YaHei":"sans-serif","fontSize":12,"fontStyle":"normal","fontWeight":"normal"},"blendMode":null,"animation":"auto","animationDuration":1e3,"animationDurationUpdate":300,"animationEasing":"exponentialOut","animationEasingUpdate":"cubicOut","animationThreshold":2e3,"progressiveThreshold":3e3,"progressive":400,"hoverLayerThreshold":3e3,"useUTC":!1},vI=Bi(),yI={"clearColorPalette":function clearColorPalette(){vI(this).colorIdx=0,vI(this).colorNameMap={}},"getColorFromPalette":function getColorFromPalette(t,e,n){var i=vI(e=e||this),o=i.colorIdx||0,a=i.colorNameMap=i.colorNameMap||{};if(a.hasOwnProperty(t))return a[t];var r=Di(this.get("color",!0)),s=this.get("colorLayer",!0),l=null!=n&&s?function ma(t,e){for(var n=t.length,i=0;i<n;i++)if(t[i].length>e)return t[i];return t[n-1]}(s,n):r;if((l=l||r)&&l.length){var u=l[o];return t&&(a[t]=u),i.colorIdx=(o+1)%l.length,u}}},xI={"cartesian2d":function cartesian2d(t,e,n,i){var o=t.getReferringComponents("xAxis")[0],a=t.getReferringComponents("yAxis")[0];e.coordSysDims=["x","y"],n.set("x",o),n.set("y",a),ya(o)&&(i.set("x",o),e.firstCategoryDimIndex=0),ya(a)&&(i.set("y",a),e.firstCategoryDimIndex=1)},"singleAxis":function singleAxis(t,e,n,i){var o=t.getReferringComponents("singleAxis")[0];e.coordSysDims=["single"],n.set("single",o),ya(o)&&(i.set("single",o),e.firstCategoryDimIndex=0)},"polar":function polar(t,e,n,i){var o=t.getReferringComponents("polar")[0],a=o.findAxisModel("radiusAxis"),r=o.findAxisModel("angleAxis");e.coordSysDims=["radius","angle"],n.set("radius",a),n.set("angle",r),ya(a)&&(i.set("radius",a),e.firstCategoryDimIndex=0),ya(r)&&(i.set("angle",r),e.firstCategoryDimIndex=1)},"geo":function geo(t,e,n,i){e.coordSysDims=["lng","lat"]},"parallel":function parallel(t,e,n,i){var o=t.ecModel,a=o.getComponent("parallel",t.get("parallelIndex")),r=e.coordSysDims=a.dimensions.slice();d(a.parallelAxisIndex,function(t,a){var s=o.getComponent("parallelAxis",t),l=r[a];n.set(l,s),ya(s)&&null==e.firstCategoryDimIndex&&(i.set(l,s),e.firstCategoryDimIndex=a)})}},_I="original",bI="arrayRows",wI="objectRows",SI="keyedColumns",MI="unknown",II="typedArray",TI="column",AI="row";xa.seriesDataToSource=function(t){return new xa({"data":t,"sourceFormat":S(t)?II:_I,"fromDataset":!1})},ji(xa);var DI=Bi(),CI="\0_ec_inner",LI=Po.extend({"init":function init(t,e,n,i){n=n||{},this.option=null,this._theme=new Po(n),this._optionManager=i},"setOption":function setOption(t,e){k(!(CI in t),"please use chart.getOption()"),this._optionManager.setOption(t,e),this.resetOption(null)},"resetOption":function resetOption(t){var e=!1,n=this._optionManager;if(!t||"recreate"===t){var i=n.mountOption("recreate"===t);this.option&&"recreate"!==t?(this.restoreData(),this.mergeOption(i)):Oa.call(this,i),e=!0}if("timeline"!==t&&"media"!==t||this.restoreData(),!t||"recreate"===t||"timeline"===t){var o=n.getTimelineOption(this);o&&(this.mergeOption(o),e=!0)}if(!t||"recreate"===t||"media"===t){var a=n.getMediaOption(this,this._api);a.length&&d(a,function(t){this.mergeOption(t,e=!0)},this)}return e},"mergeOption":function mergeOption(t){var e=this.option,o=this._componentsMap,r=[];(function ba(t){DI(t).datasetMap=R()})(this),d(t,function(t,o){null!=t&&(pI.hasClass(o)?o&&r.push(o):e[o]=null==e[o]?i(t):n(e[o],t,!0))}),pI.topologicalTravel(r,pI.getAllClassMainTypes(),function(n,i){var r=Di(t[n]),s=Pi(o.get(n),r);Ni(s),d(s,function(t,e){var i=t.option;w(i)&&(t.keyInfo.mainType=n,t.keyInfo.subType=function Ra(t,e,n){return e.type?e.type:n?n.subType:pI.determineSubType(t,e)}(n,i,t.exist))});var l=function Ea(t,e){y(e)||(e=e?[e]:[]);var n={};return d(e,function(e){n[e]=(t.get(e)||[]).slice()}),n}(o,i);e[n]=[],o.set(n,[]),d(s,function(t,i){var r=t.exist,s=t.option;if(k(w(s)||r,"Empty component definition"),s){var u=pI.getClass(n,t.keyInfo.subType,!0);if(r&&r instanceof u)r.name=t.keyInfo.name,r.mergeOption(s,this),r.optionUpdated(s,!1);else{var h=a({"dependentModels":l,"componentIndex":i},t.keyInfo);a(r=new u(s,this,this,h),h),r.init(s,this,this,h),r.optionUpdated(null,!0)}}else r.mergeOption({},this),r.optionUpdated({},!1);o.get(n)[i]=r,e[n][i]=r.option},this),"series"===n&&za(this,o.get("series"))},this),this._seriesIndicesMap=R(this._seriesIndices=this._seriesIndices||[])},"getOption":function getOption(){var t=i(this.option);return d(t,function(e,n){if(pI.hasClass(n)){for(var i=(e=Di(e)).length-1;i>=0;i--)Ei(e[i])&&e.splice(i,1);t[n]=e}}),delete t[CI],t},"getTheme":function getTheme(){return this._theme},"getComponent":function getComponent(t,e){var n=this._componentsMap.get(t);if(n)return n[e||0]},"queryComponents":function queryComponents(t){var e=t.mainType;if(!e)return[];var n,i=t.index,o=t.id,a=t.name,r=this._componentsMap.get(e);if(!r||!r.length)return[];if(null!=i)y(i)||(i=[i]),n=g(f(i,function(t){return r[t]}),function(t){return!!t});else if(null!=o){var s=y(o);n=g(r,function(t){return s&&l(o,t.id)>=0||!s&&t.id===o})}else if(null!=a){var u=y(a);n=g(r,function(t){return u&&l(a,t.name)>=0||!u&&t.name===a})}else n=r.slice();return Ba(n,t)},"findComponents":function findComponents(t){var e=t.query,n=t.mainType,i=function(t){var e=n+"Index",i=n+"Id",o=n+"Name";return!t||null==t[e]&&null==t[i]&&null==t[o]?null:{"mainType":n,"index":t[e],"id":t[i],"name":t[o]}}(e);return function(e){return t.filter?g(e,t.filter):e}(Ba(i?this.queryComponents(i):this._componentsMap.get(n),t))},"eachComponent":function eachComponent(t,e,n){var i=this._componentsMap;"function"==typeof t?(n=e,e=t,i.each(function(t,i){d(t,function(t,o){e.call(n,i,t,o)})})):_(t)?d(i.get(t),e,n):w(t)&&d(this.findComponents(t),e,n)},"getSeriesByName":function getSeriesByName(t){return g(this._componentsMap.get("series"),function(e){return e.name===t})},"getSeriesByIndex":function getSeriesByIndex(t){return this._componentsMap.get("series")[t]},"getSeriesByType":function getSeriesByType(t){return g(this._componentsMap.get("series"),function(e){return e.subType===t})},"getSeries":function getSeries(){return this._componentsMap.get("series").slice()},"getSeriesCount":function getSeriesCount(){return this._componentsMap.get("series").length},"eachSeries":function eachSeries(t,e){d(this._seriesIndices,function(n){var i=this._componentsMap.get("series")[n];t.call(e,i,n)},this)},"eachRawSeries":function eachRawSeries(t,e){d(this._componentsMap.get("series"),t,e)},"eachSeriesByType":function eachSeriesByType(t,e,n){d(this._seriesIndices,function(i){var o=this._componentsMap.get("series")[i];o.subType===t&&e.call(n,o,i)},this)},"eachRawSeriesByType":function eachRawSeriesByType(t,e,n){return d(this.getSeriesByType(t),e,n)},"isSeriesFiltered":function isSeriesFiltered(t){return null==this._seriesIndicesMap.get(t.componentIndex)},"getCurrentSeriesIndices":function getCurrentSeriesIndices(){return(this._seriesIndices||[]).slice()},"filterSeries":function filterSeries(t,e){za(this,g(this._componentsMap.get("series"),t,e))},"restoreData":function restoreData(t){var e=this._componentsMap;za(this,e.get("series"));var n=[];e.each(function(t,e){n.push(e)}),pI.topologicalTravel(n,pI.getAllClassMainTypes(),function(n,i){d(e.get(n),function(e){("series"!==n||!function Pa(t,e){if(e){var n=e.seiresIndex,i=e.seriesId,o=e.seriesName;return null!=n&&t.componentIndex!==n||null!=i&&t.id!==i||null!=o&&t.name!==o}}(e,t))&&e.restoreData()})})}});h(LI,yI);var kI=["getDom","getZr","getWidth","getHeight","getDevicePixelRatio","dispatchAction","isDisposed","on","off","getDataURL","getConnectedDataURL","getModel","getOption","getViewOfComponentModel","getViewOfSeriesModel"],PI={};Ga.prototype={"constructor":Ga,"create":function create(t,e){var n=[];d(PI,function(i,o){var a=i.create(t,e);n=n.concat(a||[])}),this._coordinateSystems=n},"update":function update(t,e){d(this._coordinateSystems,function(n){n.update&&n.update(t,e)})},"getCoordinateSystems":function getCoordinateSystems(){return this._coordinateSystems.slice()}},Ga.register=function(t,e){PI[t]=e},Ga.get=function(t){return PI[t]};var RI=d,NI=i,EI=f,BI=n,VI=/^(min|max)?(.+)$/;Fa.prototype={"constructor":Fa,"setOption":function setOption(t,e){t&&d(Di(t.series),function(t){t&&t.data&&S(t.data)&&N(t.data)}),t=NI(t,!0);var n=this._optionBackup,i=function Wa(t,e,n){var i,o,a=[],r=[],s=t.timeline;if(t.baseOption&&(o=t.baseOption),(s||t.options)&&(o=o||{},a=(t.options||[]).slice()),t.media){o=o||{};var l=t.media;RI(l,function(t){t&&t.option&&(t.query?r.push(t):i||(i=t))})}return o||(o=t),o.timeline||(o.timeline=s),RI([o].concat(a).concat(f(r,function(t){return t.option})),function(t){RI(e,function(e){e(t,n)})}),{"baseOption":o,"timelineOptions":a,"mediaDefault":i,"mediaList":r}}.call(this,t,e,!n);this._newBaseOption=i.baseOption,n?(function Xa(t,e){RI(e=e||{},function(e,n){if(null!=e){var i=t[n];if(pI.hasClass(n)){e=Di(e);var o=Pi(i=Di(i),e);t[n]=EI(o,function(t){return t.option&&t.exist?BI(t.exist,t.option,!0):t.exist||t.option})}else t[n]=BI(i,e,!0)}})}(n.baseOption,i.baseOption),i.timelineOptions.length&&(n.timelineOptions=i.timelineOptions),i.mediaList.length&&(n.mediaList=i.mediaList),i.mediaDefault&&(n.mediaDefault=i.mediaDefault)):this._optionBackup=i},"mountOption":function mountOption(t){var e=this._optionBackup;return this._timelineOptions=EI(e.timelineOptions,NI),this._mediaList=EI(e.mediaList,NI),this._mediaDefault=NI(e.mediaDefault),this._currentMediaIndices=[],NI(t?e.baseOption:this._newBaseOption)},"getTimelineOption":function getTimelineOption(t){var e,n=this._timelineOptions;if(n.length){var i=t.getComponent("timeline");i&&(e=NI(n[i.getCurrentIndex()],!0))}return e},"getMediaOption":function getMediaOption(t){var e=this._api.getWidth(),n=this._api.getHeight(),i=this._mediaList,o=this._mediaDefault,a=[],r=[];if(!i.length&&!o)return r;for(var s=0,l=i.length;s<l;s++)Ha(i[s].query,e,n)&&a.push(s);return!a.length&&o&&(a=[-1]),a.length&&!function Ua(t,e){return t.join(",")===e.join(",")}(a,this._currentMediaIndices)&&(r=EI(a,function(t){return NI(-1===t?o.option:i[t].option)})),this._currentMediaIndices=a,r}};var GI=d,FI=w,HI=["areaStyle","lineStyle","nodeStyle","linkStyle","chordStyle","label","labelLine"],WI=function OI(t,e){GI(Qa(t.series),function(t){FI(t)&&function Ja(t){if(FI(t)){ja(t),qa(t),Ka(t,"label"),Ka(t,"upperLabel"),Ka(t,"edgeLabel"),t.emphasis&&(Ka(t.emphasis,"label"),Ka(t.emphasis,"upperLabel"),Ka(t.emphasis,"edgeLabel"));var e=t.markPoint;e&&(ja(e),$a(e));var n=t.markLine;n&&(ja(n),$a(n));var i=t.markArea;i&&$a(i);var o=t.data;if("graph"===t.type){o=o||t.nodes;var a=t.links||t.edges;if(a&&!S(a))for(s=0;s<a.length;s++)$a(a[s]);d(t.categories,function(t){qa(t)})}if(o&&!S(o))for(s=0;s<o.length;s++)$a(o[s]);if((e=t.markPoint)&&e.data)for(var r=e.data,s=0;s<r.length;s++)$a(r[s]);if((n=t.markLine)&&n.data){var l=n.data;for(s=0;s<l.length;s++)y(l[s])?($a(l[s][0]),$a(l[s][1])):$a(l[s])}"gauge"===t.type?(Ka(t,"axisLabel"),Ka(t,"title"),Ka(t,"detail")):"treemap"===t.type?(Ya(t.breadcrumb,"itemStyle"),d(t.levels,function(t){qa(t)})):"tree"===t.type&&qa(t.leaves)}}(t)});var n=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","parallelAxis","radar"];e&&n.push("valueAxis","categoryAxis","logAxis","timeAxis"),GI(n,function(e){GI(Qa(t[e]),function(t){t&&(Ka(t,"axisLabel"),Ka(t.axisPointer,"label"))})}),GI(Qa(t.parallel),function(t){var e=t&&t.parallelAxisDefault;Ka(e,"axisLabel"),Ka(e&&e.axisPointer,"label")}),GI(Qa(t.calendar),function(t){Ya(t,"itemStyle"),Ka(t,"dayLabel"),Ka(t,"monthLabel"),Ka(t,"yearLabel")}),GI(Qa(t.radar),function(t){Ka(t,"name")}),GI(Qa(t.geo),function(t){FI(t)&&($a(t),GI(Qa(t.regions),function(t){$a(t)}))}),GI(Qa(t.timeline),function(t){$a(t),Ya(t,"label"),Ya(t,"itemStyle"),Ya(t,"controlStyle",!0);var e=t.data;y(e)&&d(e,function(t){w(t)&&(Ya(t,"label"),Ya(t,"itemStyle"))})}),GI(Qa(t.toolbox),function(t){Ya(t,"iconStyle"),GI(t.feature,function(t){Ya(t,"iconStyle")})}),Ka(tr(t.axisPointer),"label"),Ka(tr(t.tooltip).axisPointer,"label")},jI=[["x","left"],["y","top"],["x2","right"],["y2","bottom"]],ZI=["grid","geo","parallel","legend","toolbox","title","visualMap","dataZoom","timeline"],UI=function zI(t,e){WI(t,e),t.series=Di(t.series),d(t.series,function(t){if(w(t)){var e=t.type;if("pie"!==e&&"gauge"!==e||null!=t.clockWise&&(t.clockwise=t.clockWise),"gauge"===e){var n=function er(t,e){e=e.split(",");for(var n=t,i=0;i<e.length&&null!=(n=n&&n[e[i]]);i++);return n}(t,"pointer.color");null!=n&&function ir(t,e,n,i){e=e.split(",");for(var o,a=t,r=0;r<e.length-1;r++)null==a[o=e[r]]&&(a[o]={}),a=a[o];(i||null==a[e[r]])&&(a[e[r]]=n)}(t,"itemStyle.normal.color",n)}nr(t)}}),t.dataRange&&(t.visualMap=t.dataRange),d(ZI,function(e){var n=t[e];n&&(y(n)||(n=[n]),d(n,function(t){nr(t)}))})},XI=ar.prototype;XI.pure=!1,XI.persistent=!0,XI.getSource=function(){return this._source};var qI={"arrayRows_column":{"pure":!0,"count":function count(){return Math.max(0,this._data.length-this._source.startIndex)},"getItem":function getItem(t){return this._data[t+this._source.startIndex]},"appendData":lr},"arrayRows_row":{"pure":!0,"count":function count(){var t=this._data[0];return t?Math.max(0,t.length-this._source.startIndex):0},"getItem":function getItem(t){t+=this._source.startIndex;for(var e=[],n=this._data,i=0;i<n.length;i++){var o=n[i];e.push(o?o[t]:null)}return e},"appendData":function appendData(){throw new Error('Do not support appendData when set seriesLayoutBy: "row".')}},"objectRows":{"pure":!0,"count":rr,"getItem":sr,"appendData":lr},"keyedColumns":{"pure":!0,"count":function count(){var t=this._source.dimensionsDefine[0].name,e=this._data[t];return e?e.length:0},"getItem":function getItem(t){for(var e=[],n=this._source.dimensionsDefine,i=0;i<n.length;i++){var o=this._data[n[i].name];e.push(o?o[t]:null)}return e},"appendData":function appendData(t){var e=this._data;d(t,function(t,n){for(var i=e[n]||(e[n]=[]),o=0;o<(t||[]).length;o++)i.push(t[o])})}},"original":{"count":rr,"getItem":sr,"appendData":lr},"typedArray":{"persistent":!1,"pure":!0,"count":function count(){return this._data?this._data.length/this._dimSize:0},"getItem":function getItem(t,e){t-=this._offset,e=e||[];for(var n=this._dimSize*t,i=0;i<this._dimSize;i++)e[i]=this._data[n+i];return e},"appendData":function appendData(t){this._data=t},"clean":function clean(){this._offset+=this.count(),this._data=null}}},$I={"arrayRows":ur,"objectRows":function objectRows(t,e,n,i){return null!=n?t[i]:t},"keyedColumns":ur,"original":function original(t,e,n,i){var o=Li(t);return null!=n&&o instanceof Array?o[n]:o},"typedArray":ur},QI={"arrayRows":hr,"objectRows":function objectRows(t,e,n,i){return cr(t[e],this._dimensionInfos[e])},"keyedColumns":hr,"original":function original(t,e,n,i){var o=t&&(null==t.value?t:t.value);return!this._rawData.pure&&function ki(t){return Vw(t)&&!(t instanceof Array)}(t)&&(this.hasItemOption=!0),cr(o instanceof Array?o[i]:o,this._dimensionInfos[e])},"typedArray":function typedArray(t,e,n,i){return t[i]}},JI=/\{@(.+?)\}/g,tT={"getDataParams":function getDataParams(t,e){var n=this.getData(e),i=this.getRawValue(t,e),o=n.getRawIndex(t),a=n.getName(t),r=n.getRawDataItem(t),s=n.getItemVisual(t,"color"),l=this.ecModel.getComponent("tooltip"),u=Hi(l&&l.get("renderMode")),h=this.mainType,c="series"===h;return{"componentType":h,"componentSubType":this.subType,"componentIndex":this.componentIndex,"seriesType":c?this.subType:null,"seriesIndex":this.seriesIndex,"seriesId":c?this.id:null,"seriesName":c?this.name:null,"name":a,"dataIndex":o,"data":r,"dataType":e,"value":i,"color":s,"marker":oa({"color":s,"renderMode":u}),"$vars":["seriesName","name","value"]}},"getFormattedLabel":function getFormattedLabel(t,e,n,i,o){e=e||"normal";var a=this.getData(n),r=a.getItemModel(t),s=this.getDataParams(t,n);null!=i&&s.value instanceof Array&&(s.value=s.value[i]);var l=r.get("normal"===e?[o||"label","formatter"]:[e,o||"label","formatter"]);return"function"==typeof l?(s.status=e,l(s)):"string"==typeof l?ia(l,s).replace(JI,function(e,n){var i=n.length;return"["===n.charAt(0)&&"]"===n.charAt(i-1)&&(n=+n.slice(1,i-1)),dr(a,t,n)}):void 0},"getRawValue":function getRawValue(t,e){return dr(this.getData(e),t)},"formatTooltip":function formatTooltip(){}},eT=gr.prototype;eT.perform=function(t){function e(t){return!(t>=1)&&(t=1),t}var n,i=this._upstream,o=t&&t.skip;if(this._dirty&&i){var a=this.context;a.data=a.outputData=i.context.outputData}this.__pipeline&&(this.__pipeline.currentTask=this),this._plan&&!o&&(n=this._plan(this.context));var r,s=e(this._modBy),l=this._modDataCount||0,u=e(t&&t.modBy),h=t&&t.modDataCount||0;s===u&&l===h||(n="reset"),(this._dirty||"reset"===n)&&(this._dirty=!1,r=function vr(t,e){var n,i;t._dueIndex=t._outputDueEnd=t._dueEnd=0,t._settedOutputEnd=null,!e&&t._reset&&((n=t._reset(t.context))&&n.progress&&(i=n.forceFirstProgress,n=n.progress),y(n)&&!n.length&&(n=null)),t._progress=n,t._modBy=t._modDataCount=null;var o=t._downstream;return o&&o.dirty(),i}(this,o)),this._modBy=u,this._modDataCount=h;var c=t&&t.step;if(this._dueEnd=i?i._outputDueEnd:this._count?this._count(this.context):1/0,this._progress){var d=this._dueIndex,f=Math.min(null!=c?this._dueIndex+c:1/0,this._dueEnd);if(!o&&(r||d<f)){var p=this._progress;if(y(p))for(var g=0;g<p.length;g++)mr(this,p[g],d,f,u,h);else mr(this,p,d,f,u,h)}this._dueIndex=f;var m=null!=this._settedOutputEnd?this._settedOutputEnd:f;this._outputDueEnd=m}else this._dueIndex=this._outputDueEnd=null!=this._settedOutputEnd?this._settedOutputEnd:this._dueEnd;return this.unfinished()};var nT=function(){function t(){return i<n?i++:null}function e(){var t=i%r*o+Math.ceil(i/r),e=i>=n?null:t<a?t:i;return i++,e}var n,i,o,a,r,s={"reset":function reset(l,u,h,c){i=l,n=u,o=h,a=c,r=Math.ceil(a/o),s.next=o>1&&a>0?e:t}};return s}();eT.dirty=function(){this._dirty=!0,this._onDirty&&this._onDirty(this.context)},eT.unfinished=function(){return this._progress&&this._dueIndex<this._dueEnd},eT.pipe=function(t){(this._downstream!==t||this._dirty)&&(this._downstream=t,t._upstream=this,t.dirty())},eT.dispose=function(){this._disposed||(this._upstream&&(this._upstream._downstream=null),this._downstream&&(this._downstream._upstream=null),this._dirty=!1,this._disposed=!0)},eT.getUpstream=function(){return this._upstream},eT.getDownstream=function(){return this._downstream},eT.setOutputEnd=function(t){this._outputDueEnd=this._settedOutputEnd=t};var iT=Bi(),oT=pI.extend({"type":"series.__base__","seriesIndex":0,"coordinateSystem":null,"defaultOption":null,"legendDataProvider":null,"visualColorAccessPath":"itemStyle.color","layoutMode":null,"init":function init(t,e,n,i){this.seriesIndex=this.componentIndex,this.dataTask=pr({"count":_r,"reset":wr}),this.dataTask.context={"model":this},this.mergeDefaultAndTheme(t,n),Sa(this);var o=this.getInitialData(t,n);Sr(o,this),this.dataTask.context.data=o,iT(this).dataBeforeProcessed=o,yr(this)},"mergeDefaultAndTheme":function mergeDefaultAndTheme(t,e){var i=this.layoutMode,o=i?pa(t):{},a=this.subType;pI.hasClass(a)&&(a+="Series"),n(t,e.getTheme().get(this.subType)),n(t,this.getDefaultOption()),Ci(t,"label",["show"]),this.fillDataTextStyle(t.data),i&&fa(t,o,i)},"mergeOption":function mergeOption(t,e){t=n(this.option,t,!0),this.fillDataTextStyle(t.data);var i=this.layoutMode;i&&fa(this.option,t,i),Sa(this);var o=this.getInitialData(t,e);Sr(o,this),this.dataTask.dirty(),this.dataTask.context.data=o,iT(this).dataBeforeProcessed=o,yr(this)},"fillDataTextStyle":function fillDataTextStyle(t){if(t&&!S(t))for(var e=["show"],n=0;n<t.length;n++)t[n]&&t[n].label&&Ci(t[n],"label",e)},"getInitialData":function getInitialData(){},"appendData":function appendData(t){this.getRawData().appendData(t.data)},"getData":function getData(t){var e=Ir(this);if(e){var n=e.context.data;return null==t?n:n.getLinkedData(t)}return iT(this).data},"setData":function setData(t){var e=Ir(this);if(e){var n=e.context;n.data!==t&&e.modifyOutputEnd&&e.setOutputEnd(t.count()),n.outputData=t,e!==this.dataTask&&(n.data=t)}iT(this).data=t},"getSource":function getSource(){return function wa(t){return DI(t).source}(this)},"getRawData":function getRawData(){return iT(this).dataBeforeProcessed},"getBaseAxis":function getBaseAxis(){var t=this.coordinateSystem;return t&&t.getBaseAxis&&t.getBaseAxis()},"formatTooltip":function formatTooltip(t,e,n,i){var a=this,r="html"===(i=i||"html")?"<br/>":"\n",s="richText"===i,l={},u=0,h=this.getData(),c=h.mapDimension("defaultedTooltip",!0),f=c.length,g=this.getRawValue(t),m=y(g),v=h.getItemVisual(t,"color");w(v)&&v.colorStops&&(v=(v.colorStops[0]||{}).color),v=v||"transparent";var x=(f>1||m&&!f?function(n){function o(t,n){var o=h.getDimensionInfo(n);if(o&&!1!==o.otherDims.tooltip){var c=o.type,d="sub"+a.seriesIndex+"at"+u,p=oa({"color":v,"type":"subItem","renderMode":i,"markerId":d}),g="string"==typeof p?p:p.content,m=(r?g+ea(o.displayName||"-")+": ":"")+ea("ordinal"===c?t+"":"time"===c?e?"":ra("yyyy/MM/dd hh:mm:ss",t):Qo(t));m&&f.push(m),s&&(l[d]=v,++u)}}var r=p(n,function(t,e,n){var i=h.getDimensionInfo(n);return t|(i&&!1!==i.tooltip&&null!=i.displayName)},0),f=[];c.length?d(c,function(e){o(dr(h,t,e),e)}):d(n,o);var g=r?s?"\n":"<br/>":"",m=g+f.join(g||", ");return{"renderMode":i,"content":m,"style":l}}(g):function o(t){return{"renderMode":i,"content":ea(Qo(t)),"style":l}}(f?dr(h,t,c[0]):m?g[0]:g)).content,_=a.seriesIndex+"at"+u,b=oa({"color":v,"type":"item","renderMode":i,"markerId":_});l[_]=v,++u;var S=h.getName(t),M=this.name;Oi(this)||(M=""),M=M?ea(M)+(e?": ":r):"";var I="string"==typeof b?b:b.content;return{"html":e?I+M+x:M+I+(S?ea(S)+": "+x:x),"markers":l}},"isAnimationEnabled":function isAnimationEnabled(){if(be.node)return!1;var t=this.getShallow("animation");return t&&this.getData().count()>this.getShallow("animationThreshold")&&(t=!1),t},"restoreData":function restoreData(){this.dataTask.dirty()},"getColorFromPalette":function getColorFromPalette(t,e,n){var i=this.ecModel,o=yI.getColorFromPalette.call(this,t,e,n);return o||(o=i.getColorFromPalette(t,e,n)),o},"coordDimToDataDim":function coordDimToDataDim(t){return this.getRawData().mapDimension(t,!0)},"getProgressive":function getProgressive(){return this.get("progressive")},"getProgressiveThreshold":function getProgressiveThreshold(){return this.get("progressiveThreshold")},"getAxisTooltipData":null,"getTooltipPosition":null,"pipeTask":null,"preventIncremental":null,"pipelineContext":null});h(oT,tT),h(oT,yI);var aT=function YI(){this.group=new Zb,this.uid=Eo("viewComponent")};aT.prototype={"constructor":aT,"init":function init(t,e){},"render":function render(t,e,n,i){},"dispose":function dispose(){},"filterForExposedEvent":null};var sT=aT.prototype;sT.updateView=sT.updateLayout=sT.updateVisual=function(t,e,n,i){},Xi(aT),Ki(aT,{"registerWhenExtend":!0});var lT=function KI(){var t=Bi();return function(e){var n=t(e),i=e.pipelineContext,o=n.large,a=n.progressiveRender,r=n.large=i.large,s=n.progressiveRender=i.progressiveRender;return!!(o^r||a^s)&&"reset"}},uT=Bi(),hT=lT();Tr.prototype={"type":"chart","init":function init(t,e){},"render":function render(t,e,n,i){},"highlight":function highlight(t,e,n,i){Dr(t.getData(),i,"emphasis")},"downplay":function downplay(t,e,n,i){Dr(t.getData(),i,"normal")},"remove":function remove(t,e){this.group.removeAll()},"dispose":function dispose(){},"incrementalPrepareRender":null,"incrementalRender":null,"updateTransform":null,"filterForExposedEvent":null};var cT=Tr.prototype;cT.updateView=cT.updateLayout=cT.updateVisual=function(t,e,n,i){this.render(t,e,n,i)},Xi(Tr),Ki(Tr,{"registerWhenExtend":!0}),Tr.markUpdateMethod=function(t,e){uT(t).updateMethod=e};var dT={"incrementalPrepareRender":{"progress":function progress(t,e){e.view.incrementalRender(t,e.model,e.ecModel,e.api,e.payload)}},"render":{"forceFirstProgress":!0,"progress":function progress(t,e){e.view.render(e.model,e.ecModel,e.api,e.payload)}}},fT="\0__throttleOriginMethod",pT="\0__throttleRate",gT="\0__throttleType",mT={"createOnAllSeries":!0,"performRawSeries":!0,"reset":function reset(t,e){var n=t.getData(),i=(t.visualColorAccessPath||"itemStyle.color").split("."),o=t.get(i)||t.getColorFromPalette(t.name,null,e.getSeriesCount());if(n.setVisual("color",o),!e.isSeriesFiltered(t))return"function"!=typeof o||o instanceof LM||n.each(function(e){n.setItemVisual(e,"color",o(t.getDataParams(e)))}),{"dataEach":n.hasItemOption?function(t,e){var n=t.getItemModel(e).get(i,!0);null!=n&&t.setItemVisual(e,"color",n)}:null}}},vT={"toolbox":{"brush":{"title":{"rect":"矩形选择","polygon":"圈选","lineX":"横向选择","lineY":"纵向选择","keep":"保持选择","clear":"清除选择"}},"dataView":{"title":"数据视图","lang":["数据视图","关闭","刷新"]},"dataZoom":{"title":{"zoom":"区域缩放","back":"区域缩放还原"}},"magicType":{"title":{"line":"切换为折线图","bar":"切换为柱状图","stack":"切换为堆叠","tiled":"切换为平铺"}},"restore":{"title":"还原"},"saveAsImage":{"title":"保存为图片","lang":["右键另存为图片"]}},"series":{"typeNames":{"pie":"饼图","bar":"柱状图","line":"折线图","scatter":"散点图","effectScatter":"涟漪散点图","radar":"雷达图","tree":"树图","treemap":"矩形树图","boxplot":"箱型图","candlestick":"K线图","k":"K线图","heatmap":"热力图","map":"地图","parallel":"平行坐标图","lines":"线图","graph":"关系图","sankey":"桑基图","funnel":"漏斗图","gauge":"仪表盘图","pictorialBar":"象形柱图","themeRiver":"主题河流图","sunburst":"旭日图"}},"aria":{"general":{"withTitle":"这是一个关于“{title}”的图表。","withoutTitle":"这是一个图表，"},"series":{"single":{"prefix":"","withName":"图表类型是{seriesType}，表示{seriesName}。","withoutName":"图表类型是{seriesType}。"},"multiple":{"prefix":"它由{seriesCount}个图表系列组成。","withName":"第{seriesId}个系列是一个表示{seriesName}的{seriesType}，","withoutName":"第{seriesId}个系列是一个{seriesType}，","separator":{"middle":"；","end":"。"}}},"data":{"allData":"其数据是——","partialData":"其中，前{displayCnt}项是——","withName":"{name}的数据是{value}","withoutName":"{value}","separator":{"middle":"，","end":""}}}},yT=function rT(t,e){function i(t,e){if("string"!=typeof t)return t;var n=t;return d(e,function(t,e){n=n.replace(new RegExp("\\{\\s*"+e+"\\s*\\}","g"),t)}),n}function n(t){var e=a.get(t);if(null==e){for(var n=t.split("."),i=vT.aria,o=0;o<n.length;++o)i=i[n[o]];return i}return e}var a=e.getModel("aria");if(a.get("show"))if(a.get("description"))t.setAttribute("aria-label",a.get("description"));else{var r=0;e.eachSeries(function(t,e){++r},this);var s,l=a.get("data.maxCount")||10,u=a.get("series.maxCount")||10,h=Math.min(r,u);if(!(r<1)){var c=function(){var t=e.getModel("title").option;return t&&t.length&&(t=t[0]),t&&t.text}();s=c?i(n("general.withTitle"),{"title":c}):n("general.withoutTitle");var f=[];s+=i(n(r>1?"series.multiple.prefix":"series.single.prefix"),{"seriesCount":r}),e.eachSeries(function(t,e){if(e<h){var a,s=t.get("name"),u="series."+(r>1?"multiple":"single")+".";a=i(a=n(s?u+"withName":u+"withoutName"),{"seriesId":t.seriesIndex,"seriesName":t.get("name"),"seriesType":function o(t){return vT.series.typeNames[t]||"自定义图"}(t.subType)});var c=t.getData();window.data=c,c.count()>l?a+=i(n("data.partialData"),{"displayCnt":l}):a+=n("data.allData");for(var d=[],p=0;p<c.count();p++)if(p<l){var g=c.getName(p),m=dr(c,p);d.push(i(n(g?"data.withName":"data.withoutName"),{"name":g,"value":m}))}a+=d.join(n("data.separator.middle"))+n("data.separator.end"),f.push(a)}}),s+=f.join(n("series.multiple.separator.middle"))+n("series.multiple.separator.end"),t.setAttribute("aria-label",s)}}},xT=Math.PI,_T=Or.prototype;_T.restoreData=function(t,e){t.restoreData(e),this._stageTaskMap.each(function(t){var e=t.overallTask;e&&e.dirty()})},_T.getPerformArgs=function(t,e){if(t.__pipeline){var n=this._pipelineMap.get(t.__pipeline.id),i=n.context,o=!e&&n.progressiveEnabled&&(!i||i.progressiveRender)&&t.__idxInPipeline>n.blockIndex?n.step:null,a=i&&i.modDataCount;return{"step":o,"modBy":null!=a?Math.ceil(a/o):null,"modDataCount":a}}},_T.getPipeline=function(t){return this._pipelineMap.get(t)},_T.updateStreamModes=function(t,e){var n=this._pipelineMap.get(t.uid),i=t.getData().count(),o=n.progressiveEnabled&&e.incrementalPrepareRender&&i>=n.threshold,a=t.get("large")&&i>=t.get("largeThreshold"),r="mod"===t.get("progressiveChunkMode")?i:null;t.pipelineContext=n.context={"progressiveRender":o,"modDataCount":r,"large":a}},_T.restorePipelines=function(t){var e=this,n=e._pipelineMap=R();t.eachSeries(function(t){var i=t.getProgressive(),o=t.uid;n.set(o,{"id":o,"head":null,"tail":null,"threshold":t.getProgressiveThreshold(),"progressiveEnabled":i&&!(t.preventIncremental&&t.preventIncremental()),"blockIndex":-1,"step":Math.round(i||700),"count":0}),Xr(e,t,t.dataTask)})},_T.prepareStageTasks=function(){var t=this._stageTaskMap,e=this.ecInstance.getModel(),n=this.api;d(this._allHandlers,function(i){var o=t.get(i.uid)||t.set(i.uid,[]);i.reset&&function Rr(t,e,n,i,o){function a(n){var a=n.uid,s=r.get(a)||r.set(a,pr({"plan":Wr,"reset":Hr,"count":Ur}));s.context={"model":n,"ecModel":i,"api":o,"useClearVisual":e.isVisual&&!e.isLayout,"plan":e.plan,"reset":e.reset,"scheduler":t},Xr(t,n,s)}var r=n.seriesTaskMap||(n.seriesTaskMap=R()),s=e.seriesType,l=e.getTargetSeries;e.createOnAllSeries?i.eachRawSeries(a):s?i.eachRawSeriesByType(s,a):l&&l(i,o).each(a);var u=t._pipelineMap;r.each(function(t,e){u.get(e)||(t.dispose(),r.removeKey(e))})}(this,i,o,e,n),i.overallReset&&function zr(t,e,n,i,o){function a(e){var n=e.uid,i=s.get(n);i||(i=s.set(n,pr({"reset":Vr,"onDirty":Fr})),r.dirty()),i.context={"model":e,"overallProgress":h,"modifyOutputEnd":c},i.agent=r,i.__block=h,Xr(t,e,i)}var r=n.overallTask=n.overallTask||pr({"reset":Br});r.context={"ecModel":i,"api":o,"overallReset":e.overallReset,"scheduler":t};var s=r.agentStubMap=r.agentStubMap||R(),l=e.seriesType,u=e.getTargetSeries,h=!0,c=e.modifyOutputEnd;l?i.eachRawSeriesByType(l,a):u?u(i,o).each(a):(h=!1,d(i.getSeries(),a));var f=t._pipelineMap;s.each(function(t,e){f.get(e)||(t.dispose(),r.dirty(),s.removeKey(e))})}(this,i,o,e,n)},this)},_T.prepareView=function(t,e,n,i){var o=t.renderTask,a=o.context;a.model=e,a.ecModel=n,a.api=i,o.__block=!t.incrementalPrepareRender,Xr(this,e,o)},_T.performDataProcessorTasks=function(t,e){Er(this,this._dataProcessorHandlers,t,e,{"block":!0})},_T.performVisualTasks=function(t,e,n){Er(this,this._visualHandlers,t,e,n)},_T.performSeriesTasks=function(t){var e;t.eachSeries(function(t){e|=t.dataTask.perform()}),this.unfinished|=e},_T.plan=function(){this._pipelineMap.each(function(t){var e=t.tail;do{if(e.__block){t.blockIndex=e.__idxInPipeline;break}e=e.getUpstream()}while(e)})};var bT=_T.updatePayload=function(t,e){"remain"!==e&&(t.context.payload=e)},wT=Zr(0);Or.wrapStageHandler=function(t,e){return x(t)&&(t={"overallReset":t,"seriesType":function jr(t){ST=null;try{t(MT,IT)}catch(t){}return ST}(t)}),t.uid=Eo("stageHandler"),e&&(t.visualType=e),t};var ST,MT={},IT={};Yr(MT,LI),Yr(IT,Va),MT.eachSeriesByType=MT.eachRawSeriesByType=function(t){ST=t},MT.eachComponent=function(t){"series"===t.mainType&&t.subType&&(ST=t.subType)};var TT=["#37A2DA","#32C5E9","#67E0E3","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#E062AE","#E690D1","#e7bcf3","#9d96f5","#8378EA","#96BFFF"],AT={"color":TT,"colorLayer":[["#37A2DA","#ffd85c","#fd7b5f"],["#37A2DA","#67E0E3","#FFDB5C","#ff9f7f","#E062AE","#9d96f5"],["#37A2DA","#32C5E9","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#e7bcf3","#8378EA","#96BFFF"],TT]},DT=["#dd6b66","#759aa0","#e69d87","#8dc1a9","#ea7e53","#eedd78","#73a373","#73b9bc","#7289ab","#91ca8c","#f49f42"],CT={"color":DT,"backgroundColor":"#333","tooltip":{"axisPointer":{"lineStyle":{"color":"#eee"},"crossStyle":{"color":"#eee"}}},"legend":{"textStyle":{"color":"#eee"}},"textStyle":{"color":"#eee"},"title":{"textStyle":{"color":"#eee"}},"toolbox":{"iconStyle":{"normal":{"borderColor":"#eee"}}},"dataZoom":{"textStyle":{"color":"#eee"}},"visualMap":{"textStyle":{"color":"#eee"}},"timeline":{"lineStyle":{"color":"#eee"},"itemStyle":{"normal":{"color":DT[1]}},"label":{"normal":{"textStyle":{"color":"#eee"}}},"controlStyle":{"normal":{"color":"#eee","borderColor":"#eee"}}},"timeAxis":{"axisLine":{"lineStyle":{"color":"#eee"}},"axisTick":{"lineStyle":{"color":"#eee"}},"axisLabel":{"textStyle":{"color":"#eee"}},"splitLine":{"lineStyle":{"type":"dashed","color":"#aaa"}},"splitArea":{"areaStyle":{"color":"#eee"}}},"logAxis":{"axisLine":{"lineStyle":{"color":"#eee"}},"axisTick":{"lineStyle":{"color":"#eee"}},"axisLabel":{"textStyle":{"color":"#eee"}},"splitLine":{"lineStyle":{"type":"dashed","color":"#aaa"}},"splitArea":{"areaStyle":{"color":"#eee"}}},"valueAxis":{"axisLine":{"lineStyle":{"color":"#eee"}},"axisTick":{"lineStyle":{"color":"#eee"}},"axisLabel":{"textStyle":{"color":"#eee"}},"splitLine":{"lineStyle":{"type":"dashed","color":"#aaa"}},"splitArea":{"areaStyle":{"color":"#eee"}}},"categoryAxis":{"axisLine":{"lineStyle":{"color":"#eee"}},"axisTick":{"lineStyle":{"color":"#eee"}},"axisLabel":{"textStyle":{"color":"#eee"}},"splitLine":{"lineStyle":{"type":"dashed","color":"#aaa"}},"splitArea":{"areaStyle":{"color":"#eee"}}},"line":{"symbol":"circle"},"graph":{"color":DT},"gauge":{"title":{"textStyle":{"color":"#eee"}}},"candlestick":{"itemStyle":{"normal":{"color":"#FD1050","color0":"#0CF49B","borderColor":"#FD1050","borderColor0":"#0CF49B"}}}};CT.categoryAxis.splitLine.show=!1,pI.extend({"type":"dataset","defaultOption":{"seriesLayoutBy":TI,"sourceHeader":null,"dimensions":null,"source":null},"optionUpdated":function optionUpdated(){!function _a(t){var e=t.option.source,n=MI;if(S(e))n=II;else if(y(e)){0===e.length&&(n=bI);for(var i=0,o=e.length;i<o;i++){var a=e[i];if(null!=a){if(y(a)){n=bI;break}if(w(a)){n=wI;break}}}}else if(w(e)){for(var r in e)if(e.hasOwnProperty(r)&&c(e[r])){n=SI;break}}else if(null!=e)throw new Error("Invalid data");DI(t).sourceFormat=n}(this)}}),aT.extend({"type":"dataset"});var LT=kn.extend({"type":"ellipse","shape":{"cx":0,"cy":0,"rx":0,"ry":0},"buildPath":function buildPath(t,e){var n=.5522848,i=e.cx,o=e.cy,a=e.rx,r=e.ry,s=a*n,l=r*n;t.moveTo(i-a,o),t.bezierCurveTo(i-a,o-l,i-s,o-r,i,o-r),t.bezierCurveTo(i+s,o-r,i+a,o-l,i+a,o),t.bezierCurveTo(i+a,o+l,i+s,o+r,i,o+r),t.bezierCurveTo(i-s,o+r,i-a,o+l,i-a,o),t.closePath()}}),kT=/[\s,]+/;Kr.prototype.parse=function(t,e){e=e||{};var n=qr(t);if(!n)throw new Error("Illegal svg");var i=new Zb;this._root=i;var o,a,r=n.getAttribute("viewBox")||"",s=parseFloat(n.getAttribute("width")||e.width),l=parseFloat(n.getAttribute("height")||e.height);isNaN(s)&&(s=null),isNaN(l)&&(l=null),ts(n,i,null,!0);for(var u=n.firstChild;u;)this._parseNode(u,i),u=u.nextSibling;if(r){var h=P(r).split(kT);h.length>=4&&(o={"x":parseFloat(h[0]||0),"y":parseFloat(h[1]||0),"width":parseFloat(h[2]),"height":parseFloat(h[3])})}if(o&&null!=s&&null!=l&&(a=os(o,s,l),!e.ignoreViewBox)){var c=i;(i=new Zb).add(c),c.scale=a.scale.slice(),c.position=a.position.slice()}return e.ignoreRootClip||null==s||null==l||i.setClipPath(new bM({"shape":{"x":0,"y":0,"width":s,"height":l}})),{"root":i,"width":s,"height":l,"viewBoxRect":o,"viewBoxTransform":a}},Kr.prototype._parseNode=function(t,e){var n,i=t.nodeName.toLowerCase();if("defs"===i?this._isDefine=!0:"text"===i&&(this._isText=!0),this._isDefine){if(r=OT[i]){var o=r.call(this,t),a=t.getAttribute("id");a&&(this._defs[a]=o)}}else{var r=PT[i];r&&(n=r.call(this,t,e),e.add(n))}for(var s=t.firstChild;s;)1===s.nodeType&&this._parseNode(s,n),3===s.nodeType&&this._isText&&this._parseText(s,n),s=s.nextSibling;"defs"===i?this._isDefine=!1:"text"===i&&(this._isText=!1)},Kr.prototype._parseText=function(t,e){if(1===t.nodeType){var n=t.getAttribute("dx")||0,i=t.getAttribute("dy")||0;this._textX+=parseFloat(n),this._textY+=parseFloat(i)}var o=new rM({"style":{"text":t.textContent,"transformText":!0},"position":[this._textX||0,this._textY||0]});Jr(e,o),ts(t,o,this._defs);var a=o.style.fontSize;a&&a<9&&(o.style.fontSize=9,o.scale=o.scale||[1,1],o.scale[0]*=a/9,o.scale[1]*=a/9);var r=o.getBoundingRect();return this._textX+=r.width,e.add(o),o};var PT={"g":function g(t,e){var n=new Zb;return Jr(e,n),ts(t,n,this._defs),n},"rect":function rect(t,e){var n=new bM;return Jr(e,n),ts(t,n,this._defs),n.setShape({"x":parseFloat(t.getAttribute("x")||0),"y":parseFloat(t.getAttribute("y")||0),"width":parseFloat(t.getAttribute("width")||0),"height":parseFloat(t.getAttribute("height")||0)}),n},"circle":function circle(t,e){var n=new sM;return Jr(e,n),ts(t,n,this._defs),n.setShape({"cx":parseFloat(t.getAttribute("cx")||0),"cy":parseFloat(t.getAttribute("cy")||0),"r":parseFloat(t.getAttribute("r")||0)}),n},"line":function line(t,e){var n=new SM;return Jr(e,n),ts(t,n,this._defs),n.setShape({"x1":parseFloat(t.getAttribute("x1")||0),"y1":parseFloat(t.getAttribute("y1")||0),"x2":parseFloat(t.getAttribute("x2")||0),"y2":parseFloat(t.getAttribute("y2")||0)}),n},"ellipse":function ellipse(t,e){var n=new LT;return Jr(e,n),ts(t,n,this._defs),n.setShape({"cx":parseFloat(t.getAttribute("cx")||0),"cy":parseFloat(t.getAttribute("cy")||0),"rx":parseFloat(t.getAttribute("rx")||0),"ry":parseFloat(t.getAttribute("ry")||0)}),n},"polygon":function polygon(t,e){var n=t.getAttribute("points");n&&(n=Qr(n));var i=new vM({"shape":{"points":n||[]}});return Jr(e,i),ts(t,i,this._defs),i},"polyline":function polyline(t,e){var n=new kn;Jr(e,n),ts(t,n,this._defs);var i=t.getAttribute("points");return i&&(i=Qr(i)),new yM({"shape":{"points":i||[]}})},"image":function image(t,e){var n=new fi;return Jr(e,n),ts(t,n,this._defs),n.setStyle({"image":t.getAttribute("xlink:href"),"x":t.getAttribute("x"),"y":t.getAttribute("y"),"width":t.getAttribute("width"),"height":t.getAttribute("height")}),n},"text":function text(t,e){var n=t.getAttribute("x")||0,i=t.getAttribute("y")||0,o=t.getAttribute("dx")||0,a=t.getAttribute("dy")||0;this._textX=parseFloat(n)+parseFloat(o),this._textY=parseFloat(i)+parseFloat(a);var r=new Zb;return Jr(e,r),ts(t,r,this._defs),r},"tspan":function tspan(t,e){var n=t.getAttribute("x"),i=t.getAttribute("y");null!=n&&(this._textX=parseFloat(n)),null!=i&&(this._textY=parseFloat(i));var o=t.getAttribute("dx")||0,a=t.getAttribute("dy")||0,r=new Zb;return Jr(e,r),ts(t,r,this._defs),this._textX+=o,this._textY+=a,r},"path":function path(t,e){var n=En(t.getAttribute("d")||"");return Jr(e,n),ts(t,n,this._defs),n}},OT={"lineargradient":function lineargradient(t){var e=parseInt(t.getAttribute("x1")||0,10),n=parseInt(t.getAttribute("y1")||0,10),i=parseInt(t.getAttribute("x2")||10,10),o=parseInt(t.getAttribute("y2")||0,10),a=new kM(e,n,i,o);return function $r(t,e){for(var n=t.firstChild;n;){if(1===n.nodeType){var i=n.getAttribute("offset");i=i.indexOf("%")>0?parseInt(i,10)/100:i?parseFloat(i):0;var o=n.getAttribute("stop-color")||"#000000";e.addColorStop(i,o)}n=n.nextSibling}}(t,a),a},"radialgradient":function radialgradient(t){}},RT={"fill":"fill","stroke":"stroke","stroke-width":"lineWidth","opacity":"opacity","fill-opacity":"fillOpacity","stroke-opacity":"strokeOpacity","stroke-dasharray":"lineDash","stroke-dashoffset":"lineDashOffset","stroke-linecap":"lineCap","stroke-linejoin":"lineJoin","stroke-miterlimit":"miterLimit","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","text-align":"textAlign","alignment-baseline":"textBaseline"},NT=/url\(\s*#(.*?)\)/,ET=/(translate|scale|rotate|skewX|skewY|matrix)\(([\-\s0-9\.e,]*)\)/g,zT=/([^\s:;]+)\s*:\s*([^:;]+)/g,BT=R(),VT={"registerMap":function registerMap(t,e,n){var i;return y(e)?i=e:e.svg?i=[{"type":"svg","source":e.svg,"specialAreas":e.specialAreas}]:(e.geoJson&&!e.features&&(n=e.specialAreas,e=e.geoJson),i=[{"type":"geoJSON","source":e,"specialAreas":n}]),d(i,function(t){var e=t.type;"geoJson"===e&&(e=t.type="geoJSON"),(0,GT[e])(t)}),BT.set(t,i)},"retrieveMap":function retrieveMap(t){return BT.get(t)}},GT={"geoJSON":function geoJSON(t){var e=t.source;t.geoJSON=_(e)?"undefined"!=typeof JSON&&JSON.parse?JSON.parse(e):new Function("return ("+e+");")():e},"svg":function svg(t){t.svgXML=qr(t.source)}},FT=k,HT=d,WT=x,jT=w,ZT=pI.parseClassType,UT=1e3,XT=1e3,YT=3e3,qT={"PROCESSOR":{"FILTER":UT,"STATISTIC":5e3},"VISUAL":{"LAYOUT":XT,"GLOBAL":2e3,"CHART":YT,"COMPONENT":4e3,"BRUSH":5e3}},$T="__flagInMainProcess",KT="__optionUpdated",QT=/^[a-zA-Z0-9_]+$/;ss.prototype.on=rs("on"),ss.prototype.off=rs("off"),ss.prototype.one=rs("one"),h(ss,J_);var JT=ls.prototype;JT._onframe=function(){if(!this._disposed){var t=this._scheduler;if(this[KT]){var e=this[KT].silent;this[$T]=!0,hs(this),tA.update.call(this),this[$T]=!1,this[KT]=!1,ps.call(this,e),gs.call(this,e)}else if(t.unfinished){var n=1,i=this._model;this._api,t.unfinished=!1;do{var o=+new Date;t.performSeriesTasks(i),t.performDataProcessorTasks(i),ds(this,i),t.performVisualTasks(i),ws(this,this._model,0,"remain"),n-=+new Date-o}while(n>0&&t.unfinished);t.unfinished||this._zr.flush()}}},JT.getDom=function(){return this._dom},JT.getZr=function(){return this._zr},JT.setOption=function(t,e,n){var i;if(jT(e)&&(n=e.lazyUpdate,i=e.silent,e=e.notMerge),this[$T]=!0,!this._model||e){var o=new Fa(this._api),a=this._theme,r=this._model=new LI(null,null,a,o);r.scheduler=this._scheduler,r.init(null,null,a,o)}this._model.setOption(t,aA),n?(this[KT]={"silent":i},this[$T]=!1):(hs(this),tA.update.call(this),this._zr.flush(),this[KT]=!1,this[$T]=!1,ps.call(this,i),gs.call(this,i))},JT.setTheme=function(){console.error("ECharts#setTheme() is DEPRECATED in ECharts 3.0")},JT.getModel=function(){return this._model},JT.getOption=function(){return this._model&&this._model.getOption()},JT.getWidth=function(){return this._zr.getWidth()},JT.getHeight=function(){return this._zr.getHeight()},JT.getDevicePixelRatio=function(){return this._zr.painter.dpr||window.devicePixelRatio||1},JT.getRenderedCanvas=function(t){if(be.canvasSupported)return(t=t||{}).pixelRatio=t.pixelRatio||1,t.backgroundColor=t.backgroundColor||this._model.get("backgroundColor"),this._zr.painter.getRenderedCanvas(t)},JT.getSvgDataUrl=function(){if(be.svgSupported){var t=this._zr;return d(t.storage.getDisplayList(),function(t){t.stopAnimation(!0)}),t.painter.pathToDataUrl()}},JT.getDataURL=function(t){var e=(t=t||{}).excludeComponents,n=this._model,i=[],o=this;HT(e,function(t){n.eachComponent({"mainType":t},function(t){var e=o._componentsMap[t.__viewId];e.group.ignore||(i.push(e),e.group.ignore=!0)})});var a="svg"===this._zr.painter.getType()?this.getSvgDataUrl():this.getRenderedCanvas(t).toDataURL("image/"+(t&&t.type||"png"));return HT(i,function(t){t.group.ignore=!1}),a},JT.getConnectedDataURL=function(t){if(be.canvasSupported){var e=this.group,n=Math.min,o=Math.max;if(cA[e]){var a=1/0,r=1/0,s=-1/0,l=-1/0,u=[],h=t&&t.pixelRatio||1;d(hA,function(h,c){if(h.group===e){var d=h.getRenderedCanvas(i(t)),f=h.getDom().getBoundingClientRect();a=n(f.left,a),r=n(f.top,r),s=o(f.right,s),l=o(f.bottom,l),u.push({"dom":d,"left":f.left,"top":f.top})}});var c=(s*=h)-(a*=h),f=(l*=h)-(r*=h),p=gx();p.width=c,p.height=f;var g=Ii(p);return HT(u,function(t){var e=new fi({"style":{"x":t.left*h-a,"y":t.top*h-r,"image":t.dom}});g.add(e)}),g.refreshImmediately(),p.toDataURL("image/"+(t&&t.type||"png"))}return this.getDataURL(t)}},JT.convertToPixel=v(us,"convertToPixel"),JT.convertFromPixel=v(us,"convertFromPixel"),JT.containPixel=function(t,e){var n;return d(t=Vi(this._model,t),function(t,i){i.indexOf("Models")>=0&&d(t,function(t){var o=t.coordinateSystem;if(o&&o.containPoint)n|=!!o.containPoint(e);else if("seriesModels"===i){var a=this._chartsMap[t.__viewId];a&&a.containPoint&&(n|=a.containPoint(e,t))}},this)},this),!!n},JT.getVisual=function(t,e){var n=(t=Vi(this._model,t,{"defaultMainType":"series"})).seriesModel.getData(),i=t.hasOwnProperty("dataIndexInside")?t.dataIndexInside:t.hasOwnProperty("dataIndex")?n.indexOfRawIndex(t.dataIndex):null;return null!=i?n.getItemVisual(i,e):n.getVisual(e)},JT.getViewOfComponentModel=function(t){return this._componentsMap[t.__viewId]},JT.getViewOfSeriesModel=function(t){return this._chartsMap[t.__viewId]};var tA={"prepareAndUpdate":function prepareAndUpdate(t){hs(this),tA.update.call(this,t)},"update":function update(t){var e=this._model,n=this._api,i=this._zr,o=this._coordSysMgr,a=this._scheduler;if(e){a.restoreData(e,t),a.performSeriesTasks(e),o.create(e,n),a.performDataProcessorTasks(e,t),ds(this,e),o.update(e,n),ys(e),a.performVisualTasks(e,t),xs(this,e,n,t);var r=e.get("backgroundColor")||"transparent";if(be.canvasSupported)i.setBackgroundColor(r);else{var s=Gt(r);r=qt(s,"rgb"),0===s[3]&&(r="transparent")}bs(e,n)}},"updateTransform":function updateTransform(t){var e=this._model,n=this,i=this._api;if(e){var o=[];e.eachComponent(function(a,r){var s=n.getViewOfComponentModel(r);if(s&&s.__alive)if(s.updateTransform){var l=s.updateTransform(r,e,i,t);l&&l.update&&o.push(s)}else o.push(s)});var a=R();e.eachSeries(function(o){var r=n._chartsMap[o.__viewId];if(r.updateTransform){var s=r.updateTransform(o,e,i,t);s&&s.update&&a.set(o.uid,1)}else a.set(o.uid,1)}),ys(e),this._scheduler.performVisualTasks(e,t,{"setDirty":!0,"dirtyMap":a}),ws(n,e,0,t,a),bs(e,this._api)}},"updateView":function updateView(t){var e=this._model;e&&(Tr.markUpdateMethod(t,"updateView"),ys(e),this._scheduler.performVisualTasks(e,t,{"setDirty":!0}),xs(this,this._model,this._api,t),bs(e,this._api))},"updateVisual":function updateVisual(t){tA.update.call(this,t)},"updateLayout":function updateLayout(t){tA.update.call(this,t)}};JT.resize=function(t){this._zr.resize(t);var e=this._model;if(this._loadingFX&&this._loadingFX.resize(),e){var n=e.resetOption("media"),i=t&&t.silent;this[$T]=!0,n&&hs(this),tA.update.call(this),this[$T]=!1,ps.call(this,i),gs.call(this,i)}},JT.showLoading=function(t,e){if(jT(t)&&(e=t,t=""),t=t||"default",this.hideLoading(),uA[t]){var n=uA[t](this._api,e),i=this._zr;this._loadingFX=n,i.add(n)}},JT.hideLoading=function(){this._loadingFX&&this._zr.remove(this._loadingFX),this._loadingFX=null},JT.makeActionFromEvent=function(t){var e=a({},t);return e.type=iA[t.type],e},JT.dispatchAction=function(t,e){jT(e)||(e={"silent":!!e}),nA[t.type]&&this._model&&(this[$T]?this._pendingActions.push(t):(fs.call(this,t,e.silent),e.flush?this._zr.flush(!0):!1!==e.flush&&be.browser.weChat&&this._throttledZrFlush(),ps.call(this,e.silent),gs.call(this,e.silent)))},JT.appendData=function(t){var e=t.seriesIndex;this.getModel().getSeriesByIndex(e).appendData(t),this._scheduler.unfinished=!0},JT.on=rs("on"),JT.off=rs("off"),JT.one=rs("one");var eA=["click","dblclick","mouseover","mouseout","mousemove","mousedown","mouseup","globalout","contextmenu"];JT._initEvents=function(){HT(eA,function(t){var n=function e(n){var i,o=this.getModel(),r=n.target;if("globalout"===t)i={};else if(r&&null!=r.dataIndex){var s=r.dataModel||o.getSeriesByIndex(r.seriesIndex);i=s&&s.getDataParams(r.dataIndex,r.dataType,r)||{}}else r&&r.eventData&&(i=a({},r.eventData));if(i){var l=i.componentType,u=i.componentIndex;"markLine"!==l&&"markPoint"!==l&&"markArea"!==l||(l="series",u=i.seriesIndex);var h=l&&null!=u&&o.getComponent(l,u),c=h&&this["series"===h.mainType?"_chartsMap":"_componentsMap"][h.__viewId];i.event=n,i.type=t,this._ecEventProcessor.eventInfo={"targetEl":r,"packedEvent":i,"model":h,"view":c},this.trigger(t,i)}};n.zrEventfulCallAtLast=!0,this._zr.on(t,n,this)},this),HT(iA,function(t,e){this._messageCenter.on(e,function(t){this.trigger(e,t)},this)},this)},JT.isDisposed=function(){return this._disposed},JT.clear=function(){this.setOption({"series":[]},!0)},JT.dispose=function(){if(!this._disposed){this._disposed=!0,Fi(this.getDom(),gA,"");var t=this._api,e=this._model;HT(this._componentsViews,function(n){n.dispose(e,t)}),HT(this._chartsViews,function(n){n.dispose(e,t)}),this._zr.dispose(),delete hA[this.id]}},h(ls,J_),As.prototype={"constructor":As,"normalizeQuery":function normalizeQuery(t){var e={},n={},i={};if(_(t)){var o=ZT(t);e.mainType=o.main||null,e.subType=o.sub||null}else{var a=["Index","Name","Id"],r={"name":1,"dataIndex":1,"dataType":1};d(t,function(t,o){for(var s=!1,l=0;l<a.length;l++){var u=a[l],h=o.lastIndexOf(u);if(h>0&&h===o.length-u.length){var c=o.slice(0,h);"data"!==c&&(e.mainType=c,e[u.toLowerCase()]=t,s=!0)}}r.hasOwnProperty(o)&&(n[o]=t,s=!0),s||(i[o]=t)})}return{"cptQuery":e,"dataQuery":n,"otherQuery":i}},"filter":function filter(t,e,i){function n(t,e,n,i){return null==t[n]||e[i||n]===t[n]}var o=this.eventInfo;if(!o)return!0;var a=o.targetEl,r=o.packedEvent,s=o.model,l=o.view;if(!s||!l)return!0;var u=e.cptQuery,h=e.dataQuery;return n(u,s,"mainType")&&n(u,s,"subType")&&n(u,s,"index","componentIndex")&&n(u,s,"name")&&n(u,s,"id")&&n(h,r,"name")&&n(h,r,"dataIndex")&&n(h,r,"dataType")&&(!l.filterForExposedEvent||l.filterForExposedEvent(t,e.otherQuery,a,r))},"afterTrigger":function afterTrigger(){this.eventInfo=null}};var nA={},iA={},oA=[],aA=[],rA=[],sA=[],lA={},uA={},hA={},cA={},dA=new Date-0,fA=new Date-0,gA="_echarts_instance_",mA=Cs;zs(2e3,mT),Ps(UI),Ns(5e3,function(t){var e=R();t.eachSeries(function(t){var n=t.get("stack");if(n){var i=e.get(n)||e.set(n,[]),o=t.getData(),a={"stackResultDimension":o.getCalculationInfo("stackResultDimension"),"stackedOverDimension":o.getCalculationInfo("stackedOverDimension"),"stackedDimension":o.getCalculationInfo("stackedDimension"),"stackedByDimension":o.getCalculationInfo("stackedByDimension"),"isStackedByIndex":o.getCalculationInfo("isStackedByIndex"),"data":o,"seriesModel":t};if(!a.stackedDimension||!a.isStackedByIndex&&!a.stackedByDimension)return;i.length&&o.setCalculationInfo("stackedOnSeries",i[i.length-1].seriesModel),i.push(a)}}),e.each(or)}),Vs("default",function(t,e){r(e=e||{},{"text":"loading","color":"#c23531","textColor":"#000","maskColor":"rgba(255, 255, 255, 0.8)","zlevel":0});var n=new bM({"style":{"fill":e.maskColor},"zlevel":e.zlevel,"z":1e4}),i=new DM({"shape":{"startAngle":-xT/2,"endAngle":-xT/2+.1,"r":10},"style":{"stroke":e.color,"lineCap":"round","lineWidth":5},"zlevel":e.zlevel,"z":10001}),o=new bM({"style":{"fill":"none","text":e.text,"textPosition":"right","textDistance":10,"textFill":e.textColor},"zlevel":e.zlevel,"z":10001});i.animateShape(!0).when(1e3,{"endAngle":3*xT/2}).start("circularInOut"),i.animateShape(!0).when(1e3,{"startAngle":3*xT/2}).delay(300).start("circularInOut");var a=new Zb;return a.add(i),a.add(o),a.add(n),a.resize=function(){var e=t.getWidth()/2,a=t.getHeight()/2;i.setShape({"cx":e,"cy":a});var r=i.shape.r;o.setShape({"x":e-r,"y":a-r,"width":2*r,"height":2*r}),n.setShape({"x":0,"y":0,"width":t.getWidth(),"height":t.getHeight()})},a.resize(),a}),Os({"type":"highlight","event":"highlight","update":"highlight"},B),Os({"type":"downplay","event":"downplay","update":"downplay"},B),ks("light",AT),ks("dark",CT),Us.prototype={"constructor":Us,"add":function add(t){return this._add=t,this},"update":function update(t){return this._update=t,this},"remove":function remove(t){return this._remove=t,this},"execute":function execute(){var t=this._old,e=this._new,n={},i=[],o=[];for(Xs(t,{},i,"_oldKeyGetter",this),Xs(e,n,o,"_newKeyGetter",this),a=0;a<t.length;a++)null!=(s=n[r=i[a]])?((u=s.length)?(1===u&&(n[r]=null),s=s.unshift()):n[r]=null,this._update&&this._update(s,a)):this._remove&&this._remove(a);for(var a=0;a<o.length;a++){var r=o[a];if(n.hasOwnProperty(r)){var s=n[r];if(null==s)continue;if(s.length)for(var l=0,u=s.length;l<u;l++)this._add&&this._add(s[l]);else this._add&&this._add(s)}}}};var yA=R(["tooltip","label","itemName","itemId","seriesName"]),xA=w,_A=-1,bA="e\0\0",wA={"float":"undefined"==typeof Float64Array?Array:Float64Array,"int":"undefined"==typeof Int32Array?Array:Int32Array,"ordinal":Array,"number":Array,"time":Array},SA="undefined"==typeof Uint32Array?Array:Uint32Array,MA="undefined"==typeof Int32Array?Array:Int32Array,IA="undefined"==typeof Uint16Array?Array:Uint16Array,TA=["hasItemOption","_nameList","_idList","_invertedIndicesMap","_rawData","_chunkSize","_chunkCount","_dimValueGetter","_count","_rawCount","_nameDimIdx","_idDimIdx"],AA=["_extent","_approximateExtent","_rawExtent"],DA=function pA(t,e){t=t||["x","y"];for(var n={},i=[],o={},a=0;a<t.length;a++){var r=t[a];_(r)&&(r={"name":r});var s=r.name;r.type=r.type||"float",r.coordDim||(r.coordDim=s,r.coordDimIndex=0),r.otherDims=r.otherDims||{},i.push(s),n[s]=r,r.index=a,r.createInvertedIndices&&(o[s]=[])}this.dimensions=i,this._dimensionInfos=n,this.hostModel=e,this.dataType,this._indices=null,this._count=0,this._rawCount=0,this._storage={},this._nameList=[],this._idList=[],this._optionModels=[],this._visual={},this._layout={},this._itemVisuals=[],this.hasItemVisual={},this._itemLayouts=[],this._graphicEls=[],this._chunkSize=1e5,this._chunkCount=0,this._rawData,this._rawExtent={},this._extent={},this._approximateExtent={},this._dimensionsSummary=function js(t){var e={},n=e.encode={},i=R(),o=[],a=[];d(t.dimensions,function(e){var r=t.getDimensionInfo(e),s=r.coordDim;if(s){var l=n[s];n.hasOwnProperty(s)||(l=n[s]=[]),l[r.coordDimIndex]=e,r.isExtraCoord||(i.set(s,1),function qs(t){return!("ordinal"===t||"time"===t)}(r.type)&&(o[0]=e)),r.defaultTooltip&&a.push(e)}yA.each(function(t,e){var i=n[e];n.hasOwnProperty(e)||(i=n[e]=[]);var o=r.otherDims[e];null!=o&&!1!==o&&(i[o]=r.name)})});var r=[],s={};i.each(function(t,e){var i=n[e];s[e]=i[0],r=r.concat(i)}),e.dataDimsOnCoord=r,e.encodeFirstDimNotExtra=s;var l=n.label;l&&l.length&&(o=l.slice());var u=n.tooltip;return u&&u.length?a=u.slice():a.length||(a=o.slice()),n.defaultedLabel=o,n.defaultedTooltip=a,e}(this),this._invertedIndicesMap=o,this._calculationInfo={}},CA=DA.prototype;CA.type="list",CA.hasItemOption=!0,CA.getDimension=function(t){return isNaN(t)||(t=this.dimensions[t]||t),t},CA.getDimensionInfo=function(t){return this._dimensionInfos[this.getDimension(t)]},CA.getDimensionsOnCoord=function(){return this._dimensionsSummary.dataDimsOnCoord.slice()},CA.mapDimension=function(t,e){var n=this._dimensionsSummary;if(null==e)return n.encodeFirstDimNotExtra[t];var i=n.encode[t];return!0===e?(i||[]).slice():i&&i[e]},CA.initData=function(t,e,n){(xa.isInstance(t)||c(t))&&(t=new ar(t,this.dimensions.length)),this._rawData=t,this._storage={},this._indices=null,this._nameList=e||[],this._idList=[],this._nameRepeatCount={},n||(this.hasItemOption=!1),this.defaultDimValueGetter=QI[this._rawData.getSource().sourceFormat],this._dimValueGetter=n=n||this.defaultDimValueGetter,this._dimValueGetterArrayRows=QI.arrayRows,this._rawExtent={},this._initDataFromProvider(0,t.count()),t.pure&&(this.hasItemOption=!1)},CA.getProvider=function(){return this._rawData},CA.appendData=function(t){var e=this._rawData,n=this.count();e.appendData(t);var i=e.count();e.persistent||(i+=n),this._initDataFromProvider(n,i)},CA.appendValues=function(t,e){for(var n=this._chunkSize,i=this._storage,o=this.dimensions,a=o.length,r=this._rawExtent,s=this.count(),l=s+Math.max(t.length,e?e.length:0),u=this._chunkCount,h=0;h<a;h++)v=o[h],Qs(i,this._dimensionInfos[v],n,u,l),this._chunkCount=i[v].length;for(var c=new Array(a),d=s;d<l;d++){for(var f=d-s,p=Math.floor(d/n),g=d%n,m=0;m<a;m++){var v=o[m],y=this._dimValueGetterArrayRows(t[f]||c,v,f,m);i[v][p][g]=y;var x=r[v];y<x[0]&&(x[0]=y),y>x[1]&&(x[1]=y)}e&&(this._nameList[d]=e[f])}this._rawCount=this._count=l,this._extent={},tl(this)},CA._initDataFromProvider=function(t,e){if(!(t>=e)){for(var n,i=this._chunkSize,o=this._rawData,a=this._storage,r=this.dimensions,s=r.length,l=this._dimensionInfos,u=this._nameList,h=this._idList,c=this._rawExtent,d=this._nameRepeatCount={},f=this._chunkCount,p=0;p<s;p++){c[b=r[p]]||(c[b]=[1/0,-1/0]);var g=l[b];0===g.otherDims.itemName&&(n=this._nameDimIdx=p),0===g.otherDims.itemId&&(this._idDimIdx=p),a[b]||(a[b]=[]),Qs(a,g,i,f,e),this._chunkCount=a[b].length}for(var m=new Array(s),v=t;v<e;v++){m=o.getItem(v,m);for(var y=Math.floor(v/i),x=v%i,_=0;_<s;_++){var b=r[_],w=a[b][y],S=this._dimValueGetter(m,b,v,_);w[x]=S;var M=c[b];S<M[0]&&(M[0]=S),S>M[1]&&(M[1]=S)}if(!o.pure){var I=u[v];if(m&&null==I)if(null!=m.name)u[v]=I=m.name;else if(null!=n){var T=r[n],A=a[T][y];if(A){I=A[x];var D=l[T].ordinalMeta;D&&D.categories.length&&(I=D.categories[I])}}var C=null==m?null:m.id;null==C&&null!=I&&(d[I]=d[I]||0,C=I,d[I]>0&&(C+="__ec__"+d[I]),d[I]++),null!=C&&(h[v]=C)}}!o.persistent&&o.clean&&o.clean(),this._rawCount=this._count=e,this._extent={},tl(this)}},CA.count=function(){return this._count},CA.getIndices=function(){var t=this._indices;if(t){var e=t.constructor,n=this._count;if(e===Array)for(i=new e(n),o=0;o<n;o++)i[o]=t[o];else i=new e(t.buffer,0,n)}else for(var i=new(e=Ks(this))(this.count()),o=0;o<i.length;o++)i[o]=o;return i},CA.get=function(t,e){if(!(e>=0&&e<this._count))return NaN;var n=this._storage;if(!n[t])return NaN;e=this.getRawIndex(e);var i=Math.floor(e/this._chunkSize),o=e%this._chunkSize;return n[t][i][o]},CA.getByRawIndex=function(t,e){if(!(e>=0&&e<this._rawCount))return NaN;var n=this._storage[t];if(!n)return NaN;var i=Math.floor(e/this._chunkSize),o=e%this._chunkSize;return n[i][o]},CA._getFast=function(t,e){var n=Math.floor(e/this._chunkSize),i=e%this._chunkSize;return this._storage[t][n][i]},CA.getValues=function(t,e){var n=[];y(t)||(e=t,t=this.dimensions);for(var i=0,o=t.length;i<o;i++)n.push(this.get(t[i],e));return n},CA.hasValue=function(t){for(var e=this._dimensionsSummary.dataDimsOnCoord,n=this._dimensionInfos,i=0,o=e.length;i<o;i++)if("ordinal"!==n[e[i]].type&&isNaN(this.get(e[i],t)))return!1;return!0},CA.getDataExtent=function(t){t=this.getDimension(t);var e=[1/0,-1/0];if(!this._storage[t])return e;var n,i=this.count();if(!this._indices)return this._rawExtent[t].slice();if(n=this._extent[t])return n.slice();for(var o=(n=e)[0],a=n[1],r=0;r<i;r++){var s=this._getFast(t,this.getRawIndex(r));s<o&&(o=s),s>a&&(a=s)}return n=[o,a],this._extent[t]=n,n},CA.getApproximateExtent=function(t){return t=this.getDimension(t),this._approximateExtent[t]||this.getDataExtent(t)},CA.setApproximateExtent=function(t,e){e=this.getDimension(e),this._approximateExtent[e]=t.slice()},CA.getCalculationInfo=function(t){return this._calculationInfo[t]},CA.setCalculationInfo=function(t,e){xA(t)?a(this._calculationInfo,t):this._calculationInfo[t]=e},CA.getSum=function(t){var e=0;if(this._storage[t])for(var n=0,i=this.count();n<i;n++){var o=this.get(t,n);isNaN(o)||(e+=o)}return e},CA.getMedian=function(t){var e=[];this.each(t,function(t,n){isNaN(t)||e.push(t)});var n=[].concat(e).sort(function(t,e){return t-e}),i=this.count();return 0===i?0:i%2==1?n[(i-1)/2]:(n[i/2]+n[i/2-1])/2},CA.rawIndexOf=function(t,e){var n=(t&&this._invertedIndicesMap[t])[e];return null==n||isNaN(n)?_A:n},CA.indexOfName=function(t){for(var e=0,n=this.count();e<n;e++)if(this.getName(e)===t)return e;return-1},CA.indexOfRawIndex=function(t){if(!this._indices)return t;if(t>=this._rawCount||t<0)return-1;var e=this._indices,n=e[t];if(null!=n&&n<this._count&&n===t)return t;for(var i=0,o=this._count-1;i<=o;){var a=(i+o)/2|0;if(e[a]<t)i=a+1;else{if(!(e[a]>t))return a;o=a-1}}return-1},CA.indicesOfNearest=function(t,e,n){var i=[];if(!this._storage[t])return i;null==n&&(n=1/0);for(var o=Number.MAX_VALUE,a=-1,r=0,s=this.count();r<s;r++){var l=e-this.get(t,r),u=Math.abs(l);l<=n&&u<=o&&((u<o||l>=0&&a<0)&&(o=u,a=l,i.length=0),i.push(r))}return i},CA.getRawIndex=il,CA.getRawDataItem=function(t){if(this._rawData.persistent)return this._rawData.getItem(this.getRawIndex(t));for(var e=[],n=0;n<this.dimensions.length;n++){var i=this.dimensions[n];e.push(this.get(i,t))}return e},CA.getName=function(t){var e=this.getRawIndex(t);return this._nameList[e]||el(this,this._nameDimIdx,e)||""},CA.getId=function(t){return ol(this,this.getRawIndex(t))},CA.each=function(t,e,n,i){if(this._count){"function"==typeof t&&(i=n,n=e,e=t,t=[]),n=n||i||this;for(var o=(t=f(al(t),this.getDimension,this)).length,a=0;a<this.count();a++)switch(o){case 0:e.call(n,a);break;case 1:e.call(n,this.get(t[0],a),a);break;case 2:e.call(n,this.get(t[0],a),this.get(t[1],a),a);break;default:for(var r=0,s=[];r<o;r++)s[r]=this.get(t[r],a);s[r]=a,e.apply(n,s)}}},CA.filterSelf=function(t,e,n,i){if(this._count){"function"==typeof t&&(i=n,n=e,e=t,t=[]),n=n||i||this,t=f(al(t),this.getDimension,this);for(var o=this.count(),a=new(Ks(this))(o),r=[],s=t.length,l=0,u=t[0],h=0;h<o;h++){var c,d=this.getRawIndex(h);if(0===s)c=e.call(n,h);else if(1===s){var p=this._getFast(u,d);c=e.call(n,p,h)}else{for(var g=0;g<s;g++)r[g]=this._getFast(u,d);r[g]=h,c=e.apply(n,r)}c&&(a[l++]=d)}return l<o&&(this._indices=a),this._count=l,this._extent={},this.getRawIndex=this._indices?nl:il,this}},CA.selectRange=function(t){if(this._count){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push(n);var i=e.length;if(i){var o=this.count(),a=new(Ks(this))(o),r=0,s=e[0],l=t[s][0],u=t[s][1],h=!1;if(!this._indices){var c=0;if(1===i){for(var d=this._storage[e[0]],f=0;f<this._chunkCount;f++)for(var p=d[f],g=Math.min(this._count-f*this._chunkSize,this._chunkSize),m=0;m<g;m++)((b=p[m])>=l&&b<=u||isNaN(b))&&(a[r++]=c),c++;h=!0}else if(2===i){d=this._storage[s];var v=this._storage[e[1]],y=t[e[1]][0],x=t[e[1]][1];for(f=0;f<this._chunkCount;f++){p=d[f];var _=v[f];for(g=Math.min(this._count-f*this._chunkSize,this._chunkSize),m=0;m<g;m++){var b=p[m],w=_[m];(b>=l&&b<=u||isNaN(b))&&(w>=y&&w<=x||isNaN(w))&&(a[r++]=c),c++}}h=!0}}if(!h)if(1===i)for(m=0;m<o;m++)M=this.getRawIndex(m),((b=this._getFast(s,M))>=l&&b<=u||isNaN(b))&&(a[r++]=M);else for(m=0;m<o;m++){var S=!0,M=this.getRawIndex(m);for(f=0;f<i;f++){var I=e[f];((b=this._getFast(n,M))<t[I][0]||b>t[I][1])&&(S=!1)}S&&(a[r++]=this.getRawIndex(m))}return r<o&&(this._indices=a),this._count=r,this._extent={},this.getRawIndex=this._indices?nl:il,this}}},CA.mapArray=function(t,e,n,i){"function"==typeof t&&(i=n,n=e,e=t,t=[]),n=n||i||this;var o=[];return this.each(t,function(){o.push(e&&e.apply(this,arguments))},n),o},CA.map=function(t,e,n,i){n=n||i||this;var o=rl(this,t=f(al(t),this.getDimension,this));o._indices=this._indices,o.getRawIndex=o._indices?nl:il;for(var a=o._storage,r=[],s=this._chunkSize,l=t.length,u=this.count(),h=[],c=o._rawExtent,d=0;d<u;d++){for(var p=0;p<l;p++)h[p]=this.get(t[p],d);h[l]=d;var g=e&&e.apply(n,h);if(null!=g){"object"!=(void 0===g?"undefined":se(g))&&(r[0]=g,g=r);for(var m=this.getRawIndex(d),v=Math.floor(m/s),y=m%s,x=0;x<g.length;x++){var _=t[x],b=g[x],w=c[_],S=a[_];S&&(S[v][y]=b),b<w[0]&&(w[0]=b),b>w[1]&&(w[1]=b)}}}return o},CA.downSample=function(t,e,n,i){for(var o=rl(this,[t]),a=o._storage,r=[],s=Math.floor(1/e),l=a[t],u=this.count(),h=this._chunkSize,c=o._rawExtent[t],d=new(Ks(this))(u),f=0,p=0;p<u;p+=s){s>u-p&&(s=u-p,r.length=s);for(var g=0;g<s;g++){var m=this.getRawIndex(p+g),v=Math.floor(m/h),y=m%h;r[g]=l[v][y]}var x=n(r),_=this.getRawIndex(Math.min(p+i(r,x)||0,u-1)),b=_%h;l[Math.floor(_/h)][b]=x,x<c[0]&&(c[0]=x),x>c[1]&&(c[1]=x),d[f++]=_}return o._count=f,o._indices=d,o.getRawIndex=nl,o},CA.getItemModel=function(t){var e=this.hostModel;return new Po(this.getRawDataItem(t),e,e&&e.ecModel)},CA.diff=function(t){var e=this;return new Us(t?t.getIndices():[],this.getIndices(),function(e){return ol(t,e)},function(t){return ol(e,t)})},CA.getVisual=function(t){var e=this._visual;return e&&e[t]},CA.setVisual=function(t,e){if(xA(t))for(var n in t)t.hasOwnProperty(n)&&this.setVisual(n,t[n]);else this._visual=this._visual||{},this._visual[t]=e},CA.setLayout=function(t,e){if(xA(t))for(var n in t)t.hasOwnProperty(n)&&this.setLayout(n,t[n]);else this._layout[t]=e},CA.getLayout=function(t){return this._layout[t]},CA.getItemLayout=function(t){return this._itemLayouts[t]},CA.setItemLayout=function(t,e,n){this._itemLayouts[t]=n?a(this._itemLayouts[t]||{},e):e},CA.clearItemLayouts=function(){this._itemLayouts.length=0},CA.getItemVisual=function(t,e,n){var i=this._itemVisuals[t],o=i&&i[e];return null!=o||n?o:this.getVisual(e)},CA.setItemVisual=function(t,e,n){var i=this._itemVisuals[t]||{},o=this.hasItemVisual;if(this._itemVisuals[t]=i,xA(e))for(var a in e)e.hasOwnProperty(a)&&(i[a]=e[a],o[a]=!0);else i[e]=n,o[e]=!0},CA.clearAllVisual=function(){this._visual={},this._itemVisuals=[],this.hasItemVisual={}};var LA=function mA(t){t.seriesIndex=this.seriesIndex,t.dataIndex=this.dataIndex,t.dataType=this.dataType};CA.setItemGraphicEl=function(t,e){var n=this.hostModel;e&&(e.dataIndex=t,e.dataType=this.dataType,e.seriesIndex=n&&n.seriesIndex,"group"===e.type&&e.traverse(LA,e)),this._graphicEls[t]=e},CA.getItemGraphicEl=function(t){return this._graphicEls[t]},CA.eachItemGraphicEl=function(t,e){d(this._graphicEls,function(n,i){n&&t&&t.call(e,n,i)})},CA.cloneShallow=function(t){if(!t){var e=f(this.dimensions,this.getDimensionInfo,this);t=new DA(e,this.hostModel)}if(t._storage=this._storage,Js(t,this),this._indices){var n=this._indices.constructor;t._indices=new n(this._indices)}else t._indices=null;return t.getRawIndex=t._indices?nl:il,t},CA.wrapMethod=function(t,e){var n=this[t];"function"==typeof n&&(this.__wrappedMethods=this.__wrappedMethods||[],this.__wrappedMethods.push(t),this[t]=function(){var t=n.apply(this,arguments);return e.apply(this,[t].concat(C(arguments)))})},CA.TRANSFERABLE_METHODS=["cloneShallow","downSample","map"],CA.CHANGABLE_METHODS=["filterSelf","selectRange"];var kA=function vA(t,e){return ul((e=e||{}).coordDimensions||[],t,{"dimsDef":e.dimensionsDefine||t.dimensionsDefine,"encodeDef":e.encodeDefine||t.encodeDefine,"dimCount":e.dimensionsCount,"generateCoord":e.generateCoord,"generateCoordCount":e.generateCoordCount})};yl.prototype.parse=function(t){return t},yl.prototype.getSetting=function(t){return this._setting[t]},yl.prototype.contain=function(t){var e=this._extent;return t>=e[0]&&t<=e[1]},yl.prototype.normalize=function(t){var e=this._extent;return e[1]===e[0]?.5:(t-e[0])/(e[1]-e[0])},yl.prototype.scale=function(t){var e=this._extent;return t*(e[1]-e[0])+e[0]},yl.prototype.unionExtent=function(t){var e=this._extent;t[0]<e[0]&&(e[0]=t[0]),t[1]>e[1]&&(e[1]=t[1])},yl.prototype.unionExtentFromData=function(t,e){this.unionExtent(t.getApproximateExtent(e))},yl.prototype.getExtent=function(){return this._extent.slice()},yl.prototype.setExtent=function(t,e){var n=this._extent;isNaN(t)||(n[0]=t),isNaN(e)||(n[1]=e)},yl.prototype.isBlank=function(){return this._isBlank},yl.prototype.setBlank=function(t){this._isBlank=t},yl.prototype.getLabel=null,Xi(yl),Ki(yl,{"registerWhenExtend":!0}),xl.createByAxisModel=function(t){var e=t.option,n=e.data,i=n&&f(n,wl);return new xl({"categories":i,"needCollect":!i,"deduplication":!1!==e.dedplication})};var PA=xl.prototype;PA.getOrdinal=function(t){return _l(this).get(t)},PA.parseAndCollect=function(t){var e,n=this._needCollect;if("string"!=typeof t&&!n)return t;if(n&&!this._deduplication)return e=this.categories.length,this.categories[e]=t,e;var i=_l(this);return null==(e=i.get(t))&&(n?(e=this.categories.length,this.categories[e]=t,i.set(t,e)):e=NaN),e};var OA=yl.prototype,RA=yl.extend({"type":"ordinal","init":function init(t,e){t&&!y(t)||(t=new xl({"categories":t})),this._ordinalMeta=t,this._extent=e||[0,t.categories.length-1]},"parse":function parse(t){return"string"==typeof t?this._ordinalMeta.getOrdinal(t):Math.round(t)},"contain":function contain(t){return t=this.parse(t),OA.contain.call(this,t)&&null!=this._ordinalMeta.categories[t]},"normalize":function normalize(t){return OA.normalize.call(this,this.parse(t))},"scale":function scale(t){return Math.round(OA.scale.call(this,t))},"getTicks":function getTicks(){for(var t=[],e=this._extent,n=e[0];n<=e[1];)t.push(n),n++;return t},"getLabel":function getLabel(t){if(!this.isBlank())return this._ordinalMeta.categories[t]},"count":function count(){return this._extent[1]-this._extent[0]+1},"unionExtentFromData":function unionExtentFromData(t,e){this.unionExtent(t.getApproximateExtent(e))},"getOrdinalMeta":function getOrdinalMeta(){return this._ordinalMeta},"niceTicks":B,"niceExtent":B});RA.create=function(){return new RA};var NA=Vo,EA=Vo,zA=yl.extend({"type":"interval","_interval":0,"_intervalPrecision":2,"setExtent":function setExtent(t,e){var n=this._extent;isNaN(t)||(n[0]=parseFloat(t)),isNaN(e)||(n[1]=parseFloat(e))},"unionExtent":function unionExtent(t){var e=this._extent;t[0]<e[0]&&(e[0]=t[0]),t[1]>e[1]&&(e[1]=t[1]),zA.prototype.setExtent.call(this,e[0],e[1])},"getInterval":function getInterval(){return this._interval},"setInterval":function setInterval(t){this._interval=t,this._niceExtent=this._extent.slice(),this._intervalPrecision=Sl(t)},"getTicks":function getTicks(){return function Tl(t,e,n,i){var o=[];if(!t)return o;e[0]<n[0]&&o.push(e[0]);for(var a=n[0];a<=n[1]&&(o.push(a),(a=NA(a+t,i))!==o[o.length-1]);)if(o.length>1e4)return[];return e[1]>(o.length?o[o.length-1]:n[1])&&o.push(e[1]),o}(this._interval,this._extent,this._niceExtent,this._intervalPrecision)},"getLabel":function getLabel(t,e){if(null==t)return"";var n=e&&e.precision;return null==n?n=Wo(t)||0:"auto"===n&&(n=this._intervalPrecision),Qo(t=EA(t,n,!0))},"niceTicks":function niceTicks(t,e,n){t=t||5;var i=this._extent,o=i[1]-i[0];if(isFinite(o)){o<0&&(o=-o,i.reverse());var a=function bl(t,e,n,i){var o={},a=t[1]-t[0],r=o.interval=Ko(a/e,!0);null!=n&&r<n&&(r=o.interval=n),null!=i&&r>i&&(r=o.interval=i);var s=o.intervalPrecision=Sl(r);return Il(o.niceTickExtent=[NA(Math.ceil(t[0]/r)*r,s),NA(Math.floor(t[1]/r)*r,s)],t),o}(i,t,e,n);this._intervalPrecision=a.intervalPrecision,this._interval=a.interval,this._niceExtent=a.niceTickExtent}},"niceExtent":function niceExtent(t){var e=this._extent;if(e[0]===e[1])if(0!==e[0]){var n=e[0];t.fixMax?e[0]-=n/2:(e[1]+=n/2,e[0]-=n/2)}else e[1]=1;var i=e[1]-e[0];isFinite(i)||(e[0]=0,e[1]=1),this.niceTicks(t.splitNumber,t.minInterval,t.maxInterval);var o=this._interval;t.fixMin||(e[0]=EA(Math.floor(e[0]/o)*o)),t.fixMax||(e[1]=EA(Math.ceil(e[1]/o)*o))}});zA.create=function(){return new zA};var BA="__ec_stack_",VA="undefined"!=typeof Float32Array?Float32Array:Array,GA={"seriesType":"bar","plan":lT(),"reset":function reset(t){if(El(t)&&Rl(t)){var e=t.getData(),n=t.coordinateSystem,i=n.getBaseAxis(),o=n.getOtherAxis(i),a=e.mapDimension(o.dim),r=e.mapDimension(i.dim),s=o.isHorizontal(),l=s?0:1,u=Nl(kl([t]),i,t).width;return u>.5||(u=.5),{"progress":function progress(t,e){for(var i,h=new VA(2*t.count),c=[],d=[],f=0;null!=(i=t.next());)d[l]=e.get(a,i),d[1-l]=e.get(r,i),c=n.dataToPoint(d,null,c),h[f++]=c[0],h[f++]=c[1];e.setLayout({"largePoints":h,"barWidth":u,"valueAxisStart":zl(0,o),"valueAxisHorizontal":s})}}}}},FA=zA.prototype,HA=Math.ceil,WA=Math.floor,jA=zA.extend({"type":"time","getLabel":function getLabel(t){var e=this._stepLvl,n=new Date(t);return ra(e[0],n,this.getSetting("useUTC"))},"niceExtent":function niceExtent(t){var e=this._extent;if(e[0]===e[1]&&(e[0]-=864e5,e[1]+=864e5),e[1]===-1/0&&e[0]===1/0){var n=new Date;e[1]=+new Date(n.getFullYear(),n.getMonth(),n.getDate()),e[0]=e[1]-864e5}this.niceTicks(t.splitNumber,t.minInterval,t.maxInterval);var i=this._interval;t.fixMin||(e[0]=Vo(WA(e[0]/i)*i)),t.fixMax||(e[1]=Vo(HA(e[1]/i)*i))},"niceTicks":function niceTicks(t,e,n){t=t||10;var i=this._extent,o=i[1]-i[0],a=o/t;null!=e&&a<e&&(a=e),null!=n&&a>n&&(a=n);var r=ZA.length,s=function LA(t,e,n,i){for(;n<i;){var o=n+i>>>1;t[o][1]<e?n=o+1:i=o}return n}(ZA,a,0,r),l=ZA[Math.min(s,r-1)],u=l[1];"year"===l[0]&&(u*=Ko(o/u/t,!0));var h=this.getSetting("useUTC")?0:60*new Date(+i[0]||+i[1]).getTimezoneOffset()*1e3,c=[Math.round(HA((i[0]-h)/u)*u+h),Math.round(WA((i[1]-h)/u)*u+h)];Il(c,i),this._stepLvl=l,this._interval=u,this._niceExtent=c},"parse":function parse(t){return+jo(t)}});d(["contain","normalize"],function(t){jA.prototype[t]=function(e){return FA[t].call(this,this.parse(e))}});var ZA=[["hh:mm:ss",1e3],["hh:mm:ss",5e3],["hh:mm:ss",1e4],["hh:mm:ss",15e3],["hh:mm:ss",3e4],["hh:mm\nMM-dd",6e4],["hh:mm\nMM-dd",3e5],["hh:mm\nMM-dd",6e5],["hh:mm\nMM-dd",9e5],["hh:mm\nMM-dd",18e5],["hh:mm\nMM-dd",36e5],["hh:mm\nMM-dd",72e5],["hh:mm\nMM-dd",216e5],["hh:mm\nMM-dd",432e5],["MM-dd\nyyyy",864e5],["MM-dd\nyyyy",1728e5],["MM-dd\nyyyy",2592e5],["MM-dd\nyyyy",3456e5],["MM-dd\nyyyy",432e6],["MM-dd\nyyyy",5184e5],["week",6048e5],["MM-dd\nyyyy",864e6],["week",12096e5],["week",18144e5],["month",26784e5],["week",36288e5],["month",53568e5],["week",6048e6],["quarter",8208e6],["month",107136e5],["month",13392e6],["half-year",16416e6],["month",214272e5],["month",26784e6],["year",32832e6]];jA.create=function(t){return new jA({"useUTC":t.ecModel.get("useUTC")})};var UA=yl.prototype,XA=zA.prototype,YA=Wo,qA=Vo,$A=Math.floor,KA=Math.ceil,JA=Math.pow,tD=Math.log,eD=yl.extend({"type":"log","base":10,"$constructor":function $constructor(){yl.apply(this,arguments),this._originalScale=new zA},"getTicks":function getTicks(){var t=this._originalScale,e=this._extent,n=t.getExtent();return f(XA.getTicks.call(this),function(i){var o=Vo(JA(this.base,i));return o=i===e[0]&&t.__fixMin?Bl(o,n[0]):o,i===e[1]&&t.__fixMax?Bl(o,n[1]):o},this)},"getLabel":XA.getLabel,"scale":function scale(t){return t=UA.scale.call(this,t),JA(this.base,t)},"setExtent":function setExtent(t,e){var n=this.base;t=tD(t)/tD(n),e=tD(e)/tD(n),XA.setExtent.call(this,t,e)},"getExtent":function getExtent(){var t=this.base,e=UA.getExtent.call(this);e[0]=JA(t,e[0]),e[1]=JA(t,e[1]);var n=this._originalScale,i=n.getExtent();return n.__fixMin&&(e[0]=Bl(e[0],i[0])),n.__fixMax&&(e[1]=Bl(e[1],i[1])),e},"unionExtent":function unionExtent(t){this._originalScale.unionExtent(t);var e=this.base;t[0]=tD(t[0])/tD(e),t[1]=tD(t[1])/tD(e),UA.unionExtent.call(this,t)},"unionExtentFromData":function unionExtentFromData(t,e){this.unionExtent(t.getApproximateExtent(e))},"niceTicks":function niceTicks(t){t=t||10;var e=this._extent,n=e[1]-e[0];if(!(n===1/0||n<=0)){var i=Yo(n);for(t/n*i<=.5&&(i*=10);!isNaN(i)&&Math.abs(i)<1&&Math.abs(i)>0;)i*=10;var o=[Vo(KA(e[0]/i)*i),Vo($A(e[1]/i)*i)];this._interval=i,this._niceExtent=o}},"niceExtent":function niceExtent(t){XA.niceExtent.call(this,t);var e=this._originalScale;e.__fixMin=t.fixMin,e.__fixMax=t.fixMax}});d(["contain","normalize"],function(t){eD.prototype[t]=function(e){return e=tD(e)/tD(this.base),UA[t].call(this,e)}}),eD.create=function(){return new eD};var nD={"getMin":function getMin(t){var e=this.option,n=t||null==e.rangeStart?e.min:e.rangeStart;return this.axis&&null!=n&&"dataMin"!==n&&"function"!=typeof n&&!I(n)&&(n=this.axis.scale.parse(n)),n},"getMax":function getMax(t){var e=this.option,n=t||null==e.rangeEnd?e.max:e.rangeEnd;return this.axis&&null!=n&&"dataMax"!==n&&"function"!=typeof n&&!I(n)&&(n=this.axis.scale.parse(n)),n},"getNeedCrossZero":function getNeedCrossZero(){var t=this.option;return null==t.rangeStart&&null==t.rangeEnd&&!t.scale},"getCoordSysModel":B,"setRange":function setRange(t,e){this.option.rangeStart=t,this.option.rangeEnd=e},"resetRange":function resetRange(){this.option.rangeStart=this.option.rangeEnd=null}},iD=Zn({"type":"triangle","shape":{"cx":0,"cy":0,"width":0,"height":0},"buildPath":function buildPath(t,e){var n=e.cx,i=e.cy,o=e.width/2,a=e.height/2;t.moveTo(n,i-a),t.lineTo(n+o,i+a),t.lineTo(n-o,i+a),t.closePath()}}),oD=Zn({"type":"diamond","shape":{"cx":0,"cy":0,"width":0,"height":0},"buildPath":function buildPath(t,e){var n=e.cx,i=e.cy,o=e.width/2,a=e.height/2;t.moveTo(n,i-a),t.lineTo(n+o,i),t.lineTo(n,i+a),t.lineTo(n-o,i),t.closePath()}}),aD=Zn({"type":"pin","shape":{"x":0,"y":0,"width":0,"height":0},"buildPath":function buildPath(t,e){var n=e.x,i=e.y,o=e.width/5*3,a=Math.max(o,e.height),r=o/2,s=r*r/(a-r),l=i-a+r+s,u=Math.asin(s/r),h=Math.cos(u)*r,c=Math.sin(u),d=Math.cos(u),f=.6*r,p=.7*r;t.moveTo(n-h,l+s),t.arc(n,l,r,Math.PI-u,2*Math.PI+u),t.bezierCurveTo(n+h-c*f,l+s+d*f,n,i-p,n,i),t.bezierCurveTo(n,i-p,n-h+c*f,l+s+d*f,n-h,l+s),t.closePath()}}),rD=Zn({"type":"arrow","shape":{"x":0,"y":0,"width":0,"height":0},"buildPath":function buildPath(t,e){var n=e.height,i=e.width,o=e.x,a=e.y,r=i/3*2;t.moveTo(o,a),t.lineTo(o+r,a+n),t.lineTo(o,a+n/4*3),t.lineTo(o-r,a+n),t.lineTo(o,a),t.closePath()}}),sD={"line":function line(t,e,n,i,o){o.x1=t,o.y1=e+i/2,o.x2=t+n,o.y2=e+i/2},"rect":function rect(t,e,n,i,o){o.x=t,o.y=e,o.width=n,o.height=i},"roundRect":function roundRect(t,e,n,i,o){o.x=t,o.y=e,o.width=n,o.height=i,o.r=Math.min(n,i)/4},"square":function square(t,e,n,i,o){var a=Math.min(n,i);o.x=t,o.y=e,o.width=a,o.height=a},"circle":function circle(t,e,n,i,o){o.cx=t+n/2,o.cy=e+i/2,o.r=Math.min(n,i)/2},"diamond":function diamond(t,e,n,i,o){o.cx=t+n/2,o.cy=e+i/2,o.width=n,o.height=i},"pin":function pin(t,e,n,i,o){o.x=t+n/2,o.y=e+i/2,o.width=n,o.height=i},"arrow":function arrow(t,e,n,i,o){o.x=t+n/2,o.y=e+i/2,o.width=n,o.height=i},"triangle":function triangle(t,e,n,i,o){o.cx=t+n/2,o.cy=e+i/2,o.width=n,o.height=i}},lD={};d({"line":SM,"rect":bM,"roundRect":bM,"square":bM,"circle":sM,"diamond":oD,"pin":aD,"arrow":rD,"triangle":iD},function(t,e){lD[e]=new t});var uD=Zn({"type":"symbol","shape":{"symbolType":"","x":0,"y":0,"width":0,"height":0},"beforeBrush":function beforeBrush(){var t=this.style;"pin"===this.shape.symbolType&&"inside"===t.textPosition&&(t.textPosition=["50%","40%"],t.textAlign="center",t.textVerticalAlign="middle")},"buildPath":function buildPath(t,e,n){var i=e.symbolType,o=lD[i];"none"!==e.symbolType&&(o||(o=lD[i="rect"]),sD[i](e.x,e.y,e.width,e.height,o.shape),o.buildPath(t,o.shape,n))}}),hD={"isDimensionStacked":fl,"enableDataStack":dl,"getStackedDimension":pl},cD=(Object.freeze||Object)({"createList":function createList(t){return gl(t.getSource(),t)},"getLayoutRect":ha,"dataStack":hD,"createScale":function createScale(t,e){var n=e;Po.isInstance(e)||h(n=new Po(e),nD);var i=Wl(n);return i.setExtent(t[0],t[1]),Fl(i,n),i},"mixinAxisModelCommonMethods":function mixinAxisModelCommonMethods(t){h(t,nD)},"completeDimensions":ul,"createDimensions":kA,"createSymbol":$l}),dD=1e-8;tu.prototype={"constructor":tu,"properties":null,"getBoundingRect":function getBoundingRect(){var t=this._rect;if(t)return t;for(var e=Number.MAX_VALUE,n=[e,e],i=[-e,-e],o=[],a=[],r=this.geometries,s=0;s<r.length;s++)"polygon"===r[s].type&&(dn(r[s].exterior,o,a),tt(n,n,o),et(i,i,a));return 0===s&&(n[0]=n[1]=i[0]=i[1]=0),this._rect=new de(n[0],n[1],i[0]-n[0],i[1]-n[1])},"contain":function contain(t){var e=this.getBoundingRect(),n=this.geometries;if(!e.contain(t[0],t[1]))return!1;t:for(var i=0,o=n.length;i<o;i++)if("polygon"===n[i].type){var a=n[i].exterior,r=n[i].interiors;if(Ql(a,t[0],t[1])){for(var s=0;s<(r?r.length:0);s++)if(Ql(r[s]))continue t;return!0}}return!1},"transformTo":function transformTo(t,e,n,i){var o=this.getBoundingRect(),a=o.width/o.height;n?i||(i=n/a):n=a*i;for(var r=new de(t,e,n,i),s=o.calculateTransform(r),l=this.geometries,u=0;u<l.length;u++)if("polygon"===l[u].type){for(var h=l[u].exterior,c=l[u].interiors,d=0;d<h.length;d++)Q(h[d],h[d],s);for(var f=0;f<(c?c.length:0);f++)for(d=0;d<c[f].length;d++)Q(c[f][d],c[f][d],s)}(o=this._rect).copy(r),this.center=[o.x+o.width/2,o.y+o.height/2]},"cloneShallow":function cloneShallow(t){null==t&&(t=this.name);var e=new tu(t,this.geometries,this.center);return e._rect=this._rect,e.transformTo=null,e}};var pD=function QA(t){return function eu(t){if(!t.UTF8Encoding)return t;var e=t.UTF8Scale;null==e&&(e=1024);for(var n=t.features,i=0;i<n.length;i++)for(var o=n[i].geometry,a=o.coordinates,r=o.encodeOffsets,s=0;s<a.length;s++){var l=a[s];if("Polygon"===o.type)a[s]=iu(l,r[s],e);else if("MultiPolygon"===o.type)for(var u=0;u<l.length;u++){var h=l[u];l[u]=iu(h,r[s][u],e)}}return t.UTF8Encoding=!1,t}(t),f(g(t.features,function(t){return t.geometry&&t.properties&&t.geometry.coordinates.length>0}),function(t){var e=t.properties,n=t.geometry,i=n.coordinates,o=[];"Polygon"===n.type&&o.push({"type":"polygon","exterior":i[0],"interiors":i.slice(1)}),"MultiPolygon"===n.type&&d(i,function(t){t[0]&&o.push({"type":"polygon","exterior":t[0],"interiors":t.slice(1)})});var a=new tu(e.name,o,e.cp);return a.properties=e,a})},gD=Bi(),mD=[0,1],vD=function iD(t,e,n){this.dim=t,this.scale=e,this._extent=n||[0,0],this.inverse=!1,this.onBand=!1};vD.prototype={"constructor":vD,"contain":function contain(t){var e=this._extent,n=Math.min(e[0],e[1]),i=Math.max(e[0],e[1]);return t>=n&&t<=i},"containData":function containData(t){return this.contain(this.dataToCoord(t))},"getExtent":function getExtent(){return this._extent.slice()},"getPixelPrecision":function getPixelPrecision(t){return Ho(t||this.scale.getExtent(),this._extent)},"setExtent":function setExtent(t,e){var n=this._extent;n[0]=t,n[1]=e},"dataToCoord":function dataToCoord(t,e){var n=this._extent,i=this.scale;return t=i.normalize(t),this.onBand&&"ordinal"===i.type&&vu(n=n.slice(),i.count()),zo(t,mD,n,e)},"coordToData":function coordToData(t,e){var n=this._extent,i=this.scale;this.onBand&&"ordinal"===i.type&&vu(n=n.slice(),i.count());var o=zo(t,n,mD,e);return this.scale.scale(o)},"pointToData":function pointToData(t,e){},"getTicksCoords":function getTicksCoords(t){var e=(t=t||{}).tickModel||this.getTickModel(),n=ou(this,e),i=f(n.ticks,function(t){return{"coord":this.dataToCoord(t),"tickValue":t}},this),o=e.get("alignWithLabel");return function yu(t,e,n,i,o){function a(t,e){return h?t>e:t<e}var r=e.length;if(t.onBand&&!i&&r){var s,l=t.getExtent();if(1===r)e[0].coord=l[0],s=e[1]={"coord":l[0]};else{var u=e[1].coord-e[0].coord;d(e,function(t){t.coord-=u/2;var e=e||0;e%2>0&&(t.coord-=u/(2*(e+1)))}),s={"coord":e[r-1].coord+u},e.push(s)}var h=l[0]>l[1];a(e[0].coord,l[0])&&(o?e[0].coord=l[0]:e.shift()),o&&a(l[0],e[0].coord)&&e.unshift({"coord":l[0]}),a(l[1],s.coord)&&(o?s.coord=l[1]:e.pop()),o&&a(s.coord,l[1])&&e.push({"coord":l[1]})}}(this,i,n.tickCategoryInterval,o,t.clamp),i},"getViewLabels":function getViewLabels(){return nu(this).labels},"getLabelModel":function getLabelModel(){return this.model.getModel("axisLabel")},"getTickModel":function getTickModel(){return this.model.getModel("axisTick")},"getBandWidth":function getBandWidth(){var t=this._extent,e=this.scale.getExtent(),n=e[1]-e[0]+(this.onBand?1:0);0===n&&(n=1);var i=Math.abs(t[1]-t[0]);return Math.abs(i)/n},"isHorizontal":null,"getRotate":null,"calculateCategoryInterval":function calculateCategoryInterval(){return function fu(t){var e=function pu(t){var e=t.getLabelModel();return{"axisRotate":t.getRotate?t.getRotate():t.isHorizontal&&!t.isHorizontal()?90:0,"labelRotate":e.get("rotate")||0,"font":e.getFont()}}(t),n=Zl(t),i=(e.axisRotate-e.labelRotate)/180*Math.PI,o=t.scale,a=o.getExtent(),r=o.count();if(a[1]-a[0]<1)return 0;var s=1;r>40&&(s=Math.max(1,Math.floor(r/40)));for(var l=a[0],u=t.dataToCoord(l+1)-t.dataToCoord(l),h=Math.abs(u*Math.cos(i)),c=Math.abs(u*Math.sin(i)),d=0,f=0;l<=a[1];l+=s){var p,g,m=ke(n(l),e.font,"center","top");p=1.3*m.width,g=1.3*m.height,d=Math.max(d,p,7),f=Math.max(f,g,7)}var v=d/h,y=f/c;isNaN(v)&&(v=1/0),isNaN(y)&&(y=1/0);var x=Math.max(0,Math.floor(Math.min(v,y))),_=gD(t.model),b=_.lastAutoInterval,w=_.lastTickCount;return null!=b&&null!=w&&Math.abs(b-x)<=1&&Math.abs(w-r)<=1&&b>x?x=b:(_.lastTickCount=r,_.lastAutoInterval=x),x}(this)}};var yD=pD,xD={};d(["map","each","filter","indexOf","inherits","reduce","filter","bind","curry","isArray","isString","isObject","isFunction","extend","defaults","clone","merge"],function(t){xD[t]=Z_[t]});var _D={};d(["extendShape","extendPath","makePath","makeImage","mergePath","resizePath","createIcon","setHoverStyle","setLabelStyle","setTextStyle","setText","getFont","updateProps","initProps","getTransform","clipPointsByRect","clipRectByRect","Group","Image","Text","Circle","Sector","Ring","Polygon","Polyline","Rect","Line","BezierCurve","Arc","IncrementalDisplayable","CompoundPath","LinearGradient","RadialGradient","BoundingRect"],function(t){_D[t]=WM[t]}),oT.extend({"type":"series.line","dependencies":["grid","polar"],"getInitialData":function getInitialData(t,e){return gl(this.getSource(),this)},"defaultOption":{"zlevel":0,"z":2,"coordinateSystem":"cartesian2d","legendHoverLink":!0,"hoverAnimation":!0,"clipOverflow":!0,"label":{"position":"top"},"lineStyle":{"width":2,"type":"solid"},"step":!1,"smooth":!1,"smoothMonotone":null,"symbol":"emptyCircle","symbolSize":4,"symbolRotate":null,"showSymbol":!0,"showAllSymbol":"auto","connectNulls":!1,"sampling":"none","animationEasing":"linear","progressive":0,"hoverLayerThreshold":1/0}});var bD=_u.prototype,wD=_u.getSymbolSize=function(t,e){var n=t.getItemVisual(e,"symbolSize");return n instanceof Array?n.slice():[+n,+n]};bD._createSymbol=function(t,e,n,i,o){this.removeAll();var a=$l(t,-1,-1,2,2,e.getItemVisual(n,"color"),o);a.attr({"z2":100,"culling":!0,"scale":wu(i)}),a.drift=bu,this._symbolType=t,this.add(a)},bD.stopSymbolAnimation=function(t){this.childAt(0).stopAnimation(t)},bD.getSymbolPath=function(){return this.childAt(0)},bD.getScale=function(){return this.childAt(0).scale},bD.highlight=function(){this.childAt(0).trigger("emphasis")},bD.downplay=function(){this.childAt(0).trigger("normal")},bD.setZ=function(t,e){var n=this.childAt(0);n.zlevel=t,n.z=e},bD.setDraggable=function(t){var e=this.childAt(0);e.draggable=t,e.cursor=t?"move":"pointer"},bD.updateData=function(t,e,n){this.silent=!1;var i=t.getItemVisual(e,"symbol")||"circle",o=t.hostModel,a=wD(t,e),r=i!==this._symbolType;if(r){var s=t.getItemVisual(e,"symbolKeepAspect");this._createSymbol(i,t,e,a,s)}else(l=this.childAt(0)).silent=!1,Mo(l,{"scale":wu(a)},o,e);if(this._updateCommon(t,e,a,n),r){var l=this.childAt(0),u=n&&n.fadeIn,h={"scale":l.scale.slice()};u&&(h.style={"opacity":l.style.opacity}),l.scale=[0,0],u&&(l.style.opacity=0),Io(l,h,o,e)}this._seriesModel=o};var SD=["itemStyle"],ID=["emphasis","itemStyle"],TD=["label"],AD=["emphasis","label"];bD._updateCommon=function(t,e,n,i){var o=this.childAt(0),r=t.hostModel,s=t.getItemVisual(e,"color");"image"!==o.type&&o.useStyle({"strokeNoScale":!0});var l=i&&i.itemStyle,u=i&&i.hoverItemStyle,h=i&&i.symbolRotate,c=i&&i.symbolOffset,d=i&&i.labelModel,f=i&&i.hoverLabelModel,p=i&&i.hoverAnimation,g=i&&i.cursorStyle;if(!i||t.hasItemOption){var m=i&&i.itemModel?i.itemModel:t.getItemModel(e);l=m.getModel(SD).getItemStyle(["color"]),u=m.getModel(ID).getItemStyle(),h=m.getShallow("symbolRotate"),c=m.getShallow("symbolOffset"),d=m.getModel(TD),f=m.getModel(AD),p=m.getShallow("hoverAnimation"),g=m.getShallow("cursor")}else u=a({},u);var v=o.style;o.attr("rotation",(h||0)*Math.PI/180||0),c&&o.attr("position",[Bo(c[0],n[0]),Bo(c[1],n[1])]),g&&o.attr("cursor",g),o.setColor(s,i&&i.symbolInnerColor),o.setStyle(l);var y=t.getItemVisual(e,"opacity");null!=y&&(v.opacity=y);var x=t.getItemVisual(e,"liftZ"),_=o.__z2Origin;null!=x?null==_&&(o.__z2Origin=o.z2,o.z2+=x):null!=_&&(o.z2=_,o.__z2Origin=null);var b=i&&i.useNameLabel;po(v,u,d,f,{"labelFetcher":r,"labelDataIndex":e,"defaultText":function defaultText(e,n){return b?t.getName(e):xu(t,e)},"isRectText":!0,"autoColor":s}),o.off("mouseover").off("mouseout").off("emphasis").off("normal"),o.hoverStyle=u,co(o),o.__symbolOriginalScale=wu(n),p&&r.isAnimationEnabled()&&o.on("mouseover",Su).on("mouseout",Mu).on("emphasis",Iu).on("normal",Tu)},bD.fadeOut=function(t,e){var n=this.childAt(0);this.silent=n.silent=!0,!(e&&e.keepLabel)&&(n.style.text=null),Mo(n,{"style":{"opacity":0},"scale":[0,0]},this._seriesModel,this.dataIndex,t)},u(_u,Zb);var CD=Au.prototype;CD.updateData=function(t,e){e=Cu(e);var n=this.group,i=t.hostModel,o=this._data,a=this._symbolCtor,r=Lu(t);o||n.removeAll(),t.diff(o).add(function(i){var o=t.getItemLayout(i);if(Du(t,o,i,e)){var s=new a(t,i,r);s.attr("position",o),t.setItemGraphicEl(i,s),n.add(s)}}).update(function(s,l){var u=o.getItemGraphicEl(l),h=t.getItemLayout(s);Du(t,h,s,e)?(u?(u.updateData(t,s,r),Mo(u,{"position":h},i)):(u=new a(t,s)).attr("position",h),n.add(u),t.setItemGraphicEl(s,u)):n.remove(u)}).remove(function(t){var e=o.getItemGraphicEl(t);e&&e.fadeOut(function(){n.remove(e)})}).execute(),this._data=t},CD.isPersistent=function(){return!0},CD.updateLayout=function(){var t=this._data;t&&t.eachItemGraphicEl(function(e,n){var i=t.getItemLayout(n);e.attr("position",i)})},CD.incrementalPrepareUpdate=function(t){this._seriesScope=Lu(t),this._data=null,this.group.removeAll()},CD.incrementalUpdate=function(t,e,n){n=Cu(n);for(var i=t.start;i<t.end;i++){var o=e.getItemLayout(i);if(Du(e,o,i,n)){var a=new this._symbolCtor(e,i,this._seriesScope);a.traverse(function(t){t.isGroup||(t.incremental=t.useHoverLayer=!0)}),a.attr("position",o),this.group.add(a),e.setItemGraphicEl(i,a)}}},CD.remove=function(t){var e=this.group,n=this._data;n&&t?n.eachItemGraphicEl(function(t){t.fadeOut(function(){e.remove(t)})}):e.removeAll()};var LD=tt,kD=et,OD=Z,RD=G,ND=[],ED=[],zD=[],VD=kn.extend({"type":"ec-polyline","shape":{"points":[],"smooth":0,"smoothConstraint":!0,"smoothMonotone":null,"connectNulls":!1},"style":{"fill":null,"stroke":"#000"},"brush":hM(kn.prototype.brush),"buildPath":function buildPath(t,e){var n=e.points,i=0,o=n.length,a=Vu(n,e.smoothConstraint);if(e.connectNulls){for(;o>0&&Eu(n[o-1]);o--);for(;i<o&&Eu(n[i]);i++);}for(;i<o;)i+=Ru(t,n,i,o,o,1,a.min,a.max,e.smooth,e.smoothMonotone,e.connectNulls)+1}}),GD=kn.extend({"type":"ec-polygon","shape":{"points":[],"stackedOnPoints":[],"smooth":0,"stackedOnSmooth":0,"smoothConstraint":!0,"smoothMonotone":null,"connectNulls":!1},"brush":hM(kn.prototype.brush),"buildPath":function buildPath(t,e){var n=e.points,i=e.stackedOnPoints,o=0,a=n.length,r=e.smoothMonotone,s=Vu(n,e.smoothConstraint),l=Vu(i,e.smoothConstraint);if(e.connectNulls){for(;a>0&&Eu(n[a-1]);a--);for(;o<a&&Eu(n[o]);o++);}for(;o<a;){var u=Ru(t,n,o,a,a,1,s.min,s.max,e.smooth,r,e.connectNulls);Ru(t,i,o+u-1,u,a,-1,l.min,l.max,e.stackedOnSmooth,r,e.connectNulls),o+=u+1,t.closePath()}}});Tr.extend({"type":"line","init":function init(){var t=new Zb,e=new Au;this.group.add(e.group),this._symbolDraw=e,this._lineGroup=t},"render":function render(t,e,n){var i=t.coordinateSystem,o=this.group,a=t.getData(),s=t.getModel("lineStyle"),l=t.getModel("areaStyle"),u=a.mapArray(a.getItemLayout),h="polar"===i.type,c=this._coordSys,d=this._symbolDraw,f=this._polyline,p=this._polygon,g=this._lineGroup,m=t.get("animation"),v=!l.isEmpty(),y=l.get("origin"),x=function Hu(t,e,n){if(!n.valueDim)return[];for(var i=[],o=0,a=e.count();o<a;o++)i.push(Nu(n,t,e,o));return i}(i,a,ku(i,a,y)),_=t.get("showSymbol"),b=_&&!h&&qu(t,a,i),w=this._data;w&&w.eachItemGraphicEl(function(t,e){t.__temp&&(o.remove(t),w.setItemGraphicEl(e,null))}),_||d.remove(),o.add(g);var S=!h&&t.get("step");f&&c.type===i.type&&S===this._step?(v&&!p?p=this._newPolygon(u,x,i,m):p&&!v&&(g.remove(p),p=this._polygon=null),g.setClipPath(Xu(i,!1,!1,t)),_&&d.updateData(a,{"isIgnore":b,"clipShape":Xu(i,!1,!0,t)}),a.eachItemGraphicEl(function(t){t.stopAnimation(!0)}),Gu(this._stackedOnPoints,x)&&Gu(this._points,u)||(m?this._updateAnimation(a,x,i,n,S,y):(S&&(u=ju(u,i,S),x=ju(x,i,S)),f.setShape({"points":u}),p&&p.setShape({"points":u,"stackedOnPoints":x})))):(_&&d.updateData(a,{"isIgnore":b,"clipShape":Xu(i,!1,!0,t)}),S&&(u=ju(u,i,S),x=ju(x,i,S)),f=this._newPolyline(u,i,m),v&&(p=this._newPolygon(u,x,i,m)),g.setClipPath(Xu(i,!0,!1,t)));var M=Yu(a,i)||a.getVisual("color");f.useStyle(r(s.getLineStyle(),{"fill":"none","stroke":M,"lineJoin":"bevel"}));var I=t.get("smooth");if(I=Fu(t.get("smooth")),f.setShape({"smooth":I,"smoothMonotone":t.get("smoothMonotone"),"connectNulls":t.get("connectNulls")}),p){var T=a.getCalculationInfo("stackedOnSeries"),A=0;p.useStyle(r(l.getAreaStyle(),{"fill":M,"opacity":.7,"lineJoin":"bevel"})),T&&(A=Fu(T.get("smooth"))),p.setShape({"smooth":I,"stackedOnSmooth":A,"smoothMonotone":t.get("smoothMonotone"),"connectNulls":t.get("connectNulls")})}this._data=a,this._coordSys=i,this._stackedOnPoints=x,this._points=u,this._step=S,this._valueOrigin=y},"dispose":function dispose(){},"highlight":function highlight(t,e,n,i){var o=t.getData(),a=zi(o,i);if(!(a instanceof Array)&&null!=a&&a>=0){var r=o.getItemGraphicEl(a);if(!r){var s=o.getItemLayout(a);if(!s)return;(r=new _u(o,a)).position=s,r.setZ(t.get("zlevel"),t.get("z")),r.ignore=isNaN(s[0])||isNaN(s[1]),r.__temp=!0,o.setItemGraphicEl(a,r),r.stopSymbolAnimation(!0),this.group.add(r)}r.highlight()}else Tr.prototype.highlight.call(this,t,e,n,i)},"downplay":function downplay(t,e,n,i){var o=t.getData(),a=zi(o,i);if(null!=a&&a>=0){var r=o.getItemGraphicEl(a);r&&(r.__temp?(o.setItemGraphicEl(a,null),this.group.remove(r)):r.downplay())}else Tr.prototype.downplay.call(this,t,e,n,i)},"_newPolyline":function _newPolyline(t){var e=this._polyline;return e&&this._lineGroup.remove(e),e=new VD({"shape":{"points":t},"silent":!0,"z2":10}),this._lineGroup.add(e),this._polyline=e,e},"_newPolygon":function _newPolygon(t,e){var n=this._polygon;return n&&this._lineGroup.remove(n),n=new GD({"shape":{"points":t,"stackedOnPoints":e},"silent":!0}),this._lineGroup.add(n),this._polygon=n,n},"_updateAnimation":function _updateAnimation(t,e,n,i,o,a){var r=this._polyline,s=this._polygon,l=t.hostModel,u=function fD(t,e,n,i,o,a,r,s){for(var l=function Ou(t,e){var n=[];return e.diff(t).add(function(t){n.push({"cmd":"+","idx":t})}).update(function(t,e){n.push({"cmd":"=","idx":e,"idx1":t})}).remove(function(t){n.push({"cmd":"-","idx":t})}).execute(),n}(t,e),u=[],h=[],c=[],d=[],f=[],p=[],g=[],m=ku(o,e,r),v=ku(a,t,s),y=0;y<l.length;y++){var x=l[y],_=!0;switch(x.cmd){case"=":var b=t.getItemLayout(x.idx),w=e.getItemLayout(x.idx1);(isNaN(b[0])||isNaN(b[1]))&&(b=w.slice()),u.push(b),h.push(w),c.push(n[x.idx]),d.push(i[x.idx1]),g.push(e.getRawIndex(x.idx1));break;case"+":S=x.idx,u.push(o.dataToPoint([e.get(m.dataDimsForPoint[0],S),e.get(m.dataDimsForPoint[1],S)])),h.push(e.getItemLayout(S).slice()),c.push(Nu(m,o,e,S)),d.push(i[S]),g.push(e.getRawIndex(S));break;case"-":var S=x.idx,M=t.getRawIndex(S);M!==S?(u.push(t.getItemLayout(S)),h.push(a.dataToPoint([t.get(v.dataDimsForPoint[0],S),t.get(v.dataDimsForPoint[1],S)])),c.push(n[S]),d.push(Nu(v,a,t,S)),g.push(M)):_=!1}_&&(f.push(x),p.push(p.length))}p.sort(function(t,e){return g[t]-g[e]});var I=[],T=[],A=[],D=[],C=[];for(y=0;y<p.length;y++)S=p[y],I[y]=u[S],T[y]=h[S],A[y]=c[S],D[y]=d[S],C[y]=f[S];return{"current":I,"next":T,"stackedOnCurrent":A,"stackedOnNext":D,"status":C}}(this._data,t,this._stackedOnPoints,e,this._coordSys,n,this._valueOrigin,a),h=u.current,c=u.stackedOnCurrent,d=u.next,f=u.stackedOnNext;o&&(h=ju(u.current,n,o),c=ju(u.stackedOnCurrent,n,o),d=ju(u.next,n,o),f=ju(u.stackedOnNext,n,o)),r.shape.__points=u.current,r.shape.points=h,Mo(r,{"shape":{"points":d}},l),s&&(s.setShape({"points":h,"stackedOnPoints":c}),Mo(s,{"shape":{"points":d,"stackedOnPoints":f}},l));for(var p=[],g=u.status,m=0;m<g.length;m++)if("="===g[m].cmd){var v=t.getItemGraphicEl(g[m].idx1);v&&p.push({"el":v,"ptIdx":m})}r.animators&&r.animators.length&&r.animators[0].during(function(){for(var t=0;t<p.length;t++)p[t].el.attr("position",r.shape.__points[p[t].ptIdx])})},"remove":function remove(t){var e=this.group,n=this._data;this._lineGroup.removeAll(),this._symbolDraw.remove(!0),n&&n.eachItemGraphicEl(function(t,i){t.__temp&&(e.remove(t),n.setItemGraphicEl(i,null))}),this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._data=null}});var FD=function SD(t,e,n){return{"seriesType":t,"performRawSeries":!0,"reset":function reset(t,i,o){var a=t.getData(),r=t.get("symbol")||e,s=t.get("symbolSize"),l=t.get("symbolKeepAspect");if(a.setVisual({"legendSymbol":n||r,"symbol":r,"symbolSize":s,"symbolKeepAspect":l}),!i.isSeriesFiltered(t)){var u="function"==typeof s;return{"dataEach":a.hasItemOption||u?function(e,n){if("function"==typeof s){var i=t.getRawValue(n),o=t.getDataParams(n);e.setItemVisual(n,"symbolSize",s(i,o))}if(e.hasItemOption){var a=e.getItemModel(n),r=a.getShallow("symbol",!0),l=a.getShallow("symbolSize",!0),u=a.getShallow("symbolKeepAspect",!0);null!=r&&e.setItemVisual(n,"symbol",r),null!=l&&e.setItemVisual(n,"symbolSize",l),null!=u&&e.setItemVisual(n,"symbolKeepAspect",u)}}:null}}}}},HD=function MD(t){return{"seriesType":t,"plan":lT(),"reset":function reset(t){var e=t.getData(),n=t.coordinateSystem,i=t.pipelineContext.large;if(n){var o=f(n.dimensions,function(t){return e.mapDimension(t)}).slice(0,2),a=o.length,r=e.getCalculationInfo("stackResultDimension");return fl(e,o[0])&&(o[0]=r),fl(e,o[1])&&(o[1]=r),a&&{"progress":function progress(t,e){for(var r=t.end-t.start,s=i&&new Float32Array(r*a),l=t.start,u=0,h=[],c=[];l<t.end;l++){var d;if(1===a)f=e.get(o[0],l),d=!isNaN(f)&&n.dataToPoint(f,null,c);else{var f=h[0]=e.get(o[0],l),p=h[1]=e.get(o[1],l);d=!isNaN(f)&&!isNaN(p)&&n.dataToPoint(h,null,c)}i?(s[u++]=d?d[0]:NaN,s[u++]=d?d[1]:NaN):e.setItemLayout(l,d&&d.slice()||[NaN,NaN])}i&&e.setLayout("symbolPoints",s)}}}}}},WD={"average":function average(t){for(var e=0,n=0,i=0;i<t.length;i++)isNaN(t[i])||(e+=t[i],n++);return 0===n?NaN:e/n},"sum":function sum(t){for(var e=0,n=0;n<t.length;n++)e+=t[n]||0;return e},"max":function max(t){for(var e=-1/0,n=0;n<t.length;n++)t[n]>e&&(e=t[n]);return isFinite(e)?e:NaN},"min":function min(t){for(var e=1/0,n=0;n<t.length;n++)t[n]<e&&(e=t[n]);return isFinite(e)?e:NaN},"nearest":function nearest(t){return t[0]}},jD=function TD(t,e){return Math.round(t.length/2)},ZD=function AD(t){this._axes={},this._dimList=[],this.name=t||""};ZD.prototype={"constructor":ZD,"type":"cartesian","getAxis":function getAxis(t){return this._axes[t]},"getAxes":function getAxes(){return f(this._dimList,$u,this)},"getAxesByScale":function getAxesByScale(t){return t=t.toLowerCase(),g(this.getAxes(),function(e){return e.scale.type===t})},"addAxis":function addAxis(t){var e=t.dim;this._axes[e]=t,this._dimList.push(e)},"dataToCoord":function dataToCoord(t){return this._dataCoordConvert(t,"dataToCoord")},"coordToData":function coordToData(t){return this._dataCoordConvert(t,"coordToData")},"_dataCoordConvert":function _dataCoordConvert(t,e){for(var n=this._dimList,i=t instanceof Array?[]:{},o=0;o<n.length;o++){var a=n[o],r=this._axes[a];i[a]=r[e](t[a])}return i}},Ju.prototype={"constructor":Ju,"type":"cartesian2d","dimensions":["x","y"],"getBaseAxis":function getBaseAxis(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},"containPoint":function containPoint(t){var e=this.getAxis("x"),n=this.getAxis("y");return e.contain(e.toLocalCoord(t[0]))&&n.contain(n.toLocalCoord(t[1]))},"containData":function containData(t){return this.getAxis("x").containData(t[0])&&this.getAxis("y").containData(t[1])},"dataToPoint":function dataToPoint(t,e,n){var i=this.getAxis("x"),o=this.getAxis("y");return(n=n||[])[0]=i.toGlobalCoord(i.dataToCoord(t[0])),n[1]=o.toGlobalCoord(o.dataToCoord(t[1])),n},"clampData":function clampData(t,e){var n=this.getAxis("x").scale,i=this.getAxis("y").scale,o=n.getExtent(),a=i.getExtent(),r=n.parse(t[0]),s=i.parse(t[1]);return(e=e||[])[0]=Math.min(Math.max(Math.min(o[0],o[1]),r),Math.max(o[0],o[1])),e[1]=Math.min(Math.max(Math.min(a[0],a[1]),s),Math.max(a[0],a[1])),e},"pointToData":function pointToData(t,e){var n=this.getAxis("x"),i=this.getAxis("y");return(e=e||[])[0]=n.coordToData(n.toLocalCoord(t[0])),e[1]=i.coordToData(i.toLocalCoord(t[1])),e},"getOtherAxis":function getOtherAxis(t){return this.getAxis("x"===t.dim?"y":"x")}},u(Ju,ZD);var UD=function DD(t,e,n,i,o){vD.call(this,t,e,n),this.type=i||"value",this.position=o||"bottom"};UD.prototype={"constructor":UD,"index":0,"getAxesOnZeroOf":null,"model":null,"isHorizontal":function isHorizontal(){var t=this.position;return"top"===t||"bottom"===t},"getGlobalExtent":function getGlobalExtent(t){var e=this.getExtent();return e[0]=this.toGlobalCoord(e[0]),e[1]=this.toGlobalCoord(e[1]),t&&e[0]>e[1]&&e.reverse(),e},"getOtherAxis":function getOtherAxis(){this.grid.getOtherAxis()},"pointToData":function pointToData(t,e){return this.coordToData(this.toLocalCoord(t["x"===this.dim?0:1]),e)},"toLocalCoord":null,"toGlobalCoord":null},u(UD,vD);var XD={"show":!0,"zlevel":0,"z":0,"inverse":!1,"name":"","nameLocation":"end","nameRotate":null,"nameTruncate":{"maxWidth":null,"ellipsis":"...","placeholder":"."},"nameTextStyle":{},"nameGap":15,"silent":!1,"triggerEvent":!1,"tooltip":{"show":!1},"axisPointer":{},"axisLine":{"show":!0,"onZero":!0,"onZeroAxisIndex":null,"lineStyle":{"color":"#333","width":1,"type":"solid"},"symbol":["none","none"],"symbolSize":[10,15]},"axisTick":{"show":!0,"inside":!1,"length":5,"lineStyle":{"width":1}},"axisLabel":{"show":!0,"inside":!1,"rotate":0,"showMinLabel":null,"showMaxLabel":null,"margin":8,"fontSize":12},"splitLine":{"show":!0,"lineStyle":{"color":["#ccc"],"width":1,"type":"solid"}},"splitArea":{"show":!1,"areaStyle":{"color":["rgba(250,250,250,0.3)","rgba(200,200,200,0.3)"]}}},YD={};YD.categoryAxis=n({"boundaryGap":!0,"deduplication":null,"splitLine":{"show":!1},"axisTick":{"alignWithLabel":!1,"interval":"auto"},"axisLabel":{"interval":"auto"}},XD),YD.valueAxis=n({"boundaryGap":[0,0],"splitNumber":5},XD),YD.timeAxis=r({"scale":!0,"min":"dataMin","max":"dataMax"},YD.valueAxis),YD.logAxis=r({"scale":!0,"logBase":10},YD.valueAxis);var qD=["value","category","time","log"],$D=function PD(t,e,i,a){d(qD,function(r){e.extend({"type":t+"Axis."+r,"mergeDefaultAndTheme":function mergeDefaultAndTheme(e,o){var a=this.layoutMode,s=a?pa(e):{};n(e,o.getTheme().get(r+"Axis")),n(e,this.getDefaultOption()),e.type=i(t,e),a&&fa(e,s,a)},"optionUpdated":function optionUpdated(){"category"===this.option.type&&(this.__ordinalMeta=xl.createByAxisModel(this))},"getCategories":function getCategories(t){var e=this.option;if("category"===e.type)return t?e.data:this.__ordinalMeta.categories},"getOrdinalMeta":function getOrdinalMeta(){return this.__ordinalMeta},"defaultOption":o([{},YD[r+"Axis"],a],!0)})}),pI.registerSubTypeDefaulter(t+"Axis",v(i,t))},KD=pI.extend({"type":"cartesian2dAxis","axis":null,"init":function init(){KD.superApply(this,"init",arguments),this.resetRange()},"mergeOption":function mergeOption(){KD.superApply(this,"mergeOption",arguments),this.resetRange()},"restoreData":function restoreData(){KD.superApply(this,"restoreData",arguments),this.resetRange()},"getCoordSysModel":function getCoordSysModel(){return this.ecModel.queryComponents({"mainType":"grid","index":this.option.gridIndex,"id":this.option.gridId})[0]}});n(KD.prototype,nD);var QD={"offset":0};$D("x",KD,Qu,QD),$D("y",KD,Qu,QD),pI.extend({"type":"grid","dependencies":["xAxis","yAxis"],"layoutMode":"box","coordinateSystem":null,"defaultOption":{"show":!1,"zlevel":0,"z":0,"left":"10%","top":60,"right":"10%","bottom":60,"containLabel":!1,"backgroundColor":"rgba(0,0,0,0)","borderWidth":1,"borderColor":"#ccc"}});var JD=eh.prototype;JD.type="grid",JD.axisPointerEnabled=!0,JD.getRect=function(){return this._rect},JD.update=function(t,e){var n=this._axesMap;this._updateScale(t,this.model),d(n.x,function(t){Fl(t.scale,t.model)}),d(n.y,function(t){Fl(t.scale,t.model)});var i={};d(n.x,function(t){ih(n,"y",t,i)}),d(n.y,function(t){ih(n,"x",t,i)}),this.resize(this.model,e)},JD.resize=function(t,e,i){function n(){d(a,function(t){var e=t.isHorizontal(),n=e?[0,o.width]:[0,o.height],i=t.inverse?1:0;t.setExtent(n[i],n[1-i]),function oh(t,e){var n=t.getExtent(),i=n[0]+n[1];t.toGlobalCoord="x"===t.dim?function(t){return t+e}:function(t){return i-t+e},t.toLocalCoord="x"===t.dim?function(t){return t-e}:function(t){return i-t+e}}(t,e?o.x:o.y)})}var o=ha(t.getBoxLayoutParams(),{"width":e.getWidth(),"height":e.getHeight()});this._rect=o;var a=this._axesList;n(),!i&&t.get("containLabel")&&(d(a,function(t){if(!t.model.get("axisLabel.inside")){var e=function Xl(t){var e=t.model,n=t.scale;if(e.get("axisLabel.show")&&!n.isBlank()){var i,o,a="category"===t.type,r=n.getExtent();o=a?n.count():(i=n.getTicks()).length;var s,l=t.getLabelModel(),u=Zl(t),h=1;o>40&&(h=Math.ceil(o/40));for(var c=0;c<o;c+=h){var d=u(i?i[c]:r[0]+c),f=jl(l.getTextRect(d),l.get("rotate")||0);s?s.union(f):s=f}return s}}(t);if(e){var n=t.isHorizontal()?"height":"width",i=t.model.get("axisLabel.margin");o[n]-=e[n]+i,"top"===t.position?o.y+=e.height+i:"left"===t.position&&(o.x+=e.width+i)}}}),n())},JD.getAxis=function(t,e){var n=this._axesMap[t];if(null!=n){if(null==e)for(var i in n)if(n.hasOwnProperty(i))return n[i];return n[e]}},JD.getAxes=function(){return this._axesList.slice()},JD.getCartesian=function(t,e){if(null!=t&&null!=e){var n="x"+t+"y"+e;return this._coordsMap[n]}w(t)&&(e=t.yAxisIndex,t=t.xAxisIndex);for(var i=0,o=this._coordsList;i<o.length;i++)if(o[i].getAxis("x").index===t||o[i].getAxis("y").index===e)return o[i]},JD.getCartesians=function(){return this._coordsList.slice()},JD.convertToPixel=function(t,e,n){var i=this._findConvertTarget(t,e);return i.cartesian?i.cartesian.dataToPoint(n):i.axis?i.axis.toGlobalCoord(i.axis.dataToCoord(n)):null},JD.convertFromPixel=function(t,e,n){var i=this._findConvertTarget(t,e);return i.cartesian?i.cartesian.pointToData(n):i.axis?i.axis.coordToData(i.axis.toLocalCoord(n)):null},JD._findConvertTarget=function(t,e){var n,i,o=e.seriesModel,a=e.xAxisModel||o&&o.getReferringComponents("xAxis")[0],r=e.yAxisModel||o&&o.getReferringComponents("yAxis")[0],s=e.gridModel,u=this._coordsList;return o?l(u,n=o.coordinateSystem)<0&&(n=null):a&&r?n=this.getCartesian(a.componentIndex,r.componentIndex):a?i=this.getAxis("x",a.componentIndex):r?i=this.getAxis("y",r.componentIndex):s&&s.coordinateSystem===this&&(n=this._coordsList[0]),{"cartesian":n,"axis":i}},JD.containPoint=function(t){var e=this._coordsList[0];if(e)return e.containPoint(t)},JD._initCartesian=function(t,e,i){function n(e){return function(n,i){if(th(n,t)){var s=n.get("position");"x"===e?"top"!==s&&"bottom"!==s&&o[s="bottom"]&&(s="top"===s?"bottom":"top"):"left"!==s&&"right"!==s&&o[s="left"]&&(s="left"===s?"right":"left"),o[s]=!0;var l=new UD(e,Wl(n),[0,0],n.get("type"),s),u="category"===l.type;l.onBand=u&&n.get("boundaryGap"),l.inverse=n.get("inverse"),n.axis=l,l.model=n,l.grid=this,l.index=i,this._axesList.push(l),a[e][i]=l,r[e]++}}}var o={"left":!1,"right":!1,"top":!1,"bottom":!1},a={"x":{},"y":{}},r={"x":0,"y":0};if(e.eachComponent("xAxis",n("x"),this),e.eachComponent("yAxis",n("y"),this),!r.x||!r.y)return this._axesMap={},void(this._axesList=[]);this._axesMap=a,d(a.x,function(e,n){d(a.y,function(i,o){var a="x"+n+"y"+o,r=new Ju(a);r.grid=this,r.model=t,this._coordsMap[a]=r,this._coordsList.push(r),r.addAxis(e),r.addAxis(i)},this)},this)},JD._updateScale=function(t,e){function i(t,e,n){d(t.mapDimension(e.dim,!0),function(n){e.scale.unionExtentFromData(t,pl(t,n))})}d(this._axesList,function(t){t.scale.setExtent(1/0,-1/0)}),t.eachSeries(function(t){if(rh(t)){var n=ah(t),o=n[0],a=n[1];if(!th(o,e)||!th(a,e))return;var r=this.getCartesian(o.componentIndex,a.componentIndex),s=t.getData(),l=r.getAxis("x"),u=r.getAxis("y");"list"===s.type&&(i(s,l),i(s,u))}},this)},JD.getTooltipAxes=function(t){var e=[],n=[];return d(this.getCartesians(),function(i){var o=null!=t&&"auto"!==t?i.getAxis(t):i.getBaseAxis(),a=i.getOtherAxis(o);l(e,o)<0&&e.push(o),l(n,a)<0&&n.push(a)}),{"baseAxes":e,"otherAxes":n}};var tC=["xAxis","yAxis"];eh.create=function(t,e){var n=[];return t.eachComponent("grid",function(i,o){var a=new eh(i,t,e);a.name="grid_"+o,a.resize(i,e,!0),i.coordinateSystem=a,n.push(a)}),t.eachSeries(function(t){if(rh(t)){var e=ah(t),n=e[0],i=e[1],o=n.getCoordSysModel().coordinateSystem;t.coordinateSystem=o.getCartesian(n.componentIndex,i.componentIndex)}}),n},eh.dimensions=eh.prototype.dimensions=Ju.prototype.dimensions,Ga.register("cartesian2d",eh);var nC=Math.PI,iC=function BD(t,e){this.opt=e,this.axisModel=t,r(e,{"labelOffset":0,"nameDirection":1,"tickDirection":1,"labelDirection":1,"silent":!0}),this.group=new Zb;var n=new Zb({"position":e.position.slice(),"rotation":e.rotation});n.updateTransform(),this._transform=n.transform,this._dumbGroup=n};iC.prototype={"constructor":iC,"hasBuilder":function hasBuilder(t){return!!oC[t]},"add":function add(t){oC[t].call(this)},"getGroup":function getGroup(){return this.group}};var oC={"axisLine":function axisLine(){var t=this.opt,e=this.axisModel;if(e.get("axisLine.show")){var n=this.axisModel.axis.getExtent(),i=this._transform,o=[n[0],0],r=[n[1],0];i&&(Q(o,o,i),Q(r,r,i));var s=a({"lineCap":"round"},e.getModel("axisLine.lineStyle").getLineStyle());this.group.add(new SM(qn({"anid":"line","shape":{"x1":o[0],"y1":o[1],"x2":r[0],"y2":r[1]},"style":s,"strokeContainThreshold":t.strokeContainThreshold||5,"silent":!0,"z2":1})));var l=e.get("axisLine.symbol"),u=e.get("axisLine.symbolSize"),h=e.get("axisLine.symbolOffset")||0;if("number"==typeof h&&(h=[h,h]),null!=l){"string"==typeof l&&(l=[l,l]),"string"!=typeof u&&"number"!=typeof u||(u=[u,u]);var c=u[0],f=u[1];d([{"rotate":t.rotation+Math.PI/2,"offset":h[0],"r":0},{"rotate":t.rotation-Math.PI/2,"offset":h[1],"r":Math.sqrt((o[0]-r[0])*(o[0]-r[0])+(o[1]-r[1])*(o[1]-r[1]))}],function(e,n){if("none"!==l[n]&&null!=l[n]){var i=$l(l[n],-c/2,-f/2,c,f,s.stroke,!0),a=e.r+e.offset,r=[o[0]+a*Math.cos(t.rotation),o[1]-a*Math.sin(t.rotation)];i.attr({"rotation":e.rotate,"position":r,"silent":!0}),this.group.add(i)}},this)}}},"axisTickLabel":function axisTickLabel(){var t=this.axisModel,e=this.opt,n=function ph(t,e,n){var i=e.axis;if(e.get("axisTick.show")&&!i.scale.isBlank()){for(var o=e.getModel("axisTick"),a=o.getModel("lineStyle"),s=o.get("length"),l=i.getTicksCoords(),u=[],h=[],c=t._transform,d=[],f=0;f<l.length;f++){var p=l[f].coord;u[0]=p,u[1]=0,h[0]=p,h[1]=n.tickDirection*s,c&&(Q(u,u,c),Q(h,h,c));var g=new SM(qn({"anid":"tick_"+l[f].tickValue,"shape":{"x1":u[0],"y1":u[1],"x2":h[0],"y2":h[1]},"style":r(a.getLineStyle(),{"stroke":e.get("axisLine.lineStyle.color")}),"z2":2,"silent":!0}));t.group.add(g),d.push(g)}return d}}(this,t,e);!function hh(t,e,n){if(!ql(t.axis)){var i=t.get("axisLabel.showMinLabel"),o=t.get("axisLabel.showMaxLabel");e=e||[],n=n||[];var a=e[0],r=e[1],s=e[e.length-1],l=e[e.length-2],u=n[0],h=n[1],c=n[n.length-1],d=n[n.length-2];!1===i?(ch(a),ch(u)):dh(a,r)&&(i?(ch(r),ch(h)):(ch(a),ch(u))),!1===o?(ch(s),ch(c)):dh(l,s)&&(o?(ch(l),ch(d)):(ch(s),ch(c)))}}(t,function gh(t,e,n){var i=e.axis;if(T(n.axisLabelShow,e.get("axisLabel.show"))&&!i.scale.isBlank()){var o=e.getModel("axisLabel"),a=o.get("margin"),r=i.getViewLabels(),s=(T(n.labelRotate,o.get("rotate"))||0)*nC/180,l=lC(n.rotation,s,n.labelDirection),u=e.getCategories(!0),h=[],c=uh(e),f=e.get("triggerEvent");return d(r,function(r,s){var d=r.tickValue,p=r.formattedLabel,g=r.rawLabel,m=o;u&&u[d]&&u[d].textStyle&&(m=new Po(u[d].textStyle,o,e.ecModel));var v=m.getTextColor()||e.get("axisLine.lineStyle.color"),y=[i.dataToCoord(d),n.labelOffset+n.labelDirection*a],x=new rM({"anid":"label_"+d,"position":y,"rotation":l.rotation,"silent":c,"z2":10});go(x.style,m,{"text":p,"textAlign":m.getShallow("align",!0)||l.textAlign,"textVerticalAlign":m.getShallow("verticalAlign",!0)||m.getShallow("baseline",!0)||l.textVerticalAlign,"textFill":"function"==typeof v?v("category"===i.type?g:"value"===i.type?d+"":d,s):v}),f&&(x.eventData=sh(e),x.eventData.targetType="axisLabel",x.eventData.value=g),t._dumbGroup.add(x),x.updateTransform(),h.push(x),t.group.add(x),x.decomposeTransform()}),h}}(this,t,e),n)},"axisName":function axisName(){var t=this.opt,e=this.axisModel,n=T(t.axisName,e.get("name"));if(n){var i,o,r=e.get("nameLocation"),s=t.nameDirection,l=e.getModel("nameTextStyle"),u=e.get("nameGap")||0,h=this.axisModel.axis.getExtent(),c=h[0]>h[1]?-1:1,d=["start"===r?h[0]-c*u:"end"===r?h[1]+c*u:(h[0]+h[1])/2,fh(r)?t.labelOffset+s*u:0],f=e.get("nameRotate");null!=f&&(f=f*nC/180),fh(r)?i=lC(t.rotation,null!=f?f:t.rotation,s):(i=function lh(t,e,n,i){var o,a,r=Uo(n-t.rotation),s=i[0]>i[1],l="start"===e&&!s||"start"!==e&&s;return Xo(r-nC/2)?(a=l?"bottom":"top",o="center"):Xo(r-1.5*nC)?(a=l?"top":"bottom",o="center"):(a="middle",o=r<1.5*nC&&r>nC/2?l?"left":"right":l?"right":"left"),{"rotation":r,"textAlign":o,"textVerticalAlign":a}}(t,r,f||0,h),null!=(o=t.axisNameAvailableWidth)&&(o=Math.abs(o/Math.sin(i.rotation)),!isFinite(o)&&(o=null)));var p=l.getFont(),g=e.get("nameTruncate",!0)||{},m=g.ellipsis,v=T(t.nameTruncateMaxWidth,g.maxWidth,o),y=null!=m&&null!=v?rI(n,v,p,m,{"minChar":2,"placeholder":g.placeholder}):n,x=e.get("tooltip",!0),_=e.mainType,b={"componentType":_,"name":n,"$vars":["name"]};b[_+"Index"]=e.componentIndex;var w=new rM({"anid":"name","__fullText":n,"__truncatedText":y,"position":d,"rotation":i.rotation,"silent":uh(e),"z2":1,"tooltip":x&&x.show?a({"content":n,"formatter":function formatter(){return n},"formatterParams":b},x):null});go(w.style,l,{"text":y,"textFont":p,"textFill":l.getTextColor()||e.get("axisLine.lineStyle.color"),"textAlign":i.textAlign,"textVerticalAlign":i.textVerticalAlign}),e.get("triggerEvent")&&(w.eventData=sh(e),w.eventData.targetType="axisName",w.eventData.name=n),this._dumbGroup.add(w),w.updateTransform(),this.group.add(w),w.decomposeTransform()}}},lC=iC.innerTextLayout=function(t,e,n){var i,o,a=Uo(e-t);return Xo(a)?(o=n>0?"top":"bottom",i="center"):Xo(a-nC)?(o=n>0?"bottom":"top",i="center"):(o="middle",i=a>0&&a<nC?n>0?"right":"left":n>0?"left":"right"),{"rotation":a,"textAlign":i,"textVerticalAlign":o}},uC=d,hC=v,cC=Fs({"type":"axis","_axisPointer":null,"axisPointerClass":null,"render":function render(t,e,n,i){this.axisPointerClass&&function bh(t){var e=Sh(t);if(e){var n=e.axisPointerModel,i=e.axis.scale,o=n.option,a=n.get("status"),r=n.get("value");null!=r&&(r=i.parse(r));var s=Ih(n);null==a&&(o.status=s?"show":"hide");var l=i.getExtent().slice();l[0]>l[1]&&l.reverse(),(null==r||r>l[1])&&(r=l[1]),r<l[0]&&(r=l[0]),o.value=r,s&&(o.status=e.axis.scale.isBlank()?"hide":"show")}}(t),cC.superApply(this,"render",arguments),Ah(this,t,0,n,0,!0)},"updateAxisPointer":function updateAxisPointer(t,e,n,i,o){Ah(this,t,0,n,0,!1)},"remove":function remove(t,e){var n=this._axisPointer;n&&n.remove(e),cC.superApply(this,"remove",arguments)},"dispose":function dispose(t,e){Dh(this,e),cC.superApply(this,"dispose",arguments)}}),dC=[];cC.registerAxisPointerClass=function(t,e){dC[t]=e},cC.getAxisPointerClass=function(t){return t&&dC[t]};var fC=["axisLine","axisTickLabel","axisName"],pC=["splitArea","splitLine"],gC=cC.extend({"type":"cartesianAxis","axisPointerClass":"CartesianAxisPointer","render":function render(t,e,n,i){this.group.removeAll();var o=this._axisGroup;if(this._axisGroup=new Zb,this.group.add(this._axisGroup),t.get("show")){var a=t.getCoordSysModel(),r=Ch(a,t),s=new iC(t,r);d(fC,s.add,s),this._axisGroup.add(s.getGroup()),d(pC,function(e){t.get(e+".show")&&this["_"+e](t,a)},this),Co(o,this._axisGroup,t),gC.superCall(this,"render",t,e,n,i)}},"remove":function remove(){this._splitAreaColors=null},"_splitLine":function _splitLine(t,e){var n=t.axis;if(!n.scale.isBlank()){var i=t.getModel("splitLine"),o=i.getModel("lineStyle"),a=o.get("color");a=y(a)?a:[a];for(var s=e.coordinateSystem.getRect(),l=n.isHorizontal(),u=0,h=n.getTicksCoords({"tickModel":i}),c=[],d=[],f=o.getLineStyle(),p=0;p<h.length;p++){var g=n.toGlobalCoord(h[p].coord);l?(c[0]=g,c[1]=s.y,d[0]=g,d[1]=s.y+s.height):(c[0]=s.x,c[1]=g,d[0]=s.x+s.width,d[1]=g);var m=u++%a.length,v=h[p].tickValue;this._axisGroup.add(new SM(qn({"anid":null!=v?"line_"+h[p].tickValue:null,"shape":{"x1":c[0],"y1":c[1],"x2":d[0],"y2":d[1]},"style":r({"stroke":a[m]},f),"silent":!0})))}}},"_splitArea":function _splitArea(t,e){var n=t.axis;if(!n.scale.isBlank()){var i=t.getModel("splitArea"),o=i.getModel("areaStyle"),a=o.get("color"),s=e.coordinateSystem.getRect(),l=n.getTicksCoords({"tickModel":i,"clamp":!0});if(l.length){var u=a.length,h=this._splitAreaColors,c=R(),d=0;if(h)for(m=0;m<l.length;m++){var f=h.get(l[m].tickValue);if(null!=f){d=(f+(u-1)*m)%u;break}}var p=n.toGlobalCoord(l[0].coord),g=o.getAreaStyle();a=y(a)?a:[a];for(var m=1;m<l.length;m++){var v,x,_,b,w=n.toGlobalCoord(l[m].coord);n.isHorizontal()?(v=p,x=s.y,_=w-v,b=s.height,p=v+_):(v=s.x,x=p,_=s.width,p=x+(b=w-x));var S=l[m-1].tickValue;null!=S&&c.set(S,d),this._axisGroup.add(new bM({"anid":null!=S?"area_"+S:null,"shape":{"x":v,"y":x,"width":_,"height":b},"style":r({"fill":a[d]},g),"silent":!0})),d=(d+1)%u}this._splitAreaColors=c}}}});gC.extend({"type":"xAxis"}),gC.extend({"type":"yAxis"}),Fs({"type":"grid","render":function render(t,e){this.group.removeAll(),t.get("show")&&this.group.add(new bM({"shape":t.coordinateSystem.getRect(),"style":r({"fill":t.get("backgroundColor")},t.getItemStyle()),"silent":!0,"z2":-1}))}}),Ps(function(t){t.xAxis&&t.yAxis&&!t.grid&&(t.grid={})}),zs(FD("line","circle","line")),Rs(HD("line")),Ns(qT.PROCESSOR.STATISTIC,{"seriesType":"line","modifyOutputEnd":!0,"reset":function reset(t,e,n){var i=t.getData(),o=t.get("sampling"),a=t.coordinateSystem;if("cartesian2d"===a.type&&o){var r,s=a.getBaseAxis(),l=a.getOtherAxis(s),u=s.getExtent(),h=u[1]-u[0],c=Math.round(i.count()/h);c>1&&("string"==typeof o?r=WD[o]:"function"==typeof o&&(r=o),r&&t.setData(i.downSample(i.mapDimension(l.dim),1/c,r,jD)))}}});var mC=oT.extend({"type":"series.__base_bar__","getInitialData":function getInitialData(t,e){return gl(this.getSource(),this)},"getMarkerPosition":function getMarkerPosition(t){var e=this.coordinateSystem;if(e){var n=e.dataToPoint(e.clampData(t)),i=this.getData(),o=i.getLayout("offset"),a=i.getLayout("size");return n[e.getBaseAxis().isHorizontal()?0:1]+=o+a/2,n}return[NaN,NaN]},"defaultOption":{"zlevel":0,"z":2,"coordinateSystem":"cartesian2d","legendHoverLink":!0,"barMinHeight":0,"barMinAngle":0,"large":!1,"largeThreshold":400,"progressive":3e3,"progressiveChunkMode":"mod","itemStyle":{},"emphasis":{}}});mC.extend({"type":"series.bar","dependencies":["grid","polar"],"brushSelector":"rect","getProgressive":function getProgressive(){return!!this.get("large")&&this.get("progressive")},"getProgressiveThreshold":function getProgressiveThreshold(){var t=this.get("progressiveThreshold"),e=this.get("largeThreshold");return e>t&&(t=e),t}});var vC=Yw([["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["stroke","barBorderColor"],["lineWidth","barBorderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),yC={"getBarItemStyle":function getBarItemStyle(t){var e=vC(this,t);if(this.getBorderLineDash){var n=this.getBorderLineDash();n&&(e.lineDash=n)}return e}},xC=["itemStyle","barBorderWidth"];a(Po.prototype,yC),Hs({"type":"bar","render":function render(t,e,n){this._updateDrawMode(t);var i=t.get("coordinateSystem");return"cartesian2d"!==i&&"polar"!==i||(this._isLargeDraw?this._renderLarge(t,e,n):this._renderNormal(t,e,n)),this.group},"incrementalPrepareRender":function incrementalPrepareRender(t,e,n){this._clear(),this._updateDrawMode(t)},"incrementalRender":function incrementalRender(t,e,n,i){this._incrementalRenderLarge(t,e)},"_updateDrawMode":function _updateDrawMode(t){var e=t.pipelineContext.large;(null==this._isLargeDraw||e^this._isLargeDraw)&&(this._isLargeDraw=e,this._clear())},"_renderNormal":function _renderNormal(t,e,n){var i,o=this.group,a=t.getData(),r=this._data,s=t.coordinateSystem,l=s.getBaseAxis();"cartesian2d"===s.type?i=l.isHorizontal():"polar"===s.type&&(i="angle"===l.dim);var u=t.isAnimationEnabled()?t:null;a.diff(r).add(function(e){if(a.hasValue(e)){var n=a.getItemModel(e),r=SC[s.type](a,e,n),l=wC[s.type](a,e,n,r,i,u);a.setItemGraphicEl(e,l),o.add(l),Oh(l,a,e,n,r,t,i,"polar"===s.type)}}).update(function(e,n){var l=r.getItemGraphicEl(n);if(a.hasValue(e)){var h=a.getItemModel(e),c=SC[s.type](a,e,h);l?Mo(l,{"shape":c},u,e):l=wC[s.type](a,e,h,c,i,u,!0),a.setItemGraphicEl(e,l),o.add(l),Oh(l,a,e,h,c,t,i,"polar"===s.type)}else o.remove(l)}).remove(function(t){var e=r.getItemGraphicEl(t);"cartesian2d"===s.type?e&&Ph(t,u,e):e&&Nh(t,u,e)}).execute(),this._data=a},"_renderLarge":function _renderLarge(t,e,n){this._clear(),Rh(t,this.group)},"_incrementalRenderLarge":function _incrementalRenderLarge(t,e){Rh(e,this.group,!0)},"dispose":B,"remove":function remove(t){this._clear(t)},"_clear":function _clear(t){var e=this.group,n=this._data;t&&t.get("animation")&&n&&!this._isLargeDraw?n.eachItemGraphicEl(function(e){"sector"===e.type?Nh(e.dataIndex,t,e):Ph(e.dataIndex,t,e)}):e.removeAll(),this._data=null}});var wC={"cartesian2d":function cartesian2d(t,e,n,i,o,r,s){var l=new bM({"shape":a({},i)});if(r){var u=l.shape,h=o?"height":"width",c={};u[h]=0,c[h]=i[h],WM[s?"updateProps":"initProps"](l,{"shape":c},r,e)}return l},"polar":function polar(t,e,n,i,o,a,s){var l=i.startAngle<i.endAngle,u=new fM({"shape":r({"clockwise":l},i)});if(a){var h=u.shape,c=o?"r":"endAngle",d={};h[c]=o?0:i.startAngle,d[c]=i[c],WM[s?"updateProps":"initProps"](u,{"shape":d},a,e)}return u}},SC={"cartesian2d":function cartesian2d(t,e,n){var i=t.getItemLayout(e),o=function Eh(t,e){var n=t.get(xC)||0;return Math.min(n,Math.abs(e.width),Math.abs(e.height))}(n,i),a=i.width>0?1:-1,r=i.height>0?1:-1;return{"x":i.x+a*o/2,"y":i.y+r*o/2,"width":i.width-a*o,"height":i.height-r*o}},"polar":function polar(t,e,n){var i=t.getItemLayout(e);return{"cx":i.cx,"cy":i.cy,"r0":i.r0,"r":i.r,"startAngle":i.startAngle,"endAngle":i.endAngle}}},IC=kn.extend({"type":"largeBar","shape":{"points":[]},"buildPath":function buildPath(t,e){for(var n=e.points,i=this.__startPoint,o=this.__valueIdx,a=0;a<n.length;a+=2)i[this.__valueIdx]=n[a+o],t.moveTo(i[0],i[1]),t.lineTo(n[a],n[a+1])}});Rs(v(Ol,"bar")),Rs(GA),zs({"seriesType":"bar","reset":function reset(t){t.getData().setVisual("legendSymbol","roundRect")}});var AC=function eC(t,e,n){e=y(e)&&{"coordDimensions":e}||a({},e);var i=t.getSource(),o=kA(i,e),r=new DA(o,t);return r.initData(i,n),r},DC={"updateSelectedMap":function updateSelectedMap(t){this._targetList=y(t)?t.slice():[],this._selectTargetMap=p(t||[],function(t,e){return t.set(e.name,e),t},R())},"select":function select(t,e){var n=null!=e?this._targetList[e]:this._selectTargetMap.get(t);"single"===this.get("selectedMode")&&this._selectTargetMap.each(function(t){t.selected=!1}),n&&(n.selected=!0)},"unSelect":function unSelect(t,e){var n=null!=e?this._targetList[e]:this._selectTargetMap.get(t);n&&(n.selected=!1)},"toggleSelected":function toggleSelected(t,e){var n=null!=e?this._targetList[e]:this._selectTargetMap.get(t);if(null!=n)return this[n.selected?"unSelect":"select"](t,e),n.selected},"isSelected":function isSelected(t,e){var n=null!=e?this._targetList[e]:this._selectTargetMap.get(t);return n&&n.selected}},CC=Ws({"type":"series.pie","init":function init(t){CC.superApply(this,"init",arguments),this.legendDataProvider=function(){return this.getRawData()},this.updateSelectedMap(this._createSelectableList()),this._defaultLabelLine(t)},"mergeOption":function mergeOption(t){CC.superCall(this,"mergeOption",t),this.updateSelectedMap(this._createSelectableList())},"getInitialData":function getInitialData(t,e){return AC(this,["value"])},"_createSelectableList":function _createSelectableList(){for(var t=this.getRawData(),e=t.mapDimension("value"),n=[],i=0,o=t.count();i<o;i++)n.push({"name":t.getName(i),"value":t.get(e,i),"selected":fr(t,i,"selected")});return n},"getDataParams":function getDataParams(t){var e=this.getData(),n=CC.superCall(this,"getDataParams",t),i=[];return e.each(e.mapDimension("value"),function(t){i.push(t)}),n.percent=Zo(i,t,e.hostModel.get("percentPrecision")),n.$vars.push("percent"),n},"_defaultLabelLine":function _defaultLabelLine(t){Ci(t,"labelLine",["show"]);var e=t.labelLine,n=t.emphasis.labelLine;e.show=e.show&&t.label.show,n.show=n.show&&t.emphasis.label.show},"defaultOption":{"zlevel":0,"z":2,"legendHoverLink":!0,"hoverAnimation":!0,"center":["50%","50%"],"radius":[0,"75%"],"clockwise":!0,"startAngle":90,"minAngle":0,"selectedOffset":10,"hoverOffset":10,"avoidLabelOverlap":!0,"percentPrecision":2,"stillShowZeroSum":!0,"label":{"rotate":!1,"show":!0,"position":"outer"},"labelLine":{"show":!0,"length":15,"length2":15,"smooth":!1,"lineStyle":{"width":1,"type":"solid"}},"itemStyle":{"borderWidth":1},"animationType":"expansion","animationEasing":"cubicOut"}});h(CC,DC);var LC=Gh.prototype;LC.updateData=function(t,e,i){function n(){s.stopAnimation(!0),s.animateTo({"shape":{"r":h.r+l.get("hoverOffset")}},300,"elasticOut")}function o(){s.stopAnimation(!0),s.animateTo({"shape":{"r":h.r}},300,"elasticOut")}var s=this.childAt(0),l=t.hostModel,u=t.getItemModel(e),h=t.getItemLayout(e),c=a({},h);c.label=null,i?(s.setShape(c),"scale"===l.getShallow("animationType")?(s.shape.r=h.r0,Io(s,{"shape":{"r":h.r}},l,e)):(s.shape.endAngle=h.startAngle,Mo(s,{"shape":{"endAngle":h.endAngle}},l,e))):Mo(s,{"shape":c},l,e);var d=t.getItemVisual(e,"color");s.useStyle(r({"lineJoin":"bevel","fill":d},u.getModel("itemStyle").getItemStyle())),s.hoverStyle=u.getModel("emphasis.itemStyle").getItemStyle();var f=u.getShallow("cursor");f&&s.attr("cursor",f),Vh(this,t.getItemLayout(e),l.isSelected(null,e),l.get("selectedOffset"),l.get("animation")),s.off("mouseover").off("mouseout").off("emphasis").off("normal"),u.get("hoverAnimation")&&l.isAnimationEnabled()&&s.on("mouseover",n).on("mouseout",o).on("emphasis",n).on("normal",o),this._updateLabel(t,e),co(this)},LC._updateLabel=function(t,e){var n=this.childAt(1),i=this.childAt(2),o=t.hostModel,a=t.getItemModel(e),r=t.getItemLayout(e).label,s=t.getItemVisual(e,"color");Mo(n,{"shape":{"points":r.linePoints||[[r.x,r.y],[r.x,r.y],[r.x,r.y]]}},o,e),Mo(i,{"style":{"x":r.x,"y":r.y}},o,e),i.attr({"rotation":r.rotation,"origin":[r.x,r.y],"z2":10});var l=a.getModel("label"),u=a.getModel("emphasis.label"),h=a.getModel("labelLine"),c=a.getModel("emphasis.labelLine");s=t.getItemVisual(e,"color");po(i.style,i.hoverStyle={},l,u,{"labelFetcher":t.hostModel,"labelDataIndex":e,"defaultText":t.getName(e),"autoColor":s,"useInsideStyle":!!r.inside},{"textAlign":r.textAlign,"textVerticalAlign":r.verticalAlign,"opacity":t.getItemVisual(e,"opacity")}),i.ignore=i.normalIgnore=!l.get("show"),i.hoverIgnore=!u.get("show"),n.ignore=n.normalIgnore=!h.get("show"),n.hoverIgnore=!c.get("show"),n.setStyle({"stroke":s,"opacity":t.getItemVisual(e,"opacity")}),n.setStyle(h.getModel("lineStyle").getLineStyle()),n.hoverStyle=c.getModel("lineStyle").getLineStyle();var d=h.get("smooth");d&&!0===d&&(d=.4),n.setShape({"smooth":d})},u(Gh,Zb),Tr.extend({"type":"pie","init":function init(){var t=new Zb;this._sectorGroup=t},"render":function render(t,e,n,i){if(!i||i.from!==this.uid){var o=t.getData(),a=this._data,r=this.group,s=e.get("animation"),l=!a,u=t.get("animationType"),h=v(Bh,this.uid,t,s,n),c=t.get("selectedMode");if(o.diff(a).add(function(t){var e=new Gh(o,t);l&&"scale"!==u&&e.eachChild(function(t){t.stopAnimation(!0)}),c&&e.on("click",h),o.setItemGraphicEl(t,e),r.add(e)}).update(function(t,e){var n=a.getItemGraphicEl(e);n.updateData(o,t),n.off("click"),c&&n.on("click",h),r.add(n),o.setItemGraphicEl(t,n)}).remove(function(t){var e=a.getItemGraphicEl(t);r.remove(e)}).execute(),s&&l&&o.count()>0&&"scale"!==u){var d=o.getItemLayout(0),f=Math.max(n.getWidth(),n.getHeight())/2,p=m(r.removeClipPath,r);r.setClipPath(this._createClipPath(d.cx,d.cy,f,d.startAngle,d.clockwise,p,t))}else r.removeClipPath();this._data=o}},"dispose":function dispose(){},"_createClipPath":function _createClipPath(t,e,n,i,o,a,r){var s=new fM({"shape":{"cx":t,"cy":e,"r0":0,"r":n,"startAngle":i,"endAngle":i,"clockwise":o}});return Io(s,{"shape":{"endAngle":i+(o?1:-1)*Math.PI*2}},r,a),s},"containPoint":function containPoint(t,e){var n=e.getData().getItemLayout(0);if(n){var i=t[0]-n.cx,o=t[1]-n.cy,a=Math.sqrt(i*i+o*o);return a<=n.r&&a>=n.r0}}});var kC=function aC(t,e){d(e,function(e){e.update="updateView",Os(e,function(n,i){var o={};return i.eachComponent({"mainType":"series","subType":t,"query":n},function(t){t[e.method]&&t[e.method](n.name,n.dataIndex);var i=t.getData();i.each(function(e){var n=i.getName(e);o[n]=t.isSelected(n)||!1})}),{"name":n.name,"selected":o}})})},PC=function rC(t){return{"getTargetSeries":function getTargetSeries(e){var n={},i=R();return e.eachSeriesByType(t,function(t){t.__paletteScope=n,i.set(t.uid,t)}),i},"reset":function reset(t,e){var n=t.getRawData(),i={},o=t.getData();o.each(function(t){var e=o.getRawIndex(t);i[e]=t}),n.each(function(e){var a=i[e],r=null!=a&&o.getItemVisual(a,"color",!0);if(r)n.setItemVisual(e,"color",r);else{var s=n.getItemModel(e).get("itemStyle.color")||t.getColorFromPalette(n.getName(e)||e+"",t.__paletteScope,n.count());n.setItemVisual(e,"color",s),null!=a&&o.setItemVisual(a,"color",s)}})}}},OC=function sC(t,e,n,i){var o,a,r=t.getData(),s=[],l=!1;r.each(function(n){var i,u,h,c,d=r.getItemLayout(n),f=r.getItemModel(n),p=f.getModel("label"),g=p.get("position")||f.get("emphasis.label.position"),m=f.getModel("labelLine"),v=m.get("length"),y=m.get("length2"),x=(d.startAngle+d.endAngle)/2,_=Math.cos(x),b=Math.sin(x);o=d.cx,a=d.cy;var w="inside"===g||"inner"===g;if("center"===g)i=d.cx,u=d.cy,c="center";else{var S=(w?(d.r+d.r0)/2*_:d.r*_)+o,M=(w?(d.r+d.r0)/2*b:d.r*b)+a;if(i=S+3*_,u=M+3*b,!w){var I=S+_*(v+e-d.r),T=M+b*(v+e-d.r),A=I+(_<0?-1:1)*y;i=A+(_<0?-5:5),u=T,h=[[S,M],[I,T],[A,T]]}c=w?"center":_>0?"left":"right"}var D=p.getFont(),C=p.get("rotate")?_<0?-x+Math.PI:-x:0,L=ke(t.getFormattedLabel(n,"normal")||r.getName(n),D,c,"top");l=!!C,d.label={"x":i,"y":u,"position":g,"height":L.height,"len":v,"len2":y,"linePoints":h,"textAlign":c,"verticalAlign":"middle","rotation":C,"inside":w},w||s.push(d.label)}),!l&&t.get("avoidLabelOverlap")&&function Wh(t,e,n,i,o,a){for(var r=[],s=[],l=0;l<t.length;l++)Hh(t[l])||(t[l].x<e?r.push(t[l]):s.push(t[l]));for(Fh(s,e,n,i,1,0,a),Fh(r,e,n,i,-1,0,a),l=0;l<t.length;l++)if(!Hh(t[l])){var u=t[l].linePoints;if(u){var h=u[1][0]-u[2][0];t[l].x<e?u[2][0]=t[l].x+3:u[2][0]=t[l].x-3,u[1][1]=u[2][1]=t[l].y,u[1][0]=u[2][0]+h}}}(s,o,a,e,0,i)},RC=2*Math.PI,NC=Math.PI/180,EC=function hC(t){return{"seriesType":t,"reset":function reset(t,e){var n=e.findComponents({"mainType":"legend"});if(n&&n.length){var i=t.getData();i.filterSelf(function(t){for(var e=i.getName(t),o=0;o<n.length;o++)if(!n[o].isSelected(e))return!1;return!0})}}}};kC("pie",[{"type":"pieToggleSelect","event":"pieselectchanged","method":"toggleSelected"},{"type":"pieSelect","event":"pieselected","method":"select"},{"type":"pieUnSelect","event":"pieunselected","method":"unSelect"}]),zs(PC("pie")),Rs(v(function(t,e,n,i){e.eachSeriesByType(t,function(t){var e=t.getData(),i=e.mapDimension("value"),o=t.get("center"),a=t.get("radius");y(a)||(a=[0,a]),y(o)||(o=[o,o]);var r=n.getWidth(),s=n.getHeight(),l=Math.min(r,s),u=Bo(o[0],r),h=Bo(o[1],s),c=Bo(a[0],l/2),d=Bo(a[1],l/2),f=-t.get("startAngle")*NC,p=t.get("minAngle")*NC,g=0;e.each(i,function(t){!isNaN(t)&&g++});var m=e.getSum(i),v=Math.PI/(m||g)*2,x=t.get("clockwise"),_=t.get("roseType"),b=t.get("stillShowZeroSum"),w=e.getDataExtent(i);w[0]=0;var S=RC,M=0,I=f,T=x?1:-1;if(e.each(i,function(t,n){var i;if(isNaN(t))e.setItemLayout(n,{"angle":NaN,"startAngle":NaN,"endAngle":NaN,"clockwise":x,"cx":u,"cy":h,"r0":c,"r":_?NaN:d});else{(i="area"!==_?0===m&&b?v:t*v:RC/g)<p?(i=p,S-=p):M+=t;var o=I+T*i;e.setItemLayout(n,{"angle":i,"startAngle":I,"endAngle":o,"clockwise":x,"cx":u,"cy":h,"r0":c,"r":_?zo(t,w,[c,d]):d}),I=o}}),S<RC&&g)if(S<=.001){var A=RC/g;e.each(i,function(t,n){if(!isNaN(t)){var i=e.getItemLayout(n);i.angle=A,i.startAngle=f+T*n*A,i.endAngle=f+T*(n+1)*A}})}else v=S/M,I=f,e.each(i,function(t,n){if(!isNaN(t)){var i=e.getItemLayout(n),o=i.angle===p?p:t*v;i.startAngle=I,i.endAngle=I+T*o,I+=T*o}});OC(t,d,0,s)})},"pie")),Ns(EC("pie")),oT.extend({"type":"series.scatter","dependencies":["grid","polar","geo","singleAxis","calendar"],"getInitialData":function getInitialData(t,e){return gl(this.getSource(),this)},"brushSelector":"point","getProgressive":function getProgressive(){var t=this.option.progressive;return null==t?this.option.large?5e3:this.get("progressive"):t},"getProgressiveThreshold":function getProgressiveThreshold(){var t=this.option.progressiveThreshold;return null==t?this.option.large?1e4:this.get("progressiveThreshold"):t},"defaultOption":{"coordinateSystem":"cartesian2d","zlevel":0,"z":2,"legendHoverLink":!0,"hoverAnimation":!0,"symbolSize":10,"large":!1,"largeThreshold":2e3,"itemStyle":{"opacity":.8}}});var zC=Zn({"shape":{"points":null},"symbolProxy":null,"buildPath":function buildPath(t,e){var n=e.points,i=e.size,o=this.symbolProxy,a=o.shape;if(!((t.getContext?t.getContext():t)&&i[0]<4))for(var r=0;r<n.length;){var s=n[r++],l=n[r++];isNaN(s)||isNaN(l)||(a.x=s-i[0]/2,a.y=l-i[1]/2,a.width=i[0],a.height=i[1],o.buildPath(t,a,!0))}},"afterBrush":function afterBrush(t){var e=this.shape,n=e.points,i=e.size;if(i[0]<4){this.setTransform(t);for(var o=0;o<n.length;){var a=n[o++],r=n[o++];isNaN(a)||isNaN(r)||t.fillRect(a-i[0]/2,r-i[1]/2,i[0],i[1])}this.restoreTransform(t)}},"findDataIndex":function findDataIndex(t,e){for(var n=this.shape,i=n.points,o=n.size,a=Math.max(o[0],4),r=Math.max(o[1],4),s=i.length/2-1;s>=0;s--){var l=2*s,u=i[l]-a/2,h=i[l+1]-r/2;if(t>=u&&e>=h&&t<=u+a&&e<=h+r)return s}return-1}}),BC=Zh.prototype;BC.isPersistent=function(){return!this._incremental},BC.updateData=function(t){this.group.removeAll();var e=new zC({"rectHover":!0,"cursor":"default"});e.setShape({"points":t.getLayout("symbolPoints")}),this._setCommon(e,t),this.group.add(e),this._incremental=null},BC.updateLayout=function(t){if(!this._incremental){var e=t.getLayout("symbolPoints");this.group.eachChild(function(t){if(null!=t.startIndex){var n=2*(t.endIndex-t.startIndex),i=4*t.startIndex*2;e=new Float32Array(e.buffer,i,n)}t.setShape("points",e)})}},BC.incrementalPrepareUpdate=function(t){this.group.removeAll(),this._clearIncremental(),t.count()>2e6?(this._incremental||(this._incremental=new Hn({"silent":!0})),this.group.add(this._incremental)):this._incremental=null},BC.incrementalUpdate=function(t,e){var n;this._incremental?(n=new zC,this._incremental.addDisplayable(n,!0)):((n=new zC({"rectHover":!0,"cursor":"default","startIndex":t.start,"endIndex":t.end})).incremental=!0,this.group.add(n)),n.setShape({"points":e.getLayout("symbolPoints")}),this._setCommon(n,e,!!this._incremental)},BC._setCommon=function(t,e,n){var i=e.hostModel,o=e.getVisual("symbolSize");t.setShape("size",o instanceof Array?o:[o,o]),t.symbolProxy=$l(e.getVisual("symbol"),0,0,0,0),t.setColor=t.symbolProxy.setColor;var a=t.shape.size[0]<4;t.useStyle(i.getModel("itemStyle").getItemStyle(a?["color","shadowBlur","shadowColor"]:["color"]));var r=e.getVisual("color");r&&t.setColor(r),n||(t.seriesIndex=i.seriesIndex,t.on("mousemove",function(e){t.dataIndex=null;var n=t.findDataIndex(e.offsetX,e.offsetY);n>=0&&(t.dataIndex=n+(t.startIndex||0))}))},BC.remove=function(){this._clearIncremental(),this._incremental=null,this.group.removeAll()},BC._clearIncremental=function(){var t=this._incremental;t&&t.clearDisplaybles()},Hs({"type":"scatter","render":function render(t,e,n){var i=t.getData();this._updateSymbolDraw(i,t).updateData(i),this._finished=!0},"incrementalPrepareRender":function incrementalPrepareRender(t,e,n){var i=t.getData();this._updateSymbolDraw(i,t).incrementalPrepareUpdate(i),this._finished=!1},"incrementalRender":function incrementalRender(t,e,n){this._symbolDraw.incrementalUpdate(t,e.getData()),this._finished=t.end===e.getData().count()},"updateTransform":function updateTransform(t,e,n){var i=t.getData();if(this.group.dirty(),!this._finished||i.count()>1e4||!this._symbolDraw.isPersistent())return{"update":!0};var o=HD().reset(t);o.progress&&o.progress({"start":0,"end":i.count()},i),this._symbolDraw.updateLayout(i)},"_updateSymbolDraw":function _updateSymbolDraw(t,e){var n=this._symbolDraw,i=e.pipelineContext.large;return n&&i===this._isLargeDraw||(n&&n.remove(),n=this._symbolDraw=i?new Zh:new Au,this._isLargeDraw=i,this.group.removeAll()),this.group.add(n.group),n},"remove":function remove(t,e){this._symbolDraw&&this._symbolDraw.remove(!0),this._symbolDraw=null},"dispose":function dispose(){}}),zs(FD("scatter","circle")),Rs(HD("scatter")),u(Uh,vD),Xh.prototype.getIndicatorAxes=function(){return this._indicatorAxes},Xh.prototype.dataToPoint=function(t,e){var n=this._indicatorAxes[e];return this.coordToPoint(n.dataToCoord(t),e)},Xh.prototype.coordToPoint=function(t,e){var n=this._indicatorAxes[e].angle;return[this.cx+t*Math.cos(n),this.cy-t*Math.sin(n)]},Xh.prototype.pointToData=function(t){var e=t[0]-this.cx,n=t[1]-this.cy,i=Math.sqrt(e*e+n*n);e/=i,n/=i;for(var o,a=Math.atan2(-n,e),r=1/0,s=-1,l=0;l<this._indicatorAxes.length;l++){var u=this._indicatorAxes[l],h=Math.abs(a-u.angle);h<r&&(o=u,s=l,r=h)}return[s,+(o&&o.coodToData(i))]},Xh.prototype.resize=function(t,e){var n=t.get("center"),i=e.getWidth(),o=e.getHeight(),a=Math.min(i,o)/2;this.cx=Bo(n[0],i),this.cy=Bo(n[1],o),this.startAngle=t.get("startAngle")*Math.PI/180;var r=t.get("radius");"string"!=typeof r&&"number"!=typeof r||(r=[0,r]),this.r0=Bo(r[0],a),this.r=Bo(r[1],a),d(this._indicatorAxes,function(t,e){t.setExtent(this.r0,this.r);var n=this.startAngle+e*Math.PI*2/this._indicatorAxes.length;n=Math.atan2(Math.sin(n),Math.cos(n)),t.angle=n},this)},Xh.prototype.update=function(t,e){function i(t){var e=Math.pow(10,Math.floor(Math.log(t)/Math.LN10)),n=t/e;return 2===n?n=5:n*=2,n*e}var n=this._indicatorAxes,o=this._model;d(n,function(t){t.scale.setExtent(1/0,-1/0)}),t.eachSeriesByType("radar",function(e,i){if("radar"===e.get("coordinateSystem")&&t.getComponent("radar",e.get("radarIndex"))===o){var a=e.getData();d(n,function(t){t.scale.unionExtentFromData(a,a.mapDimension(t.dim))})}},this);var a=o.get("splitNumber");d(n,function(t,e){var n=Vl(t.scale,t.model);Fl(t.scale,t.model);var o=t.model,r=t.scale,s=o.getMin(),l=o.getMax(),u=r.getInterval();if(null!=s&&null!=l)r.setExtent(+s,+l),r.setInterval((l-s)/a);else if(null!=s){var h;do{h=s+u*a,r.setExtent(+s,h),r.setInterval(u),u=i(u)}while(h<n[1]&&isFinite(h)&&isFinite(n[1]))}else if(null!=l){var c;do{c=l-u*a,r.setExtent(c,+l),r.setInterval(u),u=i(u)}while(c>n[0]&&isFinite(c)&&isFinite(n[0]))}else{r.getTicks().length-1>a&&(u=i(u));var d=Math.round((n[0]+n[1])/2/u)*u,f=Math.round(a/2);r.setExtent(Vo(d-f*u),Vo(d+(a-f)*u)),r.setInterval(u)}})},Xh.dimensions=[],Xh.create=function(t,e){var n=[];return t.eachComponent("radar",function(i){var o=new Xh(i,t,e);n.push(o),i.coordinateSystem=o}),t.eachSeriesByType("radar",function(t){"radar"===t.get("coordinateSystem")&&(t.coordinateSystem=n[t.get("radarIndex")||0])}),n},Ga.register("radar",Xh);var VC=YD.valueAxis,GC=(Gs({"type":"radar","optionUpdated":function optionUpdated(){var t=this.get("boundaryGap"),e=this.get("splitNumber"),o=this.get("scale"),s=this.get("axisLine"),l=this.get("axisTick"),u=this.get("axisLabel"),h=this.get("name"),c=this.get("name.show"),d=this.get("name.formatter"),p=this.get("nameGap"),g=this.get("triggerEvent"),m=f(this.get("indicator")||[],function(f){null!=f.max&&f.max>0&&!f.min?f.min=0:null!=f.min&&f.min<0&&!f.max&&(f.max=0);var m=h;if(null!=f.color&&(m=r({"color":f.color},h)),f=n(i(f),{"boundaryGap":t,"splitNumber":e,"scale":o,"axisLine":s,"axisTick":l,"axisLabel":u,"name":f.text,"nameLocation":"end","nameGap":p,"nameTextStyle":m,"triggerEvent":g},!1),c||(f.name=""),"string"==typeof d){var v=f.name;f.name=d.replace("{value}",null!=v?v:"")}else"function"==typeof d&&(f.name=d(f.name,f));var y=a(new Po(f,null,this.ecModel),nD);return y.mainType="radar",y.componentIndex=this.componentIndex,y},this);this.getIndicatorModels=function(){return m}},"defaultOption":{"zlevel":0,"z":0,"center":["50%","50%"],"radius":"75%","startAngle":90,"name":{"show":!0},"boundaryGap":[0,0],"splitNumber":5,"nameGap":15,"scale":!1,"shape":"polygon","axisLine":n({"lineStyle":{"color":"#bbb"}},VC.axisLine),"axisLabel":jh(VC.axisLabel,!1),"axisTick":jh(VC.axisTick,!1),"splitLine":jh(VC.splitLine,!0),"splitArea":jh(VC.splitArea,!0),"indicator":[]}}),["axisLine","axisTickLabel","axisName"]);Fs({"type":"radar","render":function render(t,e,n){this.group.removeAll(),this._buildAxes(t),this._buildSplitLineAndArea(t)},"_buildAxes":function _buildAxes(t){var e=t.coordinateSystem;d(f(e.getIndicatorAxes(),function(t){return new iC(t.model,{"position":[e.cx,e.cy],"rotation":t.angle,"labelDirection":-1,"tickDirection":-1,"nameDirection":1})}),function(t){d(GC,t.add,t),this.group.add(t.getGroup())},this)},"_buildSplitLineAndArea":function _buildSplitLineAndArea(t){function e(t,e,n){var i=n%e.length;return t[i]=t[i]||[],i}var n=t.coordinateSystem,i=n.getIndicatorAxes();if(i.length){var o=t.get("shape"),a=t.getModel("splitLine"),s=t.getModel("splitArea"),l=a.getModel("lineStyle"),u=s.getModel("areaStyle"),h=a.get("show"),c=s.get("show"),p=l.get("color"),g=u.get("color");p=y(p)?p:[p],g=y(g)?g:[g];var m=[],v=[];if("circle"===o)for(var x=i[0].getTicksCoords(),_=n.cx,b=n.cy,w=0;w<x.length;w++)h&&m[D=e(m,p,w)].push(new sM({"shape":{"cx":_,"cy":b,"r":x[w].coord}})),c&&w<x.length-1&&v[D=e(v,g,w)].push(new pM({"shape":{"cx":_,"cy":b,"r0":x[w].coord,"r":x[w+1].coord}}));else{var S,M=f(i,function(t,e){var i=t.getTicksCoords();return S=null==S?i.length-1:Math.min(i.length-1,S),f(i,function(t){return n.coordToPoint(t.coord,e)})}),I=[];for(w=0;w<=S;w++){for(var T=[],A=0;A<i.length;A++)T.push(M[A][w]);if(T[0]&&T.push(T[0].slice()),h&&m[D=e(m,p,w)].push(new yM({"shape":{"points":T}})),c&&I){var D=e(v,g,w-1);v[D].push(new vM({"shape":{"points":T.concat(I)}}))}I=T.slice().reverse()}}var C=l.getLineStyle(),L=u.getAreaStyle();d(v,function(t,e){this.group.add(GM(t,{"style":r({"stroke":"none","fill":g[e%g.length]},L),"silent":!0}))},this),d(m,function(t,e){this.group.add(GM(t,{"style":r({"fill":"none","stroke":p[e%p.length]},C),"silent":!0}))},this)}}});var FC=oT.extend({"type":"series.radar","dependencies":["radar"],"init":function init(t){FC.superApply(this,"init",arguments),this.legendDataProvider=function(){return this.getRawData()}},"getInitialData":function getInitialData(t,e){return AC(this,{"generateCoord":"indicator_","generateCoordCount":1/0})},"formatTooltip":function formatTooltip(t){var e=this.getData(),n=this.coordinateSystem.getIndicatorAxes(),i=this.getData().getName(t);return ea(""===i?this.name:i)+"<br/>"+f(n,function(n,i){var o=e.get(e.mapDimension(n.dim),t);return ea(n.name+" : "+o)}).join("<br />")},"defaultOption":{"zlevel":0,"z":2,"coordinateSystem":"radar","legendHoverLink":!0,"radarIndex":0,"lineStyle":{"width":2,"type":"solid"},"label":{"position":"top"},"symbol":"emptyCircle","symbolSize":4}});Hs({"type":"radar","render":function render(t,e,l){function o(t,e){var n=t.getItemVisual(e,"symbol")||"circle",i=t.getItemVisual(e,"color");if("none"!==n){var o=function Yh(t){return y(t)||(t=[+t,+t]),t}(t.getItemVisual(e,"symbolSize")),a=$l(n,-1,-1,2,2,i);return a.attr({"style":{"strokeNoScale":!0},"z2":100,"scale":[o[0]/2,o[1]/2]}),a}}function a(e,n,i,a,r,s){i.removeAll();for(var l=0;l<n.length-1;l++){var u=o(a,r);u&&(u.__dimIdx=l,e[l]?(u.attr("position",e[l]),WM[s?"initProps":"updateProps"](u,{"position":n[l]},t,r)):u.attr("position",n[l]),i.add(u))}}function s(t){return f(t,function(t){return[u.cx,u.cy]})}var u=t.coordinateSystem,h=this.group,c=t.getData(),d=this._data;c.diff(d).add(function(e){var n=c.getItemLayout(e);if(n){var i=new vM,o=new yM,r={"shape":{"points":n}};i.shape.points=s(n),o.shape.points=s(n),Io(i,r,t,e),Io(o,r,t,e);var l=new Zb,u=new Zb;l.add(o),l.add(i),l.add(u),a(o.shape.points,n,u,c,e,!0),c.setItemGraphicEl(e,l)}}).update(function(e,n){var i=d.getItemGraphicEl(n),o=i.childAt(0),r=i.childAt(1),s=i.childAt(2),l={"shape":{"points":c.getItemLayout(e)}};l.shape.points&&(a(o.shape.points,l.shape.points,s,c,e,!1),Mo(o,l,t),Mo(r,l,t),c.setItemGraphicEl(e,i))}).remove(function(t){h.remove(d.getItemGraphicEl(t))}).execute(),c.eachItemGraphicEl(function(t,e){function n(){l.attr("ignore",m)}function o(){l.attr("ignore",g)}var a=c.getItemModel(e),s=t.childAt(0),l=t.childAt(1),u=t.childAt(2),d=c.getItemVisual(e,"color");h.add(t),s.useStyle(r(a.getModel("lineStyle").getLineStyle(),{"fill":"none","stroke":d})),s.hoverStyle=a.getModel("emphasis.lineStyle").getLineStyle();var f=a.getModel("areaStyle"),p=a.getModel("emphasis.areaStyle"),g=f.isEmpty()&&f.parentModel.isEmpty(),m=p.isEmpty()&&p.parentModel.isEmpty();m=m&&g,l.ignore=g,l.useStyle(r(f.getAreaStyle(),{"fill":d,"opacity":.7})),l.hoverStyle=p.getAreaStyle();var v=a.getModel("itemStyle").getItemStyle(["color"]),y=a.getModel("emphasis.itemStyle").getItemStyle(),x=a.getModel("label"),_=a.getModel("emphasis.label");u.eachChild(function(t){t.setStyle(v),t.hoverStyle=i(y),po(t.style,t.hoverStyle,x,_,{"labelFetcher":c.hostModel,"labelDataIndex":e,"labelDimIndex":t.__dimIdx,"defaultText":c.get(c.dimensions[t.__dimIdx],e),"autoColor":d,"isRectText":!0})}),t.off("mouseover").off("mouseout").off("normal").off("emphasis"),t.on("emphasis",n).on("mouseover",n).on("normal",o).on("mouseout",o),co(t)}),this._data=c},"remove":function remove(){this.group.removeAll(),this._data=null},"dispose":function dispose(){}}),zs(PC("radar")),zs(FD("radar","circle")),Rs(function(t){t.eachSeriesByType("radar",function(t){var e=t.getData(),n=[],i=t.coordinateSystem;if(i){for(var o=i.getIndicatorAxes(),a=0;a<o.length;a++)e.each(e.mapDimension(o[a].dim),function(t,e){n[e]=n[e]||[],n[e][a]=i.dataToPoint(t,a)});e.each(function(t){n[t][0]&&n[t].push(n[t][0].slice()),e.setItemLayout(t,n[t])})}})}),Ns(EC("radar")),Ps(function(t){var e=t.polar;if(e){y(e)||(e=[e]);var n=[];d(e,function(e,i){e.indicator?(e.type&&!e.shape&&(e.shape=e.type),t.radar=t.radar||[],y(t.radar)||(t.radar=[t.radar]),t.radar.push(e)):n.push(e)}),t.polar=n}d(t.series,function(t){t&&"radar"===t.type&&t.polarIndex&&(t.radarIndex=t.polarIndex)})});for(var HC=[126,25],WC=[[[0,3.5],[7,11.2],[15,11.9],[30,7],[42,.7],[52,.7],[56,7.7],[59,.7],[64,.7],[64,0],[5,0],[0,3.5]],[[13,16.1],[19,14.7],[16,21.7],[11,23.1],[13,16.1]],[[12,32.2],[14,38.5],[15,38.5],[13,32.2],[12,32.2]],[[16,47.6],[12,53.2],[13,53.2],[18,47.6],[16,47.6]],[[6,64.4],[8,70],[9,70],[8,64.4],[6,64.4]],[[23,82.6],[29,79.8],[30,79.8],[25,82.6],[23,82.6]],[[37,70.7],[43,62.3],[44,62.3],[39,70.7],[37,70.7]],[[48,51.1],[51,45.5],[53,45.5],[50,51.1],[48,51.1]],[[51,35],[51,28.7],[53,28.7],[53,35],[51,35]],[[52,22.4],[55,17.5],[56,17.5],[53,22.4],[52,22.4]],[[58,12.6],[62,7],[63,7],[60,12.6],[58,12.6]],[[0,3.5],[0,93.1],[64,93.1],[64,0],[63,0],[63,92.4],[1,92.4],[1,3.5],[0,3.5]]],jC=0;jC<WC.length;jC++)for(var ZC=0;ZC<WC[jC].length;ZC++)WC[jC][ZC][0]/=10.5,WC[jC][ZC][1]/=-14,WC[jC][ZC][0]+=HC[0],WC[jC][ZC][1]+=HC[1];var UC={"南海诸岛":[32,80],"广东":[0,-10],"香港":[10,5],"澳门":[-10,10],"天津":[5,5]},XC={"Russia":[100,60],"United States":[-99,38],"United States of America":[-99,38]},YC=[[[123.45165252685547,25.73527164402261],[123.49731445312499,25.73527164402261],[123.49731445312499,25.750734064600884],[123.45165252685547,25.750734064600884],[123.45165252685547,25.73527164402261]]],qC=Bi(),$C={"load":function load(t,e){var n=qC(e).parsed;if(n)return n;var i,o=e.specialAreas||{},a=e.geoJSON;try{i=a?pD(a):[]}catch(t){throw new Error("Invalid geoJson format\n"+t.message)}return d(i,function(e){var n=e.name;(function bC(t,e){if("china"===t){var n=UC[e.name];if(n){var i=e.center;i[0]+=n[0]/10.5,i[1]+=-n[1]/14}}})(t,e),function MC(t,e){if("world"===t){var n=XC[e.name];if(n){var i=e.center;i[0]=n[0],i[1]=n[1]}}}(t,e),function TC(t,e){"china"===t&&"台湾"===e.name&&e.geometries.push({"type":"polygon","exterior":YC[0]})}(t,e);var i=o[n];i&&e.transformTo(i.left,i.top,i.width,i.height)}),function _C(t,e){"china"===t&&e.push(new tu("南海诸岛",f(WC,function(t){return{"type":"polygon","exterior":t}}),HC))}(t,i),qC(e).parsed={"regions":i,"boundingRect":function qh(t){for(var e,n=0;n<t.length;n++){var i=t[n].getBoundingRect();(e=e||i.clone()).union(i)}return e}(i)}}},KC=Bi(),QC={"geoJSON":$C,"svg":{"load":function load(t,e){var n=KC(e).originRoot;if(n)return{"root":n,"boundingRect":KC(e).boundingRect};var i=Kh(e);return KC(e).originRoot=i.root,KC(e).boundingRect=i.boundingRect,i},"makeGraphic":function makeGraphic(t,e,n){var i=KC(e),o=i.rootMap||(i.rootMap=R()),a=o.get(n);if(a)return a;var r=i.originRoot,s=i.boundingRect;return i.originRootHostKey?a=Kh(e,s).root:(i.originRootHostKey=n,a=r),o.set(n,a)},"removeGraphic":function removeGraphic(t,e,n){var i=KC(e),o=i.rootMap;o&&o.removeKey(n),n===i.originRootHostKey&&(i.originRootHostKey=null)}}},JC={"load":function load(t,e){var n,i=[],o=R(),a=R();return d(Jh(t),function(r){var s=QC[r.type].load(t,r);d(s.regions,function(t){var n=t.name;e&&e.hasOwnProperty(n)&&(t=t.cloneShallow(n=e[n])),i.push(t),o.set(n,t),a.set(n,t.center)});var l=s.boundingRect;l&&(n?n.union(l):n=l.clone())}),{"regions":i,"regionsMap":o,"nameCoordMap":a,"boundingRect":n||new de(0,0,0,0)}},"makeGraphic":$h("makeGraphic"),"removeGraphic":$h("removeGraphic")};h(oT.extend({"type":"series.map","dependencies":["geo"],"layoutMode":"box","needsDrawMap":!1,"seriesGroup":[],"getInitialData":function getInitialData(t){for(var e=AC(this,["value"]),n=e.mapDimension("value"),i=R(),o=[],a=[],r=0,s=e.count();r<s;r++){var l=e.getName(r);i.set(l,!0),o.push({"name":l,"value":e.get(n,r),"selected":fr(e,r,"selected")})}return d(JC.load(this.getMapType(),this.option.nameMap).regions,function(t){var e=t.name;i.get(e)||(o.push({"name":e}),a.push(e))}),this.updateSelectedMap(o),e.appendValues([],a),e},"getHostGeoModel":function getHostGeoModel(){var t=this.option.geoIndex;return null!=t?this.dependentModels.geo[t]:null},"getMapType":function getMapType(){return(this.getHostGeoModel()||this).option.map},"getRawValue":function getRawValue(t){var e=this.getData();return e.get(e.mapDimension("value"),t)},"getRegionModel":function getRegionModel(t){var e=this.getData();return e.getItemModel(e.indexOfName(t))},"formatTooltip":function formatTooltip(t){for(var e=this.getData(),n=Qo(this.getRawValue(t)),i=e.getName(t),o=this.seriesGroup,a=[],r=0;r<o.length;r++){var s=o[r].originalData.indexOfName(i),l=e.mapDimension("value");isNaN(o[r].originalData.get(l,s))||a.push(ea(o[r].name))}return a.join(", ")+"<br />"+ea(i+" : "+n)},"getTooltipPosition":function getTooltipPosition(t){if(null!=t){var e=this.getData().getName(t),n=this.coordinateSystem,i=n.getRegion(e);return i&&n.dataToPoint(i.center)}},"setZoom":function setZoom(t){this.option.zoom=t},"setCenter":function setCenter(t){this.option.center=t},"defaultOption":{"zlevel":0,"z":2,"coordinateSystem":"geo","map":"","left":"center","top":"center","aspectScale":.75,"showLegendSymbol":!0,"dataRangeHoverLink":!0,"boundingCoords":null,"center":null,"zoom":1,"scaleLimit":null,"label":{"show":!1,"color":"#000"},"itemStyle":{"borderWidth":.5,"borderColor":"#444","areaColor":"#eee"},"emphasis":{"label":{"show":!0,"color":"rgb(100,0,0)"},"itemStyle":{"areaColor":"rgba(255,215,0,0.8)"}}}}),DC);var tL="\0_ec_interaction_mutex";Os({"type":"takeGlobalCursor","event":"globalCursorTaken","update":"update"},function(){}),h(nc,J_);var nL={"axisPointer":1,"tooltip":1,"brush":1};yc.prototype={"constructor":yc,"draw":function draw(t,e,n,i,o){var a="geo"===t.mainType,r=t.getData&&t.getData();a&&e.eachComponent({"mainType":"series","subType":"map"},function(e){r||e.getHostGeoModel()!==t||(r=e.getData())});var s=t.coordinateSystem;this._updateBackground(s);var l=this._regionsGroup,u=this.group,h=s.scale,c={"position":s.position,"scale":h};!l.childAt(0)||o?u.attr(c):Mo(u,c,t),l.removeAll();var f=["itemStyle"],p=["emphasis","itemStyle"],g=["label"],m=["emphasis","label"],v=R();d(s.regions,function(e){var n=v.get(e.name)||v.set(e.name,new Zb),i=new CM({"shape":{"paths":[]}});n.add(i);var o,s=(C=t.getRegionModel(e.name)||t).getModel(f),u=C.getModel(p),c=gc(s),y=gc(u),x=C.getModel(g),_=C.getModel(m);if(r){o=r.indexOfName(e.name);var b=r.getItemVisual(o,"color",!0);b&&(c.fill=b)}d(e.geometries,function(t){if("polygon"===t.type){i.shape.paths.push(new vM({"shape":{"points":t.exterior}}));for(var e=0;e<(t.interiors?t.interiors.length:0);e++)i.shape.paths.push(new vM({"shape":{"points":t.interiors[e]}}))}}),i.setStyle(c),i.style.strokeNoScale=!0,i.culling=!0;var w=x.get("show"),S=_.get("show"),M=r&&isNaN(r.get(r.mapDimension("value"),o)),I=r&&r.getItemLayout(o);if(a||M&&(w||S)||I&&I.showLabel){var T,A=a?e.name:o;(!r||o>=0)&&(T=t);var D=new rM({"position":e.center.slice(),"scale":[1/h[0],1/h[1]],"z2":10,"silent":!0});po(D.style,D.hoverStyle={},x,_,{"labelFetcher":T,"labelDataIndex":A,"defaultText":e.name,"useInsideStyle":!1},{"textAlign":"center","textVerticalAlign":"middle"}),n.add(D)}if(r)r.setItemGraphicEl(o,n);else{var C=t.getRegionModel(e.name);i.eventData={"componentType":"geo","componentIndex":t.componentIndex,"geoIndex":t.componentIndex,"name":e.name,"region":C&&C.option||{}}}(n.__regions||(n.__regions=[])).push(e),co(n,y,{"hoverSilentOnTouch":!!t.get("selectedMode")}),l.add(n)}),this._updateController(t,e,n),mc(this,t,l,n,i),vc(t,l)},"remove":function remove(){this._regionsGroup.removeAll(),this._backgroundGroup.removeAll(),this._controller.dispose(),this._mapName&&JC.removeGraphic(this._mapName,this.uid),this._mapName=null,this._controllerHost={}},"_updateBackground":function _updateBackground(t){var e=t.map;this._mapName!==e&&d(JC.makeGraphic(e,this.uid),function(t){this._backgroundGroup.add(t)},this),this._mapName=e},"_updateController":function _updateController(t,e,i){function n(){var e={"type":"geoRoam","componentType":l};return e[l+"Id"]=t.id,e}var o=t.coordinateSystem,r=this._controller,s=this._controllerHost;s.zoomLimit=t.get("scaleLimit"),s.zoom=o.getZoom(),r.enable(t.get("roam")||!1);var l=t.mainType;r.off("pan").on("pan",function(t){this._mouseDownFlag=!1,dc(s,t.dx,t.dy),i.dispatchAction(a(n(),{"dx":t.dx,"dy":t.dy}))},this),r.off("zoom").on("zoom",function(t){if(this._mouseDownFlag=!1,fc(s,t.scale,t.originX,t.originY),i.dispatchAction(a(n(),{"zoom":t.scale,"originX":t.originX,"originY":t.originY})),this._updateGroup){var e=this.group.scale;this._regionsGroup.traverse(function(t){"text"===t.type&&t.attr("scale",[1/e[0],1/e[1]])})}},this),r.setPointerChecker(function(e,n,a){return o.getViewRectAfterRoam().contain(n,a)&&!pc(e,i,t)})}};var iL="__seriesMapHighDown",oL="__seriesMapCallKey";Hs({"type":"map","render":function render(t,e,n,i){if(!i||"mapToggleSelect"!==i.type||i.from!==this.uid){var o=this.group;if(o.removeAll(),!t.getHostGeoModel()){if(i&&"geoRoam"===i.type&&"series"===i.componentType&&i.seriesId===t.id)(a=this._mapDraw)&&o.add(a.group);else if(t.needsDrawMap){var a=this._mapDraw||new yc(n,!0);o.add(a.group),a.draw(t,e,n,this,i),this._mapDraw=a}else this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null;t.get("showLegendSymbol")&&e.getComponent("legend")&&this._renderSymbols(t,e,n)}}},"remove":function remove(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null,this.group.removeAll()},"dispose":function dispose(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null},"_renderSymbols":function _renderSymbols(t,e,n){var i=t.originalData,o=this.group;i.each(i.mapDimension("value"),function(e,n){if(!isNaN(e)){var r=i.getItemLayout(n);if(r&&r.point){var s=r.point,l=r.offset,u=new sM({"style":{"fill":t.getData().getVisual("color")},"shape":{"cx":s[0]+9*l,"cy":s[1],"r":3},"silent":!0,"z2":8+(l?0:VM+1)});if(!l){var h=t.mainSeries.getData(),c=i.getName(n),d=h.indexOfName(c),f=i.getItemModel(n),p=f.getModel("label"),g=f.getModel("emphasis.label"),m=h.getItemGraphicEl(d),y=A(t.getFormattedLabel(d,"normal"),c),x=A(t.getFormattedLabel(d,"emphasis"),y),_=m[iL],b=Math.random();if(!_){_=m[iL]={};var w=v(xc,!0),S=v(xc,!1);m.on("mouseover",w).on("mouseout",S).on("emphasis",w).on("normal",S)}m[oL]=b,a(_,{"recordVersion":b,"circle":u,"labelModel":p,"hoverLabelModel":g,"emphasisText":x,"normalText":y}),_c(_,!1)}o.add(u)}}})}}),Os({"type":"geoRoam","event":"geoRoam","update":"updateTransform"},function(t,e){var n=t.componentType||"series";e.eachComponent({"mainType":n,"query":t},function(e){var i=e.coordinateSystem;if("geo"===i.type){var o=wc(i,t,e.get("scaleLimit"));e.setCenter&&e.setCenter(o.center),e.setZoom&&e.setZoom(o.zoom),"series"===n&&d(e.seriesGroup,function(t){t.setCenter(o.center),t.setZoom(o.zoom)})}})});var aL=Q;h(bc,gb),Sc.prototype={"constructor":Sc,"type":"view","dimensions":["x","y"],"setBoundingRect":function setBoundingRect(t,e,n,i){return this._rect=new de(t,e,n,i),this._rect},"getBoundingRect":function getBoundingRect(){return this._rect},"setViewRect":function setViewRect(t,e,n,i){this.transformTo(t,e,n,i),this._viewRect=new de(t,e,n,i)},"transformTo":function transformTo(t,e,n,i){var o=this.getBoundingRect(),a=this._rawTransformable;a.transform=o.calculateTransform(new de(t,e,n,i)),a.decomposeTransform(),this._updateTransform()},"setCenter":function setCenter(t){t&&(this._center=t,this._updateCenterAndZoom())},"setZoom":function setZoom(t){t=t||1;var e=this.zoomLimit;e&&(null!=e.max&&(t=Math.min(e.max,t)),null!=e.min&&(t=Math.max(e.min,t))),this._zoom=t,this._updateCenterAndZoom()},"getDefaultCenter":function getDefaultCenter(){var t=this.getBoundingRect();return[t.x+t.width/2,t.y+t.height/2]},"getCenter":function getCenter(){return this._center||this.getDefaultCenter()},"getZoom":function getZoom(){return this._zoom||1},"getRoamTransform":function getRoamTransform(){return this._roamTransformable.getLocalTransform()},"_updateCenterAndZoom":function _updateCenterAndZoom(){var t=this._rawTransformable.getLocalTransform(),e=this._roamTransformable,n=this.getDefaultCenter(),i=this.getCenter(),o=this.getZoom();i=Q([],i,t),n=Q([],n,t),e.origin=i,e.position=[n[0]-i[0],n[1]-i[1]],e.scale=[o,o],this._updateTransform()},"_updateTransform":function _updateTransform(){var t=this._roamTransformable,e=this._rawTransformable;e.parent=t,t.updateTransform(),e.updateTransform(),wt(this.transform||(this.transform=[]),e.transform||xt()),this._rawTransform=e.getLocalTransform(),this.invTransform=this.invTransform||[],Tt(this.invTransform,this.transform),this.decomposeTransform()},"getViewRect":function getViewRect(){return this._viewRect},"getViewRectAfterRoam":function getViewRectAfterRoam(){var t=this.getBoundingRect().clone();return t.applyTransform(this.transform),t},"dataToPoint":function dataToPoint(t,e,n){var i=e?this._rawTransform:this.transform;return n=n||[],i?aL(n,t,i):G(n,t)},"pointToData":function pointToData(t){var e=this.invTransform;return e?aL([],t,e):[t[0],t[1]]},"convertToPixel":v(Mc,"dataToPoint"),"convertFromPixel":v(Mc,"pointToData"),"containPoint":function containPoint(t){return this.getViewRectAfterRoam().contain(t[0],t[1])}},h(Sc,gb),Ic.prototype={"constructor":Ic,"type":"geo","dimensions":["lng","lat"],"containCoord":function containCoord(t){for(var e=this.regions,n=0;n<e.length;n++)if(e[n].contain(t))return!0;return!1},"transformTo":function transformTo(t,e,n,i){var o=this.getBoundingRect(),a=this._invertLongitute;o=o.clone(),a&&(o.y=-o.y-o.height);var r=this._rawTransformable;if(r.transform=o.calculateTransform(new de(t,e,n,i)),r.decomposeTransform(),a){var s=r.scale;s[1]=-s[1]}r.updateTransform(),this._updateTransform()},"getRegion":function getRegion(t){return this._regionsMap.get(t)},"getRegionByCoord":function getRegionByCoord(t){for(var e=this.regions,n=0;n<e.length;n++)if(e[n].contain(t))return e[n]},"addGeoCoord":function addGeoCoord(t,e){this._nameCoordMap.set(t,e)},"getGeoCoord":function getGeoCoord(t){return this._nameCoordMap.get(t)},"getBoundingRect":function getBoundingRect(){return this._rect},"dataToPoint":function dataToPoint(t,e,n){if("string"==typeof t&&(t=this.getGeoCoord(t)),t)return Sc.prototype.dataToPoint.call(this,t,e,n)},"convertToPixel":v(Tc,"dataToPoint"),"convertFromPixel":v(Tc,"pointToData")},h(Ic,Sc);var rL={"dimensions":Ic.prototype.dimensions,"create":function create(t,e){var n=[];t.eachComponent("geo",function(t,i){var o=t.get("map"),a=t.get("aspectScale"),r=!0,s=VT.retrieveMap(o);s&&s[0]&&"svg"===s[0].type?(null==a&&(a=1),r=!1):null==a&&(a=.75);var l=new Ic(o+i,o,t.get("nameMap"),r);l.aspectScale=a,l.zoomLimit=t.get("scaleLimit"),n.push(l),Dc(l,t),t.coordinateSystem=l,l.model=t,l.resize=Ac,l.resize(t,e)}),t.eachSeries(function(t){if("geo"===t.get("coordinateSystem")){var e=t.get("geoIndex")||0;t.coordinateSystem=n[e]}});var i={};return t.eachSeriesByType("map",function(t){if(!t.getHostGeoModel()){var e=t.getMapType();i[e]=i[e]||[],i[e].push(t)}}),d(i,function(t,i){var a=new Ic(i,i,o(f(t,function(t){return t.get("nameMap")})));a.zoomLimit=T.apply(null,f(t,function(t){return t.get("scaleLimit")})),n.push(a),a.resize=Ac,a.aspectScale=t[0].get("aspectScale"),a.resize(t[0],e),d(t,function(t){t.coordinateSystem=a,Dc(a,t)})}),n},"getFilledRegions":function getFilledRegions(t,e,n){for(var i=(t||[]).slice(),o=R(),a=0;a<i.length;a++)o.set(i[a].name,i[a]);return d(JC.load(e,n).regions,function(t){var e=t.name;!o.get(e)&&i.push({"name":e})}),i}};Es("geo",rL),Rs(function(t){var e={};t.eachSeriesByType("map",function(n){var i=n.getMapType();if(!n.getHostGeoModel()&&!e[i]){var o={};d(n.seriesGroup,function(e){var n=e.coordinateSystem,i=e.originalData;e.get("showLegendSymbol")&&t.getComponent("legend")&&i.each(i.mapDimension("value"),function(t,e){var a=i.getName(e),r=n.getRegion(a);if(r&&!isNaN(t)){var s=o[a]||0,l=n.dataToPoint(r.center);o[a]=s+1,i.setItemLayout(e,{"point":l,"offset":s})}})});var a=n.getData();a.each(function(t){var e=a.getName(t),n=a.getItemLayout(t)||{};n.showLabel=!o[e],a.setItemLayout(t,n)}),e[i]=!0}})}),zs(function(t){t.eachSeriesByType("map",function(t){var e=t.get("color"),n=t.getModel("itemStyle"),i=n.get("areaColor"),o=n.get("color")||e[t.seriesIndex%e.length];t.getData().setVisual({"areaColor":i,"color":o})})}),Ns(qT.PROCESSOR.STATISTIC,function(t){var e={};t.eachSeriesByType("map",function(t){var n=t.getHostGeoModel(),i=n?"o"+n.id:"i"+t.getMapType();(e[i]=e[i]||[]).push(t)}),d(e,function(t,e){for(var n=function Cc(t,e){var n={};return d(t,function(t){t.each(t.mapDimension("value"),function(e,i){var o="ec-"+t.getName(i);n[o]=n[o]||[],isNaN(e)||n[o].push(e)})}),t[0].map(t[0].mapDimension("value"),function(i,o){for(var a="ec-"+t[0].getName(o),r=0,s=1/0,l=-1/0,u=n[a].length,h=0;h<u;h++)s=Math.min(s,n[a][h]),l=Math.max(l,n[a][h]),r+=n[a][h];return 0===u?NaN:"min"===e?s:"max"===e?l:"average"===e?r/u:r})}(f(t,function(t){return t.getData()}),t[0].get("mapValueCalculation")),i=0;i<t.length;i++)t[i].originalData=t[i].getData();for(i=0;i<t.length;i++)t[i].seriesGroup=t,t[i].needsDrawMap=0===i&&!t[i].getHostGeoModel(),t[i].setData(n.cloneShallow()),t[i].mainSeries=t[0]})}),Ps(function(t){var e=[];d(t.series,function(t){t&&"map"===t.type&&(e.push(t),t.map=t.map||t.mapType,r(t,t.mapLocation))})}),kC("map",[{"type":"mapToggleSelect","event":"mapselectchanged","method":"toggleSelected"},{"type":"mapSelect","event":"mapselected","method":"select"},{"type":"mapUnSelect","event":"mapunselected","method":"unSelect"}]);var lL=d,uL="\0__link_datas",hL="\0__link_mainData",cL=function FC(t,e){this.name=t||"",this.depth=0,this.height=0,this.parentNode=null,this.dataIndex=-1,this.children=[],this.viewChildren=[],this.hostTree=e};cL.prototype={"constructor":cL,"isRemoved":function isRemoved(){return this.dataIndex<0},"eachNode":function eachNode(t,e,n){"function"==typeof t&&(n=e,e=t,t=null),_(t=t||{})&&(t={"order":t});var i,o=t.order||"preorder",a=this[t.attr||"children"];"preorder"===o&&(i=e.call(n,this));for(var r=0;!i&&r<a.length;r++)a[r].eachNode(t,e,n);"postorder"===o&&e.call(n,this)},"updateDepthAndHeight":function updateDepthAndHeight(t){var e=0;this.depth=t;for(var n=0;n<this.children.length;n++){var i=this.children[n];i.updateDepthAndHeight(t+1),i.height>e&&(e=i.height)}this.height=e+1},"getNodeById":function getNodeById(t){if(this.getId()===t)return this;for(var e=0,n=this.children,i=n.length;e<i;e++){var o=n[e].getNodeById(t);if(o)return o}},"contains":function contains(t){if(t===this)return!0;for(var e=0,n=this.children,i=n.length;e<i;e++){var o=n[e].contains(t);if(o)return o}},"getAncestors":function getAncestors(t){for(var e=[],n=t?this:this.parentNode;n;)e.push(n),n=n.parentNode;return e.reverse(),e},"getValue":function getValue(t){var e=this.hostTree.data;return e.get(e.getDimension(t||"value"),this.dataIndex)},"setLayout":function setLayout(t,e){this.dataIndex>=0&&this.hostTree.data.setItemLayout(this.dataIndex,t,e)},"getLayout":function getLayout(){return this.hostTree.data.getItemLayout(this.dataIndex)},"getModel":function getModel(t){if(!(this.dataIndex<0)){var e,n=this.hostTree,i=n.data.getItemModel(this.dataIndex),o=this.getLevelModel();return o||0!==this.children.length&&(0===this.children.length||!1!==this.isExpand)||(e=this.getLeavesModel()),i.getModel(t,(o||e||n.hostModel).getModel(t))}},"getLevelModel":function getLevelModel(){return(this.hostTree.levelModels||[])[this.depth]},"getLeavesModel":function getLeavesModel(){return this.hostTree.leavesModel},"setVisual":function setVisual(t,e){this.dataIndex>=0&&this.hostTree.data.setItemVisual(this.dataIndex,t,e)},"getVisual":function getVisual(t,e){return this.hostTree.data.getItemVisual(this.dataIndex,t,e)},"getRawIndex":function getRawIndex(){return this.hostTree.data.getRawIndex(this.dataIndex)},"getId":function getId(){return this.hostTree.data.getId(this.dataIndex)},"isAncestorOf":function isAncestorOf(t){for(var e=t.parentNode;e;){if(e===this)return!0;e=e.parentNode}return!1},"isDescendantOf":function isDescendantOf(t){return t!==this&&t.isAncestorOf(this)}},Bc.prototype={"constructor":Bc,"type":"tree","eachNode":function eachNode(t,e,n){this.root.eachNode(t,e,n)},"getNodeByDataIndex":function getNodeByDataIndex(t){var e=this.data.getRawIndex(t);return this._nodes[e]},"getNodeByName":function getNodeByName(t){return this.root.getNodeByName(t)},"update":function update(){for(var t=this.data,e=this._nodes,n=0,i=e.length;n<i;n++)e[n].dataIndex=-1;for(n=0,i=t.count();n<i;n++)e[t.getRawIndex(n)].dataIndex=n},"clearLayouts":function clearLayouts(){this.data.clearItemLayouts()}},Bc.createTree=function(t,e,i){var o=new Bc(e,i.levels,i.leaves),a=[],r=1;(function n(t,e){var i=t.value;r=Math.max(r,y(i)?i.length:1),a.push(t);var s=new cL(t.name,o);e?function Vc(t,e){var n=e.children;t.parentNode!==e&&(n.push(t),t.parentNode=e)}(s,e):o.root=s,o._nodes.push(s);var l=t.children;if(l)for(var u=0;u<l.length;u++)n(l[u],s)})(t),o.root.updateDepthAndHeight(0);var s=kA(a,{"coordDimensions":["value"],"dimensionsCount":r}),l=new DA(s,e);return l.initData(a),Lc({"mainData":l,"struct":o,"structAttr":"tree"}),o.update(),o},oT.extend({"type":"series.tree","layoutInfo":null,"layoutMode":"box","getInitialData":function getInitialData(t){var e={"name":t.name,"children":t.data},n=t.leaves||{},i={};i.leaves=n;var o=Bc.createTree(e,this,i),a=0;o.eachNode("preorder",function(t){t.depth>a&&(a=t.depth)});var r=t.expandAndCollapse&&t.initialTreeDepth>=0?t.initialTreeDepth:a;return o.root.eachNode("preorder",function(t){var e=t.hostTree.data.getRawDataItem(t.dataIndex);t.isExpand=e&&null!=e.collapsed?!e.collapsed:t.depth<=r}),o.data},"getOrient":function getOrient(){var t=this.get("orient");return"horizontal"===t?t="LR":"vertical"===t&&(t="TB"),t},"setZoom":function setZoom(t){this.option.zoom=t},"setCenter":function setCenter(t){this.option.center=t},"formatTooltip":function formatTooltip(t){for(var e=this.getData().tree,n=e.root.children[0],i=e.getNodeByDataIndex(t),o=i.getValue(),a=i.name;i&&i!==n;)a=i.parentNode.name+"."+a,i=i.parentNode;return ea(a+(isNaN(o)||null==o?"":" : "+o))},"defaultOption":{"zlevel":0,"z":2,"coordinateSystem":"view","left":"12%","top":"12%","right":"12%","bottom":"12%","layout":"orthogonal","roam":!1,"nodeScaleRatio":.4,"center":null,"zoom":1,"orient":"LR","symbol":"emptyCircle","symbolSize":7,"expandAndCollapse":!0,"initialTreeDepth":2,"lineStyle":{"color":"#ccc","width":1.5,"curveness":.5},"itemStyle":{"color":"lightsteelblue","borderColor":"#c23531","borderWidth":1.5},"label":{"show":!0,"color":"#555"},"leaves":{"label":{"show":!0}},"animationEasing":"linear","animationDuration":700,"animationDurationUpdate":1e3}}),Hs({"type":"tree","init":function init(t,e){this._oldTree,this._mainGroup=new Zb,this._controller=new nc(e.getZr()),this._controllerHost={"target":this.group},this.group.add(this._mainGroup)},"render":function render(t,e,n,i){var o=t.getData(),a=t.layoutInfo,r=this._mainGroup,s=t.get("layout");"radial"===s?r.attr("position",[a.x+a.width/2,a.y+a.height/2]):r.attr("position",[a.x,a.y]),this._updateViewCoordSys(t),this._updateController(t,e,n);var l=this._data,u={"expandAndCollapse":t.get("expandAndCollapse"),"layout":s,"orient":t.getOrient(),"curvature":t.get("lineStyle.curveness"),"symbolRotate":t.get("symbolRotate"),"symbolOffset":t.get("symbolOffset"),"hoverAnimation":t.get("hoverAnimation"),"useNameLabel":!0,"fadeIn":!0};o.diff(l).add(function(e){Qc(o,e)&&ed(o,e,null,r,t,u)}).update(function(e,n){var i=l.getItemGraphicEl(n);Qc(o,e)?ed(o,e,i,r,t,u):i&&id(l,n,i,r,t,u)}).remove(function(e){var n=l.getItemGraphicEl(e);n&&id(l,e,n,r,t,u)}).execute(),this._nodeScaleRatio=t.get("nodeScaleRatio"),this._updateNodeAndLinkScale(t),!0===u.expandAndCollapse&&o.eachItemGraphicEl(function(e,i){e.off("click").on("click",function(){n.dispatchAction({"type":"treeExpandAndCollapse","seriesId":t.id,"dataIndex":i})})}),this._data=o},"_updateViewCoordSys":function _updateViewCoordSys(t){var e=t.getData(),n=[];e.each(function(t){var i=e.getItemLayout(t);!i||isNaN(i.x)||isNaN(i.y)||n.push([+i.x,+i.y])});var i=[],o=[];dn(n,i,o),o[0]-i[0]==0&&(o[0]+=1,i[0]-=1),o[1]-i[1]==0&&(o[1]+=1,i[1]-=1);var a=t.coordinateSystem=new Sc;a.zoomLimit=t.get("scaleLimit"),a.setBoundingRect(i[0],i[1],o[0]-i[0],o[1]-i[1]),a.setCenter(t.get("center")),a.setZoom(t.get("zoom")),this.group.attr({"position":a.position,"scale":a.scale}),this._viewCoordSys=a},"_updateController":function _updateController(t,e,n){var i=this._controller,o=this._controllerHost,a=this.group;i.setPointerChecker(function(e,i,o){var r=a.getBoundingRect();return r.applyTransform(a.transform),r.contain(i,o)&&!pc(e,n,t)}),i.enable(t.get("roam")),o.zoomLimit=t.get("scaleLimit"),o.zoom=t.coordinateSystem.getZoom(),i.off("pan").off("zoom").on("pan",function(e){dc(o,e.dx,e.dy),n.dispatchAction({"seriesId":t.id,"type":"treeRoam","dx":e.dx,"dy":e.dy})},this).on("zoom",function(e){fc(o,e.scale,e.originX,e.originY),n.dispatchAction({"seriesId":t.id,"type":"treeRoam","zoom":e.scale,"originX":e.originX,"originY":e.originY}),this._updateNodeAndLinkScale(t)},this)},"_updateNodeAndLinkScale":function _updateNodeAndLinkScale(t){var e=t.getData(),n=this._getNodeGlobalScale(t),i=[n,n];e.eachItemGraphicEl(function(t,e){t.attr("scale",i)})},"_getNodeGlobalScale":function _getNodeGlobalScale(t){var e=t.coordinateSystem;if("view"!==e.type)return 1;var n=this._nodeScaleRatio,i=e.scale,o=i&&i[0]||1;return((e.getZoom()-1)*n+1)/o},"dispose":function dispose(){this._controller&&this._controller.dispose(),this._controllerHost={}},"remove":function remove(){this._mainGroup.removeAll(),this._data=null}}),Os({"type":"treeExpandAndCollapse","event":"treeExpandAndCollapse","update":"update"},function(t,e){e.eachComponent({"mainType":"series","subType":"tree","query":t},function(e){var n=t.dataIndex,i=e.getData().tree.getNodeByDataIndex(n);i.isExpand=!i.isExpand})}),Os({"type":"treeRoam","event":"treeRoam","update":"none"},function(t,e){e.eachComponent({"mainType":"series","subType":"tree","query":t},function(e){var n=wc(e.coordinateSystem,t);e.setCenter&&e.setCenter(n.center),e.setZoom&&e.setZoom(n.zoom)})}),zs(FD("tree","circle")),Rs(function(t,e){t.eachSeriesByType("tree",function(t){rd(t,e)})}),oT.extend({"type":"series.treemap","layoutMode":"box","dependencies":["grid","polar"],"_viewRoot":null,"defaultOption":{"progressive":0,"hoverLayerThreshold":1/0,"left":"center","top":"middle","right":null,"bottom":null,"width":"80%","height":"80%","sort":!0,"clipWindow":"origin","squareRatio":.5*(1+Math.sqrt(5)),"leafDepth":null,"drillDownIcon":"▶","zoomToNodeRatio":.1024,"roam":!0,"nodeClick":"zoomToNode","animation":!0,"animationDurationUpdate":900,"animationEasing":"quinticInOut","breadcrumb":{"show":!0,"height":22,"left":"center","top":"bottom","emptyItemWidth":25,"itemStyle":{"color":"rgba(0,0,0,0.7)","borderColor":"rgba(255,255,255,0.7)","borderWidth":1,"shadowColor":"rgba(150,150,150,1)","shadowBlur":3,"shadowOffsetX":0,"shadowOffsetY":0,"textStyle":{"color":"#fff"}},"emphasis":{"textStyle":{}}},"label":{"show":!0,"distance":0,"padding":5,"position":"inside","color":"#fff","ellipsis":!0},"upperLabel":{"show":!1,"position":[0,"50%"],"height":20,"color":"#fff","ellipsis":!0,"verticalAlign":"middle"},"itemStyle":{"color":null,"colorAlpha":null,"colorSaturation":null,"borderWidth":0,"gapWidth":0,"borderColor":"#fff","borderColorSaturation":null},"emphasis":{"upperLabel":{"show":!0,"position":[0,"50%"],"color":"#fff","ellipsis":!0,"verticalAlign":"middle"}},"visualDimension":0,"visualMin":null,"visualMax":null,"color":[],"colorAlpha":null,"colorSaturation":null,"colorMappingBy":"index","visibleMin":10,"childrenVisibleMin":null,"levels":[]},"getInitialData":function getInitialData(t,e){var n={"name":t.name,"children":t.data};!function cd(t){var e=0;d(t.children,function(t){cd(t);var n=t.value;y(n)&&(n=n[0]),e+=n});var n=t.value;y(n)&&(n=n[0]),(null==n||isNaN(n))&&(n=e),n<0&&(n=0),y(t.value)?t.value[0]=n:t.value=n}(n);var i=t.levels||[];i=t.levels=function dd(t,e){var n,i=e.get("color");if(i)return d(t=t||[],function(t){var e=new Po(t),i=e.get("color");(e.get("itemStyle.color")||i&&"none"!==i)&&(n=!0)}),n||((t[0]||(t[0]={})).color=i.slice()),t}(i,e);var o={};return o.levels=i,Bc.createTree(n,this,o).data},"optionUpdated":function optionUpdated(){this.resetViewRoot()},"formatTooltip":function formatTooltip(t){var e=this.getData(),n=this.getRawValue(t),i=Qo(y(n)?n[0]:n);return ea(e.getName(t)+": "+i)},"getDataParams":function getDataParams(t){var e=oT.prototype.getDataParams.apply(this,arguments),n=this.getData().tree.getNodeByDataIndex(t);return e.treePathInfo=hd(n,this),e},"setLayoutInfo":function setLayoutInfo(t){this.layoutInfo=this.layoutInfo||{},a(this.layoutInfo,t)},"mapIdToIndex":function mapIdToIndex(t){var e=this._idIndexMap;e||(e=this._idIndexMap=R(),this._idIndexMapCount=0);var n=e.get(t);return null==n&&e.set(t,n=this._idIndexMapCount++),n},"getViewRoot":function getViewRoot(){return this._viewRoot},"resetViewRoot":function resetViewRoot(t){t?this._viewRoot=t:t=this._viewRoot;var e=this.getRawData().tree.root;t&&(t===e||e.contains(t))||(this._viewRoot=e)}});var dL=5;fd.prototype={"constructor":fd,"render":function render(t,e,n,i){var o=t.getModel("breadcrumb"),a=this.group;if(a.removeAll(),o.get("show")&&n){var r=o.getModel("itemStyle"),s=r.getModel("textStyle"),l={"pos":{"left":o.get("left"),"right":o.get("right"),"top":o.get("top"),"bottom":o.get("bottom")},"box":{"width":e.getWidth(),"height":e.getHeight()},"emptyItemWidth":o.get("emptyItemWidth"),"totalWidth":0,"renderList":[]};this._prepare(n,l,s),this._renderContent(t,l,r,s,i),ca(a,l.pos,l.box)}},"_prepare":function _prepare(t,e,n){for(var i=t;i;i=i.parentNode){var o=i.getModel().get("name"),a=n.getTextRect(o),r=Math.max(a.width+16,e.emptyItemWidth);e.totalWidth+=r+8,e.renderList.push({"node":i,"text":o,"width":r})}},"_renderContent":function _renderContent(t,e,n,i,o){for(var a=0,s=e.emptyItemWidth,l=t.get("breadcrumb.height"),u=function ua(t,e,n){var i=e.width,o=e.height,a=Bo(t.x,i),r=Bo(t.y,o),s=Bo(t.x2,i),l=Bo(t.y2,o);return(isNaN(a)||isNaN(parseFloat(t.x)))&&(a=0),(isNaN(s)||isNaN(parseFloat(t.x2)))&&(s=i),(isNaN(r)||isNaN(parseFloat(t.y)))&&(r=0),(isNaN(l)||isNaN(parseFloat(t.y2)))&&(l=o),n=eI(n||0),{"width":Math.max(s-a-n[1]-n[3],0),"height":Math.max(l-r-n[0]-n[2],0)}}(e.pos,e.box),h=e.totalWidth,c=e.renderList,d=c.length-1;d>=0;d--){var f=c[d],p=f.node,g=f.width,m=f.text;h>u.width&&(h-=g-s,g=s,m=null);var y=new vM({"shape":{"points":pd(a,0,g,l,d===c.length-1,0===d)},"style":r(n.getItemStyle(),{"lineJoin":"bevel","text":m,"textFill":i.getTextColor(),"textFont":i.getFont()}),"z":10,"onclick":v(o,p)});this.group.add(y),gd(y,t,p),a+=g+8}},"remove":function remove(){this.group.removeAll()}};var fL=m,pL=Zb,gL=bM,mL=d,vL=["label"],yL=["emphasis","label"],xL=["upperLabel"],_L=["emphasis","upperLabel"],bL=10,wL=1,SL=2,ML=Yw([["fill","color"],["stroke","strokeColor"],["lineWidth","strokeWidth"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),TL=function eL(t){var e=ML(t);return e.stroke=e.fill=e.lineWidth=null,e};Hs({"type":"treemap","init":function init(t,e){this._containerGroup,this._storage={"nodeGroup":[],"background":[],"content":[]},this._oldTree,this._breadcrumb,this._controller,this._state="ready"},"render":function render(t,e,n,i){if(!(l(e.findComponents({"mainType":"series","subType":"treemap","query":i}),t)<0)){this.seriesModel=t,this.api=n,this.ecModel=e;var o=sd(i,["treemapZoomToNode","treemapRootToNode"],t),a=i&&i.type,r=t.layoutInfo,s=!this._oldTree,u=this._storage,h="treemapRootToNode"===a&&o&&u?{"rootNodeGroup":u.nodeGroup[o.node.getRawIndex()],"direction":i.direction}:null,c=this._giveContainerGroup(r),d=this._doRender(c,t,h);s||a&&"treemapZoomToNode"!==a&&"treemapRootToNode"!==a?d.renderFinally():this._doAnimation(c,d,t,h),this._resetController(n),this._renderBreadcrumb(t,n,o)}},"_giveContainerGroup":function _giveContainerGroup(t){var e=this._containerGroup;return e||(e=this._containerGroup=new pL,this._initEvents(e),this.group.add(e)),e.attr("position",[t.x,t.y]),e},"_doRender":function _doRender(t,e,i){var o=e.getData().tree,a=this._oldTree,l={"nodeGroup":[],"background":[],"content":[]},u={"nodeGroup":[],"background":[],"content":[]},h=this._storage,c=[],d=v(vd,e,u,h,i,l,c);!function n(t,e,i,o,a){function r(t){return t.getId()}function s(r,s){var l=null!=r?t[r]:null,u=null!=s?e[s]:null,h=d(l,u,i,a);h&&n(l&&l.viewChildren||[],u&&u.viewChildren||[],h,o,a+1)}o?(e=t,mL(t,function(t,e){!t.isRemoved()&&s(e,e)})):new Us(e,t,r,r).add(s).update(s).remove(v(s,null)).execute()}(o.root?[o.root]:[],a&&a.root?[a.root]:[],t,o===a||!a,0);var f=function(t){var e={"nodeGroup":[],"background":[],"content":[]};return h&&mL(h,function(t,n){var i=e[n];mL(t,function(t){t&&(i.push(t),t.__tmWillDelete=1)})}),e}();return this._oldTree=o,this._storage=u,{"lastsForAnimation":l,"willDeleteEls":f,"renderFinally":function renderFinally(){mL(f,function(t){mL(t,function(t){t.parent&&t.parent.remove(t)})}),mL(c,function(t){t.invisible=!0,t.dirty()})}}},"_doAnimation":function _doAnimation(t,e,n,i){if(n.get("animation")){var o=n.get("animationDurationUpdate"),r=n.get("animationEasing"),s=function md(){var t,e=[],n={};return{"add":function add(t,i,o,a,r){return _(a)&&(r=a,a=0),!n[t.id]&&(n[t.id]=1,e.push({"el":t,"target":i,"time":o,"delay":a,"easing":r}),!0)},"done":function done(e){return t=e,this},"start":function start(){for(var i=e.length,o=0,a=e.length;o<a;o++){var r=e[o];r.el.animateTo(r.target,r.time,r.delay,r.easing,function(){--i||(e.length=0,n={},t&&t())})}return this}}}();mL(e.willDeleteEls,function(t,e){mL(t,function(t,n){if(!t.invisible){var a,l=t.parent;if(i&&"drillDown"===i.direction)a=l===i.rootNodeGroup?{"shape":{"x":0,"y":0,"width":l.__tmNodeWidth,"height":l.__tmNodeHeight},"style":{"opacity":0}}:{"style":{"opacity":0}};else{var u=0,h=0;l.__tmWillDelete||(u=l.__tmNodeWidth/2,h=l.__tmNodeHeight/2),a="nodeGroup"===e?{"position":[u,h],"style":{"opacity":0}}:{"shape":{"x":u,"y":h,"width":0,"height":0},"style":{"opacity":0}}}a&&s.add(t,a,o,r)}})}),mL(this._storage,function(t,n){mL(t,function(t,i){var l=e.lastsForAnimation[n][i],u={};l&&("nodeGroup"===n?l.old&&(u.position=t.position.slice(),t.attr("position",l.old)):(l.old&&(u.shape=a({},t.shape),t.setShape(l.old)),l.fadein?(t.setStyle("opacity",0),u.style={"opacity":1}):1!==t.style.opacity&&(u.style={"opacity":1})),s.add(t,u,o,r))})},this),this._state="animating",s.done(fL(function(){this._state="ready",e.renderFinally()},this)).start()}},"_resetController":function _resetController(t){var e=this._controller;e||((e=this._controller=new nc(t.getZr())).enable(this.seriesModel.get("roam")),e.on("pan",fL(this._onPan,this)),e.on("zoom",fL(this._onZoom,this)));var n=new de(0,0,t.getWidth(),t.getHeight());e.setPointerChecker(function(t,e,i){return n.contain(e,i)})},"_clearController":function _clearController(){var t=this._controller;t&&(t.dispose(),t=null)},"_onPan":function _onPan(t){if("animating"!==this._state&&(Math.abs(t.dx)>3||Math.abs(t.dy)>3)){var e=this.seriesModel.getData().tree.root;if(!e)return;var n=e.getLayout();if(!n)return;this.api.dispatchAction({"type":"treemapMove","from":this.uid,"seriesId":this.seriesModel.id,"rootRect":{"x":n.x+t.dx,"y":n.y+t.dy,"width":n.width,"height":n.height}})}},"_onZoom":function _onZoom(t){var e=t.originX,n=t.originY;if("animating"!==this._state){var i=this.seriesModel.getData().tree.root;if(!i)return;var o=i.getLayout();if(!o)return;var a=new de(o.x,o.y,o.width,o.height),r=this.seriesModel.layoutInfo;e-=r.x,n-=r.y;var s=xt();St(s,s,[-e,-n]),It(s,s,[t.scale,t.scale]),St(s,s,[e,n]),a.applyTransform(s),this.api.dispatchAction({"type":"treemapRender","from":this.uid,"seriesId":this.seriesModel.id,"rootRect":{"x":a.x,"y":a.y,"width":a.width,"height":a.height}})}},"_initEvents":function _initEvents(t){t.on("click",function(t){if("ready"===this._state){var e=this.seriesModel.get("nodeClick",!0);if(e){var n=this.findTarget(t.offsetX,t.offsetY);if(n){var i=n.node;if(i.getLayout().isLeafRoot)this._rootToNode(n);else if("zoomToNode"===e)this._zoomToNode(n);else if("link"===e){var o=i.hostTree.data.getItemModel(i.dataIndex),a=o.get("link",!0),r=o.get("target",!0)||"blank";a&&window.open(a,r)}}}}},this)},"_renderBreadcrumb":function _renderBreadcrumb(t,e,n){n||(n=null!=t.get("leafDepth",!0)?{"node":t.getViewRoot()}:this.findTarget(e.getWidth()/2,e.getHeight()/2))||(n={"node":t.getData().tree.root}),(this._breadcrumb||(this._breadcrumb=new fd(this.group))).render(t,e,n.node,fL(function(e){"animating"!==this._state&&(ud(t.getViewRoot(),e)?this._rootToNode({"node":e}):this._zoomToNode({"node":e}))},this))},"remove":function remove(){this._clearController(),this._containerGroup&&this._containerGroup.removeAll(),this._storage={"nodeGroup":[],"background":[],"content":[]},this._state="ready",this._breadcrumb&&this._breadcrumb.remove()},"dispose":function dispose(){this._clearController()},"_zoomToNode":function _zoomToNode(t){this.api.dispatchAction({"type":"treemapZoomToNode","from":this.uid,"seriesId":this.seriesModel.id,"targetNode":t.node})},"_rootToNode":function _rootToNode(t){this.api.dispatchAction({"type":"treemapRootToNode","from":this.uid,"seriesId":this.seriesModel.id,"targetNode":t.node})},"findTarget":function findTarget(t,e){var n;return this.seriesModel.getViewRoot().eachNode({"attr":"viewChildren","order":"preorder"},function(i){var o=this._storage.background[i.getRawIndex()];if(o){var a=o.transformCoordToLocal(t,e),r=o.shape;if(!(r.x<=a[0]&&a[0]<=r.x+r.width&&r.y<=a[1]&&a[1]<=r.y+r.height))return!1;n={"node":i,"offsetX":a[0],"offsetY":a[1]}}},this),n}});for(var AL=["treemapZoomToNode","treemapRender","treemapMove"],DL=0;DL<AL.length;DL++)Os({"type":AL[DL],"update":"updateView"},function(){});Os({"type":"treemapRootToNode","update":"updateView"},function(t,e){e.eachComponent({"mainType":"series","subType":"treemap","query":t},function(e,n){var i=sd(t,["treemapZoomToNode","treemapRootToNode"],e);if(i){var o=e.getViewRoot();o&&(t.direction=ud(o,i.node)?"rollUp":"drillDown"),e.resetViewRoot(i.node)}})});var CL=d,LL=w,kL=-1,PL=function sL(t){var e=t.mappingMethod,n=t.type,o=this.option=i(t);this.type=n,this.mappingMethod=e,this._normalizeData=RL[e];var a=OL[n];this.applyVisual=a.applyVisual,this.getColorMapper=a.getColorMapper,this._doMap=a._doMap[e],"piecewise"===e?(wd(o),function xd(t){var e=t.pieceList;t.hasSpecialVisual=!1,d(e,function(e,n){e.originIndex=n,null!=e.visual&&(t.hasSpecialVisual=!0)})}(o)):"category"===e?o.categories?function _d(t){var e=t.categories,n=t.visual,i=t.categoryMap={};if(CL(e,function(t,e){i[t]=e}),!y(n)){var o=[];w(n)?CL(n,function(t,e){var n=i[e];o[null!=n?n:kL]=t}):o[kL]=n,n=Cd(t,o)}for(var a=e.length-1;a>=0;a--)null==n[a]&&(delete i[e[a]],e.pop())}(o):wd(o,!0):(k("linear"!==e||o.dataExtent),wd(o))};PL.prototype={"constructor":PL,"mapValueToVisual":function mapValueToVisual(t){var e=this._normalizeData(t);return this._doMap(e,t)},"getNormalizer":function getNormalizer(){return m(this._normalizeData,this)}};var OL=PL.visualHandlers={"color":{"applyVisual":Md("color"),"getColorMapper":function getColorMapper(){var t=this.option;return m("category"===t.mappingMethod?function(t,e){return!e&&(t=this._normalizeData(t)),Id.call(this,t)}:function(e,n,i){var o=!!i;return!n&&(e=this._normalizeData(e)),i=Ut(e,t.parsedVisual,i),o?i:qt(i,"rgba")},this)},"_doMap":{"linear":function linear(t){return qt(Ut(t,this.option.parsedVisual),"rgba")},"category":Id,"piecewise":function piecewise(t,e){var n=Dd.call(this,e);return null==n&&(n=qt(Ut(t,this.option.parsedVisual),"rgba")),n},"fixed":Td}},"colorHue":bd(function(t,e){return jt(t,e)}),"colorSaturation":bd(function(t,e){return jt(t,null,e)}),"colorLightness":bd(function(t,e){return jt(t,null,null,e)}),"colorAlpha":bd(function(t,e){return Yt(t,e)}),"opacity":{"applyVisual":Md("opacity"),"_doMap":Ad([0,1])},"liftZ":{"applyVisual":Md("liftZ"),"_doMap":{"linear":Td,"category":Td,"piecewise":Td,"fixed":Td}},"symbol":{"applyVisual":function applyVisual(t,e,n){var i=this.mapValueToVisual(t);if(_(i))n("symbol",i);else if(LL(i))for(var o in i)i.hasOwnProperty(o)&&n(o,i[o])},"_doMap":{"linear":Sd,"category":Id,"piecewise":function piecewise(t,e){var n=Dd.call(this,e);return null==n&&(n=Sd.call(this,t)),n},"fixed":Td}},"symbolSize":{"applyVisual":Md("symbolSize"),"_doMap":Ad([0,1])}},RL={"linear":function linear(t){return zo(t,this.option.dataExtent,[0,1],!0)},"piecewise":function piecewise(t){var e=this.option.pieceList,n=PL.findPieceIndex(t,e,!0);if(null!=n)return zo(n,[0,e.length-1],[0,1],!0)},"category":function category(t){var e=this.option.categories?this.option.categoryMap[t]:t;return null==e?kL:e},"fixed":B};PL.listVisualTypes=function(){var t=[];return d(OL,function(e,n){t.push(n)}),t},PL.addVisualHandler=function(t,e){OL[t]=e},PL.isValidType=function(t){return OL.hasOwnProperty(t)},PL.eachVisual=function(t,e,n){w(t)?d(t,e,n):e.call(n,t)},PL.mapVisual=function(t,e,n){var i,o=y(t)?[]:w(t)?{}:(i=!0,null);return PL.eachVisual(t,function(t,a){var r=e.call(n,t,a);i?o=r:o[a]=r}),o},PL.retrieveVisuals=function(t){var e,n={};return t&&CL(OL,function(i,o){t.hasOwnProperty(o)&&(n[o]=t[o],e=!0)}),e?n:null},PL.prepareVisualTypes=function(t){if(LL(t)){var e=[];CL(t,function(t,n){e.push(n)}),t=e}else{if(!y(t))return[];t=t.slice()}return t.sort(function(t,e){return"color"===e&&"color"!==t&&0===t.indexOf("color")?1:-1}),t},PL.dependsOn=function(t,e){return"color"===e?!(!t||0!==t.indexOf(e)):t===e},PL.findPieceIndex=function(t,e,i){function n(e,n){var i=Math.abs(e-t);i<a&&(a=i,o=n)}for(var o,a=1/0,r=0,s=e.length;r<s;r++){var l=e[r].value;if(null!=l){if(l===t||"string"==typeof l&&l===t+"")return r;i&&n(l,r)}}for(r=0,s=e.length;r<s;r++){var u=e[r],h=u.interval,c=u.close;if(h){if(h[0]===-1/0){if(Ld(c[1],t,h[1]))return r}else if(h[1]===1/0){if(Ld(c[0],h[0],t))return r}else if(Ld(c[0],h[0],t)&&Ld(c[1],t,h[1]))return r;i&&n(h[0],r),i&&n(h[1],r)}}if(i)return t===1/0?e.length-1:t===-1/0?0:o};var NL=y,EL="itemStyle",zL={"seriesType":"treemap","reset":function reset(t,e,n,i){var o=t.getData().tree,a=o.root,r=t.getModel(EL);a.isRemoved()||kd(a,{},f(o.levelModels,function(t){return t?t.get(EL):null}),r,t.getViewRoot().getAncestors(),t)}},BL=Math.max,GL=Math.min,FL=T,HL=d,WL=["itemStyle","borderWidth"],jL=["itemStyle","gapWidth"],ZL=["upperLabel","show"],UL=["upperLabel","height"],XL={"seriesType":"treemap","reset":function reset(t,e,n,i){var o=n.getWidth(),r=n.getHeight(),s=t.option,l=ha(t.getBoxLayoutParams(),{"width":n.getWidth(),"height":n.getHeight()}),u=s.size||[],h=Bo(FL(l.width,u[0]),o),c=Bo(FL(l.height,u[1]),r),d=i&&i.type,f=sd(i,["treemapZoomToNode","treemapRootToNode"],t),p="treemapRender"===d||"treemapMove"===d?i.rootRect:null,g=t.getViewRoot(),m=ld(g);if("treemapMove"!==d){var v="treemapZoomToNode"===d?function Xd(t,e,n,i,o){var a=(e||{}).node,r=[i,o];if(!a||a===n)return r;for(var s,l=i*o,u=l*t.option.zoomToNodeRatio;s=a.parentNode;){for(var h=0,c=s.children,d=0,f=c.length;d<f;d++)h+=c[d].getValue();var p=a.getValue();if(0===p)return r;u*=h/p;var g=s.getModel(),m=g.get(WL);(u+=4*m*m+(3*m+Math.max(m,qd(g)))*Math.pow(u,.5))>QM&&(u=QM),a=s}u<l&&(u=l);var v=Math.pow(u/l,.5);return[i*v,o*v]}(t,f,g,h,c):p?[p.width,p.height]:[h,c],y=s.sort;y&&"asc"!==y&&"desc"!==y&&(y="desc");var x={"squareRatio":s.squareRatio,"sort":y,"leafDepth":s.leafDepth};g.hostTree.clearLayouts(),_={"x":0,"y":0,"width":v[0],"height":v[1],"area":v[0]*v[1]},g.setLayout(_),function Vd(t,e,n,i){var o,a;if(!t.isRemoved()){var r=t.getLayout();o=r.width,a=r.height;var s=(f=t.getModel()).get(WL),l=f.get(jL)/2,u=qd(f),h=Math.max(s,u),c=s-l,d=h-l,f=t.getModel();t.setLayout({"borderWidth":s,"upperHeight":h,"upperLabelHeight":u},!0);var p=(o=BL(o-2*c,0))*(a=BL(a-c-d,0)),g=Gd(t,f,p,e,n,i);if(g.length){var m={"x":c,"y":d,"width":o,"height":a},v=GL(o,a),y=1/0,x=[];x.area=0;for(var _=0,b=g.length;_<b;){var w=g[_];x.push(w),x.area+=w.getLayout().area;var S=Zd(x,v,e.squareRatio);S<=y?(_++,y=S):(x.area-=x.pop().getLayout().area,Ud(x,v,m,l,!1),v=GL(m.width,m.height),x.length=x.area=0,y=1/0)}if(x.length&&Ud(x,v,m,l,!0),!n){var M=f.get("childrenVisibleMin");null!=M&&p<M&&(n=!0)}for(_=0,b=g.length;_<b;_++)Vd(g[_],e,n,i+1)}}}(g,x,!1,0);var _=g.getLayout();HL(m,function(t,e){var n=(m[e+1]||g).getValue();t.setLayout(a({"dataExtent":[n,n],"borderWidth":0,"upperHeight":0},_))})}var b=t.getData().tree.root;b.setLayout(function jd(t,e,n){if(e)return{"x":e.x,"y":e.y};var i={"x":0,"y":0};if(!n)return i;var o=n.node,a=o.getLayout();if(!a)return i;for(var r=[a.width/2,a.height/2],s=o;s;){var l=s.getLayout();r[0]+=l.x,r[1]+=l.y,s=s.parentNode}return{"x":t.width/2-r[0],"y":t.height/2-r[1]}}(l,p,f),!0),t.setLayoutInfo(l),function Yd(t,e,n,i,o){var a=t.getLayout(),r=n[o],s=r&&r===t;if(!(r&&!s||o===n.length&&t!==i)){t.setLayout({"isInView":!0,"invisible":!s&&!e.intersect(a),"isAboveViewRoot":s},!0);var l=new de(e.x-a.x,e.y-a.y,e.width,e.height);HL(t.viewChildren||[],function(t){Yd(t,l,n,i,o+1)})}}(b,new de(-l.x,-l.y,o,r),m,g,0)}};zs(zL),Rs(XL);var $L=function bL(t){this._directed=t||!1,this.nodes=[],this.edges=[],this._nodesMap={},this._edgesMap={},this.data,this.edgeData},KL=$L.prototype;KL.type="graph",KL.isDirected=function(){return this._directed},KL.addNode=function(t,e){t=t||""+e;var n=this._nodesMap;if(!n[Kd(t)]){var i=new $d(t,e);return i.hostGraph=this,this.nodes.push(i),n[Kd(t)]=i,i}},KL.getNodeByIndex=function(t){var e=this.data.getRawIndex(t);return this.nodes[e]},KL.getNodeById=function(t){return this._nodesMap[Kd(t)]},KL.addEdge=function(t,e,n){var i=this._nodesMap,o=this._edgesMap;if("number"==typeof t&&(t=this.nodes[t]),"number"==typeof e&&(e=this.nodes[e]),$d.isInstance(t)||(t=i[Kd(t)]),$d.isInstance(e)||(e=i[Kd(e)]),t&&e){var a=t.id+"-"+e.id;if(!o[a]){var r=new Jd(t,e,n);return r.hostGraph=this,this._directed&&(t.outEdges.push(r),e.inEdges.push(r)),t.edges.push(r),t!==e&&e.edges.push(r),this.edges.push(r),o[a]=r,r}}},KL.getEdgeByIndex=function(t){var e=this.edgeData.getRawIndex(t);return this.edges[e]},KL.getEdge=function(t,e){$d.isInstance(t)&&(t=t.id),$d.isInstance(e)&&(e=e.id);var n=this._edgesMap;return this._directed?n[t+"-"+e]:n[t+"-"+e]||n[e+"-"+t]},KL.eachNode=function(t,e){for(var n=this.nodes,i=n.length,o=0;o<i;o++)n[o].dataIndex>=0&&t.call(e,n[o],o)},KL.eachEdge=function(t,e){for(var n=this.edges,i=n.length,o=0;o<i;o++)n[o].dataIndex>=0&&n[o].node1.dataIndex>=0&&n[o].node2.dataIndex>=0&&t.call(e,n[o],o)},KL.breadthFirstTraverse=function(t,e,n,i){if($d.isInstance(e)||(e=this._nodesMap[Kd(e)]),e){for(var o="out"===n?"outEdges":"in"===n?"inEdges":"edges",a=0;a<this.nodes.length;a++)this.nodes[a].__visited=!1;if(!t.call(i,e,null))for(var r=[e];r.length;){var s=r.shift(),l=s[o];for(a=0;a<l.length;a++){var u=l[a],h=u.node1===s?u.node2:u.node1;if(!h.__visited){if(t.call(i,h,s))return;r.push(h),h.__visited=!0}}}}},KL.update=function(){for(var t=this.data,e=this.edgeData,n=this.nodes,i=this.edges,o=0,a=n.length;o<a;o++)n[o].dataIndex=-1;for(o=0,a=t.count();o<a;o++)n[t.getRawIndex(o)].dataIndex=o;e.filterSelf(function(t){var n=i[e.getRawIndex(t)];return n.node1.dataIndex>=0&&n.node2.dataIndex>=0});for(o=0,a=i.length;o<a;o++)i[o].dataIndex=-1;for(o=0,a=e.count();o<a;o++)i[e.getRawIndex(o)].dataIndex=o},KL.clone=function(){for(var t=new $L(this._directed),e=this.nodes,n=this.edges,i=0;i<e.length;i++)t.addNode(e[i].id,e[i].dataIndex);for(i=0;i<n.length;i++){var o=n[i];t.addEdge(o.node1.id,o.node2.id,o.dataIndex)}return t},$d.prototype={"constructor":$d,"degree":function degree(){return this.edges.length},"inDegree":function inDegree(){return this.inEdges.length},"outDegree":function outDegree(){return this.outEdges.length},"getModel":function getModel(t){if(!(this.dataIndex<0))return this.hostGraph.data.getItemModel(this.dataIndex).getModel(t)}},Jd.prototype.getModel=function(t){if(!(this.dataIndex<0))return this.hostGraph.edgeData.getItemModel(this.dataIndex).getModel(t)};var QL=function ML(t,e){return{"getValue":function getValue(n){var i=this[t][e];return i.get(i.getDimension(n||"value"),this.dataIndex)},"setVisual":function setVisual(n,i){this.dataIndex>=0&&this[t][e].setItemVisual(this.dataIndex,n,i)},"getVisual":function getVisual(n,i){return this[t][e].getItemVisual(this.dataIndex,n,i)},"setLayout":function setLayout(n,i){this.dataIndex>=0&&this[t][e].setItemLayout(this.dataIndex,n,i)},"getLayout":function getLayout(){return this[t][e].getItemLayout(this.dataIndex)},"getGraphicEl":function getGraphicEl(){return this[t][e].getItemGraphicEl(this.dataIndex)},"getRawIndex":function getRawIndex(){return this[t][e].getRawIndex(this.dataIndex)}}};h($d,QL("hostGraph","data")),h(Jd,QL("hostGraph","edgeData")),$L.Node=$d,$L.Edge=Jd,ji($d),ji(Jd);var JL=function IL(t,e,n,i,o){for(var a=new $L(i),r=0;r<t.length;r++)a.addNode(T(t[r].id,t[r].name,r),r);var s=[],u=[],h=0;for(r=0;r<e.length;r++){var c=e[r],d=c.source,f=c.target;a.addEdge(d,f,h)&&(u.push(c),s.push(T(c.id,d+" > "+f)),h++)}var p,g=n.get("coordinateSystem");if("cartesian2d"===g||"polar"===g)p=gl(t,n);else{var m=Ga.get(g),v=m&&"view"!==m.type&&m.dimensions||[];l(v,"value")<0&&v.concat(["value"]);var y=kA(t,{"coordDimensions":v});(p=new DA(y,n)).initData(t)}var x=new DA(["value"],n);return x.initData(u,s),o&&o(p,x),Lc({"mainData":p,"struct":a,"structAttr":"graph","datas":{"node":p,"edge":x},"datasAttr":{"node":"data","edge":"edgeData"}}),a.update(),a},tk=Ws({"type":"series.graph","init":function init(t){tk.superApply(this,"init",arguments),this.legendDataProvider=function(){return this._categoriesData},this.fillDataTextStyle(t.edges||t.links),this._updateCategoriesData()},"mergeOption":function mergeOption(t){tk.superApply(this,"mergeOption",arguments),this.fillDataTextStyle(t.edges||t.links),this._updateCategoriesData()},"mergeDefaultAndTheme":function mergeDefaultAndTheme(t){tk.superApply(this,"mergeDefaultAndTheme",arguments),Ci(t,["edgeLabel"],["show"])},"getInitialData":function getInitialData(t,e){var i=t.edges||t.links||[],o=t.data||t.nodes||[],a=this;if(o&&i)return JL(o,i,this,!0,function(t,i){function n(t){return(t=this.parsePath(t))&&"label"===t[0]?r:t&&"emphasis"===t[0]&&"label"===t[1]?l:this.parentModel}t.wrapMethod("getItemModel",function(t){var e=a._categoriesModels[t.getShallow("category")];return e&&(e.parentModel=t.parentModel,t.parentModel=e),t});var o=a.getModel("edgeLabel"),r=new Po({"label":o.option},o.parentModel,e),s=a.getModel("emphasis.edgeLabel"),l=new Po({"emphasis":{"label":s.option}},s.parentModel,e);i.wrapMethod("getItemModel",function(t){return t.customizeGetParent(n),t})}).data},"getGraph":function getGraph(){return this.getData().graph},"getEdgeData":function getEdgeData(){return this.getGraph().edgeData},"getCategoriesData":function getCategoriesData(){return this._categoriesData},"formatTooltip":function formatTooltip(t,e,n){if("edge"===n){var i=this.getData(),o=this.getDataParams(t,n),a=i.graph.getEdgeByIndex(t),r=i.getName(a.node1.dataIndex),s=i.getName(a.node2.dataIndex),l=[];return null!=r&&l.push(r),null!=s&&l.push(s),l=ea(l.join(" > ")),o.value&&(l+=" : "+ea(o.value)),l}return tk.superApply(this,"formatTooltip",arguments)},"_updateCategoriesData":function _updateCategoriesData(){var t=f(this.option.categories||[],function(t){return null!=t.value?t:a({"value":0},t)}),e=new DA(["value"],this);e.initData(t),this._categoriesData=e,this._categoriesModels=e.mapArray(function(t){return e.getItemModel(t,!0)})},"setZoom":function setZoom(t){this.option.zoom=t},"setCenter":function setCenter(t){this.option.center=t},"isAnimationEnabled":function isAnimationEnabled(){return tk.superCall(this,"isAnimationEnabled")&&!("force"===this.get("layout")&&this.get("force.layoutAnimation"))},"defaultOption":{"zlevel":0,"z":2,"coordinateSystem":"view","legendHoverLink":!0,"hoverAnimation":!0,"layout":null,"focusNodeAdjacency":!1,"circular":{"rotateLabel":!1},"force":{"initLayout":null,"repulsion":[0,50],"gravity":.1,"edgeLength":30,"layoutAnimation":!0},"left":"center","top":"center","symbol":"circle","symbolSize":10,"edgeSymbol":["none","none"],"edgeSymbolSize":10,"edgeLabel":{"position":"middle"},"draggable":!1,"roam":!1,"center":null,"zoom":1,"nodeScaleRatio":.6,"label":{"show":!1,"formatter":"{b}"},"itemStyle":{},"lineStyle":{"color":"#aaa","width":1,"curveness":0,"opacity":.5},"emphasis":{"label":{"show":!0}}}}),ek=SM.prototype,nk=AM.prototype,ik=Zn({"type":"ec-line","style":{"stroke":"#000","fill":null},"shape":{"x1":0,"y1":0,"x2":0,"y2":0,"percent":1,"cpx1":null,"cpy1":null},"buildPath":function buildPath(t,e){(Qd(e)?ek:nk).buildPath(t,e)},"pointAt":function pointAt(t){return Qd(this.shape)?ek.pointAt.call(this,t):nk.pointAt.call(this,t)},"tangentAt":function tangentAt(t){var e=this.shape,n=Qd(e)?[e.x2-e.x1,e.y2-e.y1]:nk.tangentAt.call(this,t);return q(n,n)}}),ok=["fromSymbol","toSymbol"],ak=af.prototype;ak.beforeUpdate=function(){var t=this,e=t.childOfName("fromSymbol"),n=t.childOfName("toSymbol"),i=t.childOfName("label");if(e||n||!i.ignore){for(var o=1,a=this.parent;a;)a.scale&&(o/=a.scale[0]),a=a.parent;var r=t.childOfName("line");if(this.__dirty||r.__dirty){var s=r.shape.percent,l=r.pointAt(0),u=r.pointAt(s),h=U([],u,l);if(q(h,h),e&&(e.attr("position",l),c=r.tangentAt(0),e.attr("rotation",Math.PI/2-Math.atan2(c[1],c[0])),e.attr("scale",[o*s,o*s])),n){n.attr("position",u);var c=r.tangentAt(1);n.attr("rotation",-Math.PI/2-Math.atan2(c[1],c[0])),n.attr("scale",[o*s,o*s])}if(!i.ignore){i.attr("position",u);var d,f,p,g=5*o;if("end"===i.__position)d=[h[0]*g+u[0],h[1]*g+u[1]],f=h[0]>.8?"left":h[0]<-.8?"right":"center",p=h[1]>.8?"top":h[1]<-.8?"bottom":"middle";else if("middle"===i.__position){var m=s/2,v=[(c=r.tangentAt(m))[1],-c[0]],y=r.pointAt(m);v[1]>0&&(v[0]=-v[0],v[1]=-v[1]),d=[y[0]+v[0]*g,y[1]+v[1]*g],f="center",p="bottom";var x=-Math.atan2(c[1],c[0]);u[0]<l[0]&&(x=Math.PI+x),i.attr("rotation",x)}else d=[-h[0]*g+l[0],-h[1]*g+l[1]],f=h[0]>.8?"right":h[0]<-.8?"left":"center",p=h[1]>.8?"bottom":h[1]<-.8?"top":"middle";i.attr({"style":{"textVerticalAlign":i.__verticalAlign||p,"textAlign":i.__textAlign||f},"position":d,"scale":[o,o]})}}}},ak._createLine=function(t,e,n){var i=t.hostModel,o=function nf(t){var e=new ik({"name":"line"});return of(e.shape,t),e}(t.getItemLayout(e));o.shape.percent=0,Io(o,{"shape":{"percent":1}},i,e),this.add(o);var a=new rM({"name":"label"});this.add(a),d(ok,function(n){var i=ef(n,t,e);this.add(i),this[tf(n)]=t.getItemVisual(e,n)},this),this._updateCommonStl(t,e,n)},ak.updateData=function(t,e,n){var i=t.hostModel,o=this.childOfName("line"),a=t.getItemLayout(e),r={"shape":{}};of(r.shape,a),Mo(o,r,i,e),d(ok,function(n){var i=t.getItemVisual(e,n),o=tf(n);if(this[o]!==i){this.remove(this.childOfName(n));var a=ef(n,t,e);this.add(a)}this[o]=i},this),this._updateCommonStl(t,e,n)},ak._updateCommonStl=function(t,e,n){var i=t.hostModel,o=this.childOfName("line"),a=n&&n.lineStyle,s=n&&n.hoverLineStyle,l=n&&n.labelModel,u=n&&n.hoverLabelModel;if(!n||t.hasItemOption){var h=t.getItemModel(e);a=h.getModel("lineStyle").getLineStyle(),s=h.getModel("emphasis.lineStyle").getLineStyle(),l=h.getModel("label"),u=h.getModel("emphasis.label")}var c=t.getItemVisual(e,"color"),f=D(t.getItemVisual(e,"opacity"),a.opacity,1);o.useStyle(r({"strokeNoScale":!0,"fill":"none","stroke":c,"opacity":f},a)),o.hoverStyle=s,d(ok,function(t){var e=this.childOfName(t);e&&(e.setColor(c),e.setStyle({"opacity":f}))},this);var p,g,m=l.getShallow("show"),v=u.getShallow("show"),y=this.childOfName("label");if((m||v)&&(p=c||"#000",null==(g=i.getFormattedLabel(e,"normal",t.dataType)))){var x=i.getRawValue(e);g=null==x?t.getName(e):isFinite(x)?Vo(x):x}var _=m?g:null,b=v?A(i.getFormattedLabel(e,"emphasis",t.dataType),g):null,w=y.style;null==_&&null==b||(go(y.style,l,{"text":_},{"autoColor":p}),y.__textAlign=w.textAlign,y.__verticalAlign=w.textVerticalAlign,y.__position=l.get("position")||"middle"),y.hoverStyle=null!=b?{"text":b,"textFill":u.getTextColor(!0),"fontStyle":u.getShallow("fontStyle"),"fontWeight":u.getShallow("fontWeight"),"fontSize":u.getShallow("fontSize"),"fontFamily":u.getShallow("fontFamily")}:{"text":null},y.ignore=!m&&!v,co(this)},ak.highlight=function(){this.trigger("emphasis")},ak.downplay=function(){this.trigger("normal")},ak.updateLayout=function(t,e){this.setLinePoints(t.getItemLayout(e))},ak.setLinePoints=function(t){var e=this.childOfName("line");of(e.shape,t),e.dirty()},u(af,Zb);var rk=rf.prototype;rk.isPersistent=function(){return!0},rk.updateData=function(t){var e=this,n=e.group,i=e._lineData;e._lineData=t,i||n.removeAll();var o=uf(t);t.diff(i).add(function(n){!function sf(t,e,n,i){if(cf(e.getItemLayout(n))){var o=new t._ctor(e,n,i);e.setItemGraphicEl(n,o),t.group.add(o)}}(e,t,n,o)}).update(function(n,a){!function lf(t,e,n,i,o,a){var r=e.getItemGraphicEl(i);cf(n.getItemLayout(o))?(r?r.updateData(n,o,a):r=new t._ctor(n,o,a),n.setItemGraphicEl(o,r),t.group.add(r)):t.group.remove(r)}(e,i,t,a,n,o)}).remove(function(t){n.remove(i.getItemGraphicEl(t))}).execute()},rk.updateLayout=function(){var t=this._lineData;t&&t.eachItemGraphicEl(function(e,n){e.updateLayout(t,n)},this)},rk.incrementalPrepareUpdate=function(t){this._seriesScope=uf(t),this._lineData=null,this.group.removeAll()},rk.incrementalUpdate=function(t,e){for(var n=t.start;n<t.end;n++)if(cf(e.getItemLayout(n))){var i=new this._ctor(e,n,this._seriesScope);i.traverse(function(t){t.isGroup||(t.incremental=t.useHoverLayer=!0)}),this.group.add(i),e.setItemGraphicEl(n,i)}},rk.remove=function(){this._clearIncremental(),this._incremental=null,this.group.removeAll()},rk._clearIncremental=function(){var t=this._incremental;t&&t.clearDisplaybles()};var sk=[],lk=[],uk=[],hk=rn,ck=$_,dk=Math.abs,fk=function VL(t,e){function i(t){var e=t.getVisual("symbolSize");return e instanceof Array&&(e=(e[0]+e[1])/2),e}var n=[],o=hn,a=[[],[],[]],r=[[],[]],s=[];e/=2,t.eachEdge(function(t,l){var u=t.getLayout(),h=t.getVisual("fromSymbol"),c=t.getVisual("toSymbol");u.__original||(u.__original=[F(u[0]),F(u[1])],u[2]&&u.__original.push(F(u[2])));var d=u.__original;if(null!=u[2]){if(G(a[0],d[0]),G(a[1],d[2]),G(a[2],d[1]),h&&"none"!==h){var f=i(t.node1),p=df(a,d[0],f*e);o(a[0][0],a[1][0],a[2][0],p,n),a[0][0]=n[3],a[1][0]=n[4],o(a[0][1],a[1][1],a[2][1],p,n),a[0][1]=n[3],a[1][1]=n[4]}if(c&&"none"!==c){f=i(t.node2),p=df(a,d[1],f*e);o(a[0][0],a[1][0],a[2][0],p,n),a[1][0]=n[1],a[2][0]=n[2],o(a[0][1],a[1][1],a[2][1],p,n),a[1][1]=n[1],a[2][1]=n[2]}G(u[0],a[0]),G(u[1],a[2]),G(u[2],a[1])}else G(r[0],d[0]),G(r[1],d[1]),U(s,r[1],r[0]),q(s,s),h&&"none"!==h&&(f=i(t.node1),Z(r[0],r[0],s,f*e)),c&&"none"!==c&&(f=i(t.node2),Z(r[1],r[1],s,-f*e)),G(u[0],r[0]),G(u[1],r[1])})},pk=["itemStyle","opacity"],gk=["lineStyle","opacity"];Hs({"type":"graph","init":function init(t,e){var n=new Au,i=new rf,o=this.group;this._controller=new nc(e.getZr()),this._controllerHost={"target":o},o.add(n.group),o.add(i.group),this._symbolDraw=n,this._lineDraw=i,this._firstRender=!0},"render":function render(t,e,n){var i=t.coordinateSystem;this._model=t,this._nodeScaleRatio=t.get("nodeScaleRatio");var o=this._symbolDraw,a=this._lineDraw,r=this.group;if("view"===i.type){var s={"position":i.position,"scale":i.scale};this._firstRender?r.attr(s):Mo(r,s,t)}fk(t.getGraph(),this._getNodeGlobalScale(t));var l=t.getData();o.updateData(l);var u=t.getEdgeData();a.updateData(u),this._updateNodeAndLinkScale(),this._updateController(t,e,n),clearTimeout(this._layoutTimeout);var h=t.forceLayout,c=t.get("force.layoutAnimation");h&&this._startForceLayoutIteration(h,c),l.eachItemGraphicEl(function(e,i){var o=l.getItemModel(i);e.off("drag").off("dragend");var a=o.get("draggable");a&&e.on("drag",function(){h&&(h.warmUp(),!this._layouting&&this._startForceLayoutIteration(h,c),h.setFixed(i),l.setItemLayout(i,e.position))},this).on("dragend",function(){h&&h.setUnfixed(i)},this),e.setDraggable(a&&h),e.off("mouseover",e.__focusNodeAdjacency),e.off("mouseout",e.__unfocusNodeAdjacency),o.get("focusNodeAdjacency")&&(e.on("mouseover",e.__focusNodeAdjacency=function(){n.dispatchAction({"type":"focusNodeAdjacency","seriesId":t.id,"dataIndex":e.dataIndex})}),e.on("mouseout",e.__unfocusNodeAdjacency=function(){n.dispatchAction({"type":"unfocusNodeAdjacency","seriesId":t.id})}))},this),l.graph.eachEdge(function(e){var i=e.getGraphicEl();i.off("mouseover",i.__focusNodeAdjacency),i.off("mouseout",i.__unfocusNodeAdjacency),e.getModel().get("focusNodeAdjacency")&&(i.on("mouseover",i.__focusNodeAdjacency=function(){n.dispatchAction({"type":"focusNodeAdjacency","seriesId":t.id,"edgeDataIndex":e.dataIndex})}),i.on("mouseout",i.__unfocusNodeAdjacency=function(){n.dispatchAction({"type":"unfocusNodeAdjacency","seriesId":t.id})}))});var d="circular"===t.get("layout")&&t.get("circular.rotateLabel"),f=l.getLayout("cx"),p=l.getLayout("cy");l.eachItemGraphicEl(function(t,e){var n=t.getSymbolPath();if(d){var i=l.getItemLayout(e),o=Math.atan2(i[1]-p,i[0]-f);o<0&&(o=2*Math.PI+o);var a=i[0]<f;a&&(o-=Math.PI);var r=a?"left":"right";n.setStyle({"textRotation":-o,"textPosition":r,"textOrigin":"center"}),n.hoverStyle&&(n.hoverStyle.textPosition=r)}else n.setStyle({"textRotation":0})}),this._firstRender=!1},"dispose":function dispose(){this._controller&&this._controller.dispose(),this._controllerHost={}},"focusNodeAdjacency":function focusNodeAdjacency(t,e,n,i){var o=this._model.getData().graph,a=i.dataIndex,r=i.edgeDataIndex,s=o.getNodeByIndex(a),l=o.getEdgeByIndex(r);(s||l)&&(o.eachNode(function(t){pf(t,pk,.1)}),o.eachEdge(function(t){pf(t,gk,.1)}),s&&(gf(s,pk),d(s.edges,function(t){t.dataIndex<0||(gf(t,gk),gf(t.node1,pk),gf(t.node2,pk))})),l&&(gf(l,gk),gf(l.node1,pk),gf(l.node2,pk)))},"unfocusNodeAdjacency":function unfocusNodeAdjacency(t,e,n,i){var o=this._model.getData().graph;o.eachNode(function(t){pf(t,pk)}),o.eachEdge(function(t){pf(t,gk)})},"_startForceLayoutIteration":function _startForceLayoutIteration(t,e){var i=this;!function n(){t.step(function(t){i.updateLayout(i._model),(i._layouting=!t)&&(e?i._layoutTimeout=setTimeout(n,16):n())})}()},"_updateController":function _updateController(t,e,n){var i=this._controller,o=this._controllerHost,a=this.group;i.setPointerChecker(function(e,i,o){var r=a.getBoundingRect();return r.applyTransform(a.transform),r.contain(i,o)&&!pc(e,n,t)}),"view"===t.coordinateSystem.type?(i.enable(t.get("roam")),o.zoomLimit=t.get("scaleLimit"),o.zoom=t.coordinateSystem.getZoom(),i.off("pan").off("zoom").on("pan",function(e){dc(o,e.dx,e.dy),n.dispatchAction({"seriesId":t.id,"type":"graphRoam","dx":e.dx,"dy":e.dy})}).on("zoom",function(e){fc(o,e.scale,e.originX,e.originY),n.dispatchAction({"seriesId":t.id,"type":"graphRoam","zoom":e.scale,"originX":e.originX,"originY":e.originY}),this._updateNodeAndLinkScale(),fk(t.getGraph(),this._getNodeGlobalScale(t)),this._lineDraw.updateLayout()},this)):i.disable()},"_updateNodeAndLinkScale":function _updateNodeAndLinkScale(){var t=this._model,e=t.getData(),n=this._getNodeGlobalScale(t),i=[n,n];e.eachItemGraphicEl(function(t,e){t.attr("scale",i)})},"_getNodeGlobalScale":function _getNodeGlobalScale(t){var e=t.coordinateSystem;if("view"!==e.type)return 1;var n=this._nodeScaleRatio,i=e.scale,o=i&&i[0]||1;return((e.getZoom()-1)*n+1)/o},"updateLayout":function updateLayout(t){fk(t.getGraph(),this._getNodeGlobalScale(t)),this._symbolDraw.updateLayout(),this._lineDraw.updateLayout()},"remove":function remove(t,e){this._symbolDraw&&this._symbolDraw.remove(),this._lineDraw&&this._lineDraw.remove()}}),Os({"type":"focusNodeAdjacency","event":"focusNodeAdjacency","update":"series:focusNodeAdjacency"},function(){}),Os({"type":"unfocusNodeAdjacency","event":"unfocusNodeAdjacency","update":"series:unfocusNodeAdjacency"},function(){}),Os({"type":"graphRoam","event":"graphRoam","update":"none"},function(t,e){e.eachComponent({"mainType":"series","query":t},function(e){var n=wc(e.coordinateSystem,t);e.setCenter&&e.setCenter(n.center),e.setZoom&&e.setZoom(n.zoom)})});var mk=Z;Ns(function(t){var e=t.findComponents({"mainType":"legend"});e&&e.length&&t.eachSeriesByType("graph",function(t){var n=t.getCategoriesData(),i=t.getGraph().data,o=n.mapArray(n.getName);i.filterSelf(function(t){var n=i.getItemModel(t).getShallow("category");if(null!=n){"number"==typeof n&&(n=o[n]);for(var a=0;a<e.length;a++)if(!e[a].isSelected(n))return!1}return!0})},this)}),zs(FD("graph","circle",null)),zs(function(t){var e={};t.eachSeriesByType("graph",function(t){var n=t.getCategoriesData(),i=t.getData(),o={};n.each(function(i){var a=n.getName(i);o["ec-"+a]=i;var r=n.getItemModel(i).get("itemStyle.color")||t.getColorFromPalette(a,e);n.setItemVisual(i,"color",r)}),n.count()&&i.each(function(t){var e=i.getItemModel(t).getShallow("category");null!=e&&("string"==typeof e&&(e=o["ec-"+e]),i.getItemVisual(t,"color",!0)||i.setItemVisual(t,"color",n.getItemVisual(e,"color")))})})}),zs(function(t){t.eachSeriesByType("graph",function(t){var e=t.getGraph(),n=t.getEdgeData(),i=mf(t.get("edgeSymbol")),o=mf(t.get("edgeSymbolSize")),a="lineStyle.color".split("."),r="lineStyle.opacity".split(".");n.setVisual("fromSymbol",i&&i[0]),n.setVisual("toSymbol",i&&i[1]),n.setVisual("fromSymbolSize",o&&o[0]),n.setVisual("toSymbolSize",o&&o[1]),n.setVisual("color",t.get(a)),n.setVisual("opacity",t.get(r)),n.each(function(t){var i=n.getItemModel(t),o=e.getEdgeByIndex(t),s=mf(i.getShallow("symbol",!0)),l=mf(i.getShallow("symbolSize",!0)),u=i.get(a),h=i.get(r);switch(u){case"source":u=o.node1.getVisual("color");break;case"target":u=o.node2.getVisual("color")}s[0]&&o.setVisual("fromSymbol",s[0]),s[1]&&o.setVisual("toSymbol",s[1]),l[0]&&o.setVisual("fromSymbolSize",l[0]),l[1]&&o.setVisual("toSymbolSize",l[1]),o.setVisual("color",u),o.setVisual("opacity",h)})})}),Rs(function(t,e){t.eachSeriesByType("graph",function(t){var e=t.get("layout"),n=t.coordinateSystem;if(n&&"view"!==n.type){var i=t.getData(),o=[];d(n.dimensions,function(t){o=o.concat(i.mapDimension(t,!0))});for(var a=0;a<i.count();a++){for(var r=[],s=!1,l=0;l<o.length;l++){var u=i.get(o[l],a);isNaN(u)||(s=!0),r.push(u)}s?i.setItemLayout(a,n.dataToPoint(r)):i.setItemLayout(a,[NaN,NaN])}yf(i.graph)}else e&&"none"!==e||vf(t)})}),Rs(function(t){t.eachSeriesByType("graph",function(t){"circular"===t.get("layout")&&xf(t)})}),Rs(function(t){t.eachSeriesByType("graph",function(t){var e=t.coordinateSystem;if(!e||"view"===e.type)if("force"===t.get("layout")){var n=t.preservedPoints||{},i=t.getGraph(),o=i.data,a=i.edgeData,r=t.getModel("force"),s=r.get("initLayout");t.preservedPoints?o.each(function(t){var e=o.getId(t);o.setItemLayout(t,n[e]||[NaN,NaN])}):s&&"none"!==s?"circular"===s&&xf(t):vf(t);var l=o.getDataExtent("value"),u=a.getDataExtent("value"),h=r.get("repulsion"),c=r.get("edgeLength");y(h)||(h=[h,h]),y(c)||(c=[c,c]),c=[c[1],c[0]];var d=o.mapArray("value",function(t,e){var n=o.getItemLayout(e),i=zo(t,l,h);return isNaN(i)&&(i=(h[0]+h[1])/2),{"w":i,"rep":i,"fixed":o.getItemModel(e).get("fixed"),"p":!n||isNaN(n[0])||isNaN(n[1])?null:n}}),f=a.mapArray("value",function(t,e){var n=i.getEdgeByIndex(e),o=zo(t,u,c);return isNaN(o)&&(o=(c[0]+c[1])/2),{"n1":d[n.node1.dataIndex],"n2":d[n.node2.dataIndex],"d":o,"curveness":n.getModel().get("lineStyle.curveness")||0}}),p=(e=t.coordinateSystem).getBoundingRect(),g=function _f(t,e,n){for(var i=n.rect,o=i.width,a=i.height,r=[i.x+o/2,i.y+a/2],s=null==n.gravity?.1:n.gravity,l=0;l<t.length;l++){var u=t[l];u.p||(u.p=V(o*(Math.random()-.5)+r[0],a*(Math.random()-.5)+r[1])),u.pp=F(u.p),u.edges=null}var h=.6;return{"warmUp":function warmUp(){h=.5},"setFixed":function setFixed(e){t[e].fixed=!0},"setUnfixed":function setUnfixed(e){t[e].fixed=!1},"step":function step(n){for(var i=[],o=t.length,a=0;a<e.length;a++){var l=e[a],u=l.n1;U(i,(p=l.n2).p,u.p);var c=X(i)-l.d,d=p.w/(u.w+p.w);isNaN(d)&&(d=0),q(i,i),!u.fixed&&mk(u.p,u.p,i,d*c*h),!p.fixed&&mk(p.p,p.p,i,-(1-d)*c*h)}for(a=0;a<o;a++)(v=t[a]).fixed||(U(i,r,v.p),mk(v.p,v.p,i,s*h));for(a=0;a<o;a++){u=t[a];for(var f=a+1;f<o;f++){var p=t[f];U(i,p.p,u.p),0===(c=X(i))&&(W(i,Math.random()-.5,Math.random()-.5),c=1);var g=(u.rep+p.rep)/c/c;!u.fixed&&mk(u.pp,u.pp,i,g),!p.fixed&&mk(p.pp,p.pp,i,-g)}}var m=[];for(a=0;a<o;a++){var v=t[a];v.fixed||(U(m,v.p,v.pp),mk(v.p,v.p,m,h),G(v.pp,v.p))}h*=.992,n&&n(t,e,h<.01)}}}(d,f,{"rect":p,"gravity":r.get("gravity")}),m=g.step;g.step=function(t){for(var e=0,a=d.length;e<a;e++)d[e].fixed&&G(d[e].p,i.getNodeByIndex(e).getLayout());m(function(e,a,r){for(var s=0,l=e.length;s<l;s++)e[s].fixed||i.getNodeByIndex(s).setLayout(e[s].p),n[o.getId(s)]=e[s].p;for(s=0,l=a.length;s<l;s++){var u=a[s],h=i.getEdgeByIndex(s),c=u.n1.p,d=u.n2.p,f=h.getLayout();(f=f?f.slice():[])[0]=f[0]||[],f[1]=f[1]||[],G(f[0],c),G(f[1],d),+u.curveness&&(f[2]=[(c[0]+d[0])/2-(c[1]-d[1])*u.curveness,(c[1]+d[1])/2-(d[0]-c[0])*u.curveness]),h.setLayout(f)}t&&t(r)})},t.forceLayout=g,t.preservedPoints=n,g.step()}else t.forceLayout=null})}),Es("graphView",{"create":function create(t,e){var n=[];return t.eachSeriesByType("graph",function(t){var i=t.get("coordinateSystem");if(!i||"view"===i){var o=t.getData(),a=[],r=[];dn(o.mapArray(function(t){var e=o.getItemModel(t);return[+e.get("x"),+e.get("y")]}),a,r),r[0]-a[0]==0&&(r[0]+=1,a[0]-=1),r[1]-a[1]==0&&(r[1]+=1,a[1]-=1);var s=(r[0]-a[0])/(r[1]-a[1]),l=function wf(t,e,n){var i=t.getBoxLayoutParams();return i.aspect=n,ha(i,{"width":e.getWidth(),"height":e.getHeight()})}(t,e,s);isNaN(s)&&(a=[l.x,l.y],r=[l.x+l.width,l.y+l.height]);var u=r[0]-a[0],h=r[1]-a[1],c=l.width,d=l.height,f=t.coordinateSystem=new Sc;f.zoomLimit=t.get("scaleLimit"),f.setBoundingRect(a[0],a[1],u,h),f.setViewRect(l.x,l.y,c,d),f.setCenter(t.get("center")),f.setZoom(t.get("zoom")),n.push(f)}}),n}}),oT.extend({"type":"series.gauge","getInitialData":function getInitialData(t,e){var n=t.data||[];return y(n)||(n=[n]),t.data=n,AC(this,["value"])},"defaultOption":{"zlevel":0,"z":2,"center":["50%","50%"],"legendHoverLink":!0,"radius":"75%","startAngle":225,"endAngle":-45,"clockwise":!0,"min":0,"max":100,"splitNumber":10,"axisLine":{"show":!0,"lineStyle":{"color":[[.2,"#91c7ae"],[.8,"#63869e"],[1,"#c23531"]],"width":30}},"splitLine":{"show":!0,"length":30,"lineStyle":{"color":"#eee","width":2,"type":"solid"}},"axisTick":{"show":!0,"splitNumber":5,"length":8,"lineStyle":{"color":"#eee","width":1,"type":"solid"}},"axisLabel":{"show":!0,"distance":5,"color":"auto"},"pointer":{"show":!0,"length":"80%","width":8},"itemStyle":{"color":"auto"},"title":{"show":!0,"offsetCenter":[0,"-40%"],"color":"#333","fontSize":15},"detail":{"show":!0,"backgroundColor":"rgba(0,0,0,0)","borderWidth":0,"borderColor":"#ccc","width":100,"height":null,"padding":[5,10],"offsetCenter":[0,"40%"],"color":"auto","fontSize":30}}});var vk=kn.extend({"type":"echartsGaugePointer","shape":{"angle":0,"width":10,"r":10,"x":0,"y":0},"buildPath":function buildPath(t,e){var n=Math.cos,i=Math.sin,o=e.r,a=e.width,r=e.angle,s=e.x-n(r)*a*(a>=o/3?1:2),l=e.y-i(r)*a*(a>=o/3?1:2);r=e.angle-Math.PI/2,t.moveTo(s,l),t.lineTo(e.x+n(r)*a,e.y+i(r)*a),t.lineTo(e.x+n(e.angle)*o,e.y+i(e.angle)*o),t.lineTo(e.x-n(r)*a,e.y-i(r)*a),t.lineTo(s,l)}}),yk=2*Math.PI,xk=(Tr.extend({"type":"gauge","render":function render(t,e,n){this.group.removeAll();var i=t.get("axisLine.lineStyle.color"),o=function bf(t,e){var n=t.get("center"),i=e.getWidth(),o=e.getHeight(),a=Math.min(i,o);return{"cx":Bo(n[0],e.getWidth()),"cy":Bo(n[1],e.getHeight()),"r":Bo(t.get("radius"),a/2)}}(t,n);this._renderMain(t,e,n,i,o)},"dispose":function dispose(){},"_renderMain":function _renderMain(t,e,n,i,o){for(var a=this.group,r=t.getModel("axisLine").getModel("lineStyle"),s=t.get("clockwise"),l=-t.get("startAngle")/180*Math.PI,u=-t.get("endAngle")/180*Math.PI,h=(u-l)%yk,c=l,d=r.get("width"),f=0;f<i.length;f++){var p=Math.min(Math.max(i[f][0],0),1),g=new fM({"shape":{"startAngle":c,"endAngle":u=l+h*p,"cx":o.cx,"cy":o.cy,"clockwise":s,"r0":o.r-d,"r":o.r},"silent":!0});g.setStyle({"fill":i[f][1]}),g.setStyle(r.getLineStyle(["color","borderWidth","borderColor"])),a.add(g),c=u}var v=function m(t){if(t<=0)return i[0][1];for(var e=0;e<i.length;e++)if(i[e][0]>=t&&(0===e?0:i[e-1][0])<t)return i[e][1];return i[e-1][1]};if(!s){var y=l;l=u,u=y}this._renderTicks(t,e,n,v,o,l,u,s),this._renderPointer(t,e,n,v,o,l,u,s),this._renderTitle(t,e,n,v,o),this._renderDetail(t,e,n,v,o)},"_renderTicks":function _renderTicks(t,e,n,i,o,a,r,s){for(var l=this.group,u=o.cx,h=o.cy,c=o.r,d=+t.get("min"),f=+t.get("max"),p=t.getModel("splitLine"),g=t.getModel("axisTick"),m=t.getModel("axisLabel"),v=t.get("splitNumber"),y=g.get("splitNumber"),x=Bo(p.get("length"),c),_=Bo(g.get("length"),c),b=a,w=(r-a)/v,S=w/y,M=p.getModel("lineStyle").getLineStyle(),I=g.getModel("lineStyle").getLineStyle(),T=0;T<=v;T++){var A=Math.cos(b),D=Math.sin(b);if(p.get("show")){var C=new SM({"shape":{"x1":A*c+u,"y1":D*c+h,"x2":A*(c-x)+u,"y2":D*(c-x)+h},"style":M,"silent":!0});"auto"===M.stroke&&C.setStyle({"stroke":i(T/v)}),l.add(C)}if(m.get("show")){var L=Sf(Vo(T/v*(f-d)+d),m.get("formatter")),k=m.get("distance"),P=i(T/v);l.add(new rM({"style":go({},m,{"text":L,"x":A*(c-x-k)+u,"y":D*(c-x-k)+h,"textVerticalAlign":D<-.4?"top":D>.4?"bottom":"middle","textAlign":A<-.4?"left":A>.4?"right":"center"},{"autoColor":P}),"silent":!0}))}if(g.get("show")&&T!==v){for(var O=0;O<=y;O++){A=Math.cos(b),D=Math.sin(b);var R=new SM({"shape":{"x1":A*c+u,"y1":D*c+h,"x2":A*(c-_)+u,"y2":D*(c-_)+h},"silent":!0,"style":I});"auto"===I.stroke&&R.setStyle({"stroke":i((T+O/y)/v)}),l.add(R),b+=S}b-=S}else b+=w}},"_renderPointer":function _renderPointer(t,e,n,i,o,a,r,s){var l=this.group,u=this._data;if(t.get("pointer.show")){var h=[+t.get("min"),+t.get("max")],c=[a,r],d=t.getData(),f=d.mapDimension("value");d.diff(u).add(function(e){var n=new vk({"shape":{"angle":a}});Io(n,{"shape":{"angle":zo(d.get(f,e),h,c,!0)}},t),l.add(n),d.setItemGraphicEl(e,n)}).update(function(e,n){var i=u.getItemGraphicEl(n);Mo(i,{"shape":{"angle":zo(d.get(f,e),h,c,!0)}},t),l.add(i),d.setItemGraphicEl(e,i)}).remove(function(t){var e=u.getItemGraphicEl(t);l.remove(e)}).execute(),d.eachItemGraphicEl(function(t,e){var n=d.getItemModel(e),a=n.getModel("pointer");t.setShape({"x":o.cx,"y":o.cy,"width":Bo(a.get("width"),o.r),"r":Bo(a.get("length"),o.r)}),t.useStyle(n.getModel("itemStyle").getItemStyle()),"auto"===t.style.fill&&t.setStyle("fill",i(zo(d.get(f,e),h,[0,1],!0))),co(t,n.getModel("emphasis.itemStyle").getItemStyle())}),this._data=d}else u&&u.eachItemGraphicEl(function(t){l.remove(t)})},"_renderTitle":function _renderTitle(t,e,n,i,o){var a=t.getData(),r=a.mapDimension("value"),s=t.getModel("title");if(s.get("show")){var l=s.get("offsetCenter"),u=o.cx+Bo(l[0],o.r),h=o.cy+Bo(l[1],o.r),c=+t.get("min"),d=+t.get("max"),f=i(zo(t.getData().get(r,0),[c,d],[0,1],!0));this.group.add(new rM({"silent":!0,"style":go({},s,{"x":u,"y":h,"text":a.getName(0),"textAlign":"center","textVerticalAlign":"middle"},{"autoColor":f,"forceRich":!0})}))}},"_renderDetail":function _renderDetail(t,e,n,i,o){var a=t.getModel("detail"),r=+t.get("min"),s=+t.get("max");if(a.get("show")){var l=a.get("offsetCenter"),u=o.cx+Bo(l[0],o.r),h=o.cy+Bo(l[1],o.r),c=Bo(a.get("width"),o.r),d=Bo(a.get("height"),o.r),f=t.getData(),p=f.get(f.mapDimension("value"),0),g=i(zo(p,[r,s],[0,1],!0));this.group.add(new rM({"silent":!0,"style":go({},a,{"x":u,"y":h,"text":Sf(p,a.get("formatter")),"textWidth":isNaN(c)?null:c,"textHeight":isNaN(d)?null:d,"textAlign":"center","textVerticalAlign":"middle"},{"autoColor":g,"forceRich":!0})}))}}}),Ws({"type":"series.funnel","init":function init(t){xk.superApply(this,"init",arguments),this.legendDataProvider=function(){return this.getRawData()},this._defaultLabelLine(t)},"getInitialData":function getInitialData(t,e){return AC(this,["value"])},"_defaultLabelLine":function _defaultLabelLine(t){Ci(t,"labelLine",["show"]);var e=t.labelLine,n=t.emphasis.labelLine;e.show=e.show&&t.label.show,n.show=n.show&&t.emphasis.label.show},"getDataParams":function getDataParams(t){var e=this.getData(),n=xk.superCall(this,"getDataParams",t),i=e.mapDimension("value"),o=e.getSum(i);return n.percent=o?+(e.get(i,t)/o*100).toFixed(2):0,n.$vars.push("percent"),n},"defaultOption":{"zlevel":0,"z":2,"legendHoverLink":!0,"left":80,"top":60,"right":80,"bottom":60,"minSize":"0%","maxSize":"100%","sort":"descending","gap":0,"funnelAlign":"center","label":{"show":!0,"position":"outer"},"labelLine":{"show":!0,"length":20,"lineStyle":{"width":1,"type":"solid"}},"itemStyle":{"borderColor":"#fff","borderWidth":1},"emphasis":{"label":{"show":!0}}}})),_k=Mf.prototype,bk=["itemStyle","opacity"];_k.updateData=function(t,e,n){var i=this.childAt(0),o=t.hostModel,a=t.getItemModel(e),s=t.getItemLayout(e),l=t.getItemModel(e).get(bk);l=null==l?1:l,i.useStyle({}),n?(i.setShape({"points":s.points}),i.setStyle({"opacity":0}),Io(i,{"style":{"opacity":l}},o,e)):Mo(i,{"style":{"opacity":l},"shape":{"points":s.points}},o,e);var u=a.getModel("itemStyle"),h=t.getItemVisual(e,"color");i.setStyle(r({"lineJoin":"round","fill":h},u.getItemStyle(["opacity"]))),i.hoverStyle=u.getModel("emphasis").getItemStyle(),this._updateLabel(t,e),co(this)},_k._updateLabel=function(t,e){var n=this.childAt(1),i=this.childAt(2),o=t.hostModel,a=t.getItemModel(e),r=t.getItemLayout(e).label,s=t.getItemVisual(e,"color");Mo(n,{"shape":{"points":r.linePoints||r.linePoints}},o,e),Mo(i,{"style":{"x":r.x,"y":r.y}},o,e),i.attr({"rotation":r.rotation,"origin":[r.x,r.y],"z2":10});var l=a.getModel("label"),u=a.getModel("emphasis.label"),h=a.getModel("labelLine"),c=a.getModel("emphasis.labelLine");s=t.getItemVisual(e,"color");po(i.style,i.hoverStyle={},l,u,{"labelFetcher":t.hostModel,"labelDataIndex":e,"defaultText":t.getName(e),"autoColor":s,"useInsideStyle":!!r.inside},{"textAlign":r.textAlign,"textVerticalAlign":r.verticalAlign}),i.ignore=i.normalIgnore=!l.get("show"),i.hoverIgnore=!u.get("show"),n.ignore=n.normalIgnore=!h.get("show"),n.hoverIgnore=!c.get("show"),n.setStyle({"stroke":s}),n.setStyle(h.getModel("lineStyle").getLineStyle()),n.hoverStyle=c.getModel("lineStyle").getLineStyle()},u(Mf,Zb),Tr.extend({"type":"funnel","render":function render(t,e,n){var i=t.getData(),o=this._data,a=this.group;i.diff(o).add(function(t){var e=new Mf(i,t);i.setItemGraphicEl(t,e),a.add(e)}).update(function(t,e){var n=o.getItemGraphicEl(e);n.updateData(i,t),a.add(n),i.setItemGraphicEl(t,n)}).remove(function(t){var e=o.getItemGraphicEl(t);a.remove(e)}).execute(),this._data=i},"remove":function remove(){this.group.removeAll(),this._data=null},"dispose":function dispose(){}}),zs(PC("funnel")),Rs(function(t,e,n){t.eachSeriesByType("funnel",function(t){var n=t.getData(),i=n.mapDimension("value"),o=t.get("sort"),a=function If(t,e){return ha(t.getBoxLayoutParams(),{"width":e.getWidth(),"height":e.getHeight()})}(t,e),r=function Tf(t,e){for(var n=t.mapDimension("value"),i=t.mapArray(n,function(t){return t}),o=[],a="ascending"===e,r=0,s=t.count();r<s;r++)o[r]=r;return"function"==typeof e?o.sort(e):"none"!==e&&o.sort(function(t,e){return a?i[t]-i[e]:i[e]-i[t]}),o}(n,o),s=[Bo(t.get("minSize"),a.width),Bo(t.get("maxSize"),a.width)],l=n.getDataExtent(i),u=t.get("min"),h=t.get("max");null==u&&(u=Math.min(l[0],0)),null==h&&(h=l[1]);var c=t.get("funnelAlign"),d=t.get("gap"),f=(a.height-d*(n.count()-1))/n.count(),p=a.y,m=function g(t,e){var o,r=zo(n.get(i,t)||0,[u,h],s,!0);switch(c){case"left":o=a.x;break;case"center":o=a.x+(a.width-r)/2;break;case"right":o=a.x+a.width-r}return[[o,e],[o+r,e]]};"ascending"===o&&(f=-f,d=-d,p+=a.height,r=r.reverse());for(var v=0;v<r.length;v++){var y=r[v],x=r[v+1],_=n.getItemModel(y).get("itemStyle.height");null==_?_=f:(_=Bo(_,a.height),"ascending"===o&&(_=-_));var b=m(y,p),w=m(x,p+_);p+=_+d,n.setItemLayout(y,{"points":b.concat(w.slice().reverse())})}!function Af(t){t.each(function(e){var n,i,o,a,r=t.getItemModel(e),s=r.getModel("label").get("position"),l=r.getModel("labelLine"),u=t.getItemLayout(e),h=u.points,c="inner"===s||"inside"===s||"center"===s;if(c)n="center",a=[[i=(h[0][0]+h[1][0]+h[2][0]+h[3][0])/4,o=(h[0][1]+h[1][1]+h[2][1]+h[3][1])/4],[i,o]];else{var d,f,p,g=l.get("length");"left"===s?(d=(h[3][0]+h[0][0])/2,f=(h[3][1]+h[0][1])/2,i=(p=d-g)-5,n="right"):(d=(h[1][0]+h[2][0])/2,f=(h[1][1]+h[2][1])/2,i=(p=d+g)+5,n="left"),a=[[d,f],[p,f]],o=f}u.label={"linePoints":a,"x":i,"y":o,"verticalAlign":"middle","textAlign":n,"inside":c}})}(n)})}),Ns(EC("funnel"));var wk=function YL(t,e,n,i,o){vD.call(this,t,e,n),this.type=i||"value",this.axisIndex=o};wk.prototype={"constructor":wk,"model":null,"isHorizontal":function isHorizontal(){return"horizontal"!==this.coordinateSystem.getModel().get("layout")}},u(wk,vD);var Sk=function qL(t,e,n,i,o,a){e[0]=kf(e[0],n),e[1]=kf(e[1],n),t=t||0;var r=n[1]-n[0];null!=o&&(o=kf(o,[0,r])),null!=a&&(a=Math.max(a,null!=o?o:0)),"all"===i&&(o=a=Math.abs(e[1]-e[0]),i=0);var s=Lf(e,i);e[i]+=t;var l=o||0,u=n.slice();s.sign<0?u[0]+=l:u[1]-=l,e[i]=kf(e[i],u),h=Lf(e,i),null!=o&&(h.sign!==s.sign||h.span<o)&&(e[1-i]=e[i]+s.sign*o);var h=Lf(e,i);return null!=a&&h.span>a&&(e[1-i]=e[i]+h.sign*a),e},Mk=d,Ik=Math.min,Tk=Math.max,Ak=Math.floor,Dk=Math.ceil,Ck=Vo,Lk=Math.PI;Pf.prototype={"type":"parallel","constructor":Pf,"_init":function _init(t,e,n){var i=t.dimensions,o=t.parallelAxisIndex;Mk(i,function(t,n){var i=o[n],a=e.getComponent("parallelAxis",i),r=this._axesMap.set(t,new wk(t,Wl(a),[0,0],a.get("type"),i)),s="category"===r.type;r.onBand=s&&a.get("boundaryGap"),r.inverse=a.get("inverse"),a.axis=r,r.model=a,r.coordinateSystem=a.coordinateSystem=this},this)},"update":function update(t,e){this._updateAxesFromSeries(this._model,t)},"containPoint":function containPoint(t){var e=this._makeLayoutInfo(),n=e.axisBase,i=e.layoutBase,o=e.pixelDimIndex,a=t[1-o],r=t[o];return a>=n&&a<=n+e.axisLength&&r>=i&&r<=i+e.layoutLength},"getModel":function getModel(){return this._model},"_updateAxesFromSeries":function _updateAxesFromSeries(t,e){e.eachSeries(function(n){if(t.contains(n,e)){var i=n.getData();Mk(this.dimensions,function(t){var e=this._axesMap.get(t);e.scale.unionExtentFromData(i,i.mapDimension(t)),Fl(e.scale,e.model)},this)}},this)},"resize":function resize(t,e){this._rect=ha(t.getBoxLayoutParams(),{"width":e.getWidth(),"height":e.getHeight()}),this._layoutAxes()},"getRect":function getRect(){return this._rect},"_makeLayoutInfo":function _makeLayoutInfo(){var t,e=this._model,n=this._rect,i=["x","y"],o=["width","height"],a=e.get("layout"),r="horizontal"===a?0:1,s=n[o[r]],l=[0,s],u=this.dimensions.length,h=Nf(e.get("axisExpandWidth"),l),c=Nf(e.get("axisExpandCount")||0,[0,u]),d=e.get("axisExpandable")&&u>3&&u>c&&c>1&&h>0&&s>0,f=e.get("axisExpandWindow");f?(t=Nf(f[1]-f[0],l),f[1]=f[0]+t):(t=Nf(h*(c-1),l),(f=[h*(e.get("axisExpandCenter")||Ak(u/2))-t/2])[1]=f[0]+t);var p=(s-t)/(u-c);p<3&&(p=0);var g=[Ak(Ck(f[0]/h,1))+1,Dk(Ck(f[1]/h,1))-1],m=p/h*f[0];return{"layout":a,"pixelDimIndex":r,"layoutBase":n[i[r]],"layoutLength":s,"axisBase":n[i[1-r]],"axisLength":n[o[1-r]],"axisExpandable":d,"axisExpandWidth":h,"axisCollapseWidth":p,"axisExpandWindow":f,"axisCount":u,"winInnerIndices":g,"axisExpandWindow0Pos":m}},"_layoutAxes":function _layoutAxes(){var t=this._rect,e=this._axesMap,n=this.dimensions,i=this._makeLayoutInfo(),o=i.layout;e.each(function(t){var e=[0,i.axisLength],n=t.inverse?1:0;t.setExtent(e[n],e[1-n])}),Mk(n,function(e,n){var a=(i.axisExpandable?function Ef(t,e){var n,i,o=e.layoutLength,a=e.axisExpandWidth,r=e.axisCount,s=e.axisCollapseWidth,l=e.winInnerIndices,u=s,h=!1;return t<l[0]?(n=t*s,i=s):t<=l[1]?(n=e.axisExpandWindow0Pos+t*a-e.axisExpandWindow[0],u=a,h=!0):(n=o-(r-1-t)*s,i=s),{"position":n,"axisNameAvailableWidth":u,"axisLabelShow":h,"nameTruncateMaxWidth":i}}:function Of(t,e){var n=e.layoutLength/(e.axisCount-1);return{"position":n*t,"axisNameAvailableWidth":n,"axisLabelShow":!0}})(n,i),r={"horizontal":{"x":a.position,"y":i.axisLength},"vertical":{"x":0,"y":a.position}},s={"horizontal":Lk/2,"vertical":0},l=[r[o].x+t.x,r[o].y+t.y],u=s[o],h=xt();Mt(h,h,u),St(h,h,l),this._axesLayout[e]={"position":l,"rotation":u,"transform":h,"axisNameAvailableWidth":a.axisNameAvailableWidth,"axisLabelShow":a.axisLabelShow,"nameTruncateMaxWidth":a.nameTruncateMaxWidth,"tickDirection":1,"labelDirection":1}},this)},"getAxis":function getAxis(t){return this._axesMap.get(t)},"dataToPoint":function dataToPoint(t,e){return this.axisCoordToPoint(this._axesMap.get(e).dataToCoord(t),e)},"eachActiveState":function eachActiveState(t,e,n,i){null==n&&(n=0),null==i&&(i=t.count());var o=this._axesMap,a=this.dimensions,r=[],s=[];d(a,function(e){r.push(t.mapDimension(e)),s.push(o.get(e).model)});for(var l=this.hasAxisBrushed(),u=n;u<i;u++){var h;if(l){h="active";for(var c=t.getValues(r,u),f=0,p=a.length;f<p;f++)if("inactive"===s[f].getActiveState(c[f])){h="inactive";break}}else h="normal";e(h,u)}},"hasAxisBrushed":function hasAxisBrushed(){for(var t=this.dimensions,e=this._axesMap,n=!1,i=0,o=t.length;i<o;i++)"normal"!==e.get(t[i]).model.getActiveState()&&(n=!0);return n},"axisCoordToPoint":function axisCoordToPoint(t,e){return Ao([t,0],this._axesLayout[e].transform)},"getAxisLayout":function getAxisLayout(t){return i(this._axesLayout[t])},"getSlidedAxisExpandWindow":function getSlidedAxisExpandWindow(t){var e=this._makeLayoutInfo(),n=e.pixelDimIndex,i=e.axisExpandWindow.slice(),o=i[1]-i[0],a=[0,e.axisExpandWidth*(e.axisCount-1)];if(!this.containPoint(t))return{"behavior":"none","axisExpandWindow":i};var r,s=t[n]-e.layoutBase-e.axisExpandWindow0Pos,l="slide",u=e.axisCollapseWidth,h=this._model.get("axisExpandSlideTriggerArea"),c=null!=h[0];return u?(c&&u&&s<o*h[0]?(l="jump",r=s-o*h[2]):c&&u&&s>o*(1-h[0])?(l="jump",r=s-o*(1-h[2])):(r=s-o*h[1])>=0&&(r=s-o*(1-h[1]))<=0&&(r=0),(r*=e.axisExpandWidth/u)?Sk(r,i,a,"all"):l="none"):(o=i[1]-i[0],(i=[Tk(0,a[1]*s/o-o/2)])[1]=Ik(a[1],i[0]+o),i[0]=i[1]-o),{"axisExpandWindow":i,"behavior":l}}},Ga.register("parallel",{"create":function create(t,e){var n=[];return t.eachComponent("parallel",function(i,o){var a=new Pf(i,t,e);a.name="parallel_"+o,a.resize(i,e),i.coordinateSystem=a,a.model=i,n.push(a)}),t.eachSeries(function(e){if("parallel"===e.get("coordinateSystem")){var n=t.queryComponents({"mainType":"parallel","index":e.get("parallelIndex"),"id":e.get("parallelId")})[0];e.coordinateSystem=n.coordinateSystem}}),n}});var kk=pI.extend({"type":"baseParallelAxis","axis":null,"activeIntervals":[],"getAreaSelectStyle":function getAreaSelectStyle(){return Yw([["fill","color"],["lineWidth","borderWidth"],["stroke","borderColor"],["width","width"],["opacity","opacity"]])(this.getModel("areaSelectStyle"))},"setActiveIntervals":function setActiveIntervals(t){var e=this.activeIntervals=i(t);if(e)for(var n=e.length-1;n>=0;n--)Go(e[n])},"getActiveState":function getActiveState(t){var e=this.activeIntervals;if(!e.length)return"normal";if(null==t||isNaN(t))return"inactive";if(1===e.length){var n=e[0];if(n[0]<=t&&t<=n[1])return"active"}else for(var i=0,o=e.length;i<o;i++)if(e[i][0]<=t&&t<=e[i][1])return"active";return"inactive"}});n(kk.prototype,nD),$D("parallel",kk,function(t,e){return e.type||(e.data?"category":"value")},{"type":"value","dim":null,"areaSelectStyle":{"width":20,"borderWidth":1,"borderColor":"rgba(160,197,232)","color":"rgba(160,197,232)","opacity":.3},"realtime":!0,"z":10}),pI.extend({"type":"parallel","dependencies":["parallelAxis"],"coordinateSystem":null,"dimensions":null,"parallelAxisIndex":null,"layoutMode":"box","defaultOption":{"zlevel":0,"z":0,"left":80,"top":60,"right":80,"bottom":60,"layout":"horizontal","axisExpandable":!1,"axisExpandCenter":null,"axisExpandCount":0,"axisExpandWidth":50,"axisExpandRate":17,"axisExpandDebounce":50,"axisExpandSlideTriggerArea":[-.15,.05,.4],"axisExpandTriggerOn":"click","parallelAxisDefault":null},"init":function init(){pI.prototype.init.apply(this,arguments),this.mergeOption({})},"mergeOption":function mergeOption(t){var e=this.option;t&&n(e,t,!0),this._initDimensions()},"contains":function contains(t,e){var n=t.get("parallelIndex");return null!=n&&e.getComponent("parallel",n)===this},"setAxisExpand":function setAxisExpand(t){d(["axisExpandable","axisExpandCenter","axisExpandCount","axisExpandWidth","axisExpandWindow"],function(e){t.hasOwnProperty(e)&&(this.option[e]=t[e])},this)},"_initDimensions":function _initDimensions(){var t=this.dimensions=[],e=this.parallelAxisIndex=[];d(g(this.dependentModels.parallelAxis,function(t){return(t.get("parallelIndex")||0)===this.componentIndex},this),function(n){t.push("dim"+n.get("dim")),e.push(n.componentIndex)})}}),Os({"type":"axisAreaSelect","event":"axisAreaSelected"},function(t,e){e.eachComponent({"mainType":"parallelAxis","query":t},function(e){e.axis.model.setActiveIntervals(t.intervals)})}),Os("parallelAxisExpand",function(t,e){e.eachComponent({"mainType":"parallel","query":t},function(e){e.setAxisExpand(t)})});var Pk=v,Ok=d,Rk=f,Nk=Math.min,Ek=Math.max,zk=Math.pow,Bk=1e4,Vk=6,Gk=6,Fk="globalPan",Hk={"w":[0,0],"e":[0,1],"n":[1,0],"s":[1,1]},Wk={"w":"ew","e":"ew","n":"ns","s":"ns","ne":"nesw","sw":"nesw","nw":"nwse","se":"nwse"},jk={"brushStyle":{"lineWidth":2,"stroke":"rgba(0,0,0,0.3)","fill":"rgba(0,0,0,0.1)"},"transformable":!0,"brushMode":"single","removeOnClick":!1},Zk=0;Rf.prototype={"constructor":Rf,"enableBrush":function enableBrush(t){return this._brushType&&Bf(this),t.brushType&&zf(this,t),this},"setPanels":function setPanels(t){if(t&&t.length){var e=this._panels={};d(t,function(t){e[t.panelId]=i(t)})}else this._panels=null;return this},"mount":function mount(t){t=t||{},this._enableGlobalPan=t.enableGlobalPan;var e=this.group;return this._zr.add(e),e.attr({"position":t.position||[0,0],"rotation":t.rotation||0,"scale":t.scale||[1,1]}),this._transform=e.getLocalTransform(),this},"eachCover":function eachCover(t,e){Ok(this._covers,t,e)},"updateCovers":function updateCovers(t){function e(t,e){return(null!=t.id?t.id:a+e)+"-"+t.brushType}function o(e,n){var i=t[e];if(null!=n&&r[n]===u)s[e]=r[n];else{var o=s[e]=null!=n?(r[n].__brushOption=i,r[n]):Gf(l,Vf(l,i));Hf(l,o)}}t=f(t,function(t){return n(i(jk),t,!0)});var a="\0-brush-index-",r=this._covers,s=this._covers=[],l=this,u=this._creatingCover;return new Us(r,t,function(t,n){return e(t.__brushOption,n)},e).add(o).update(o).remove(function(t){r[t]!==u&&l.group.remove(r[t])}).execute(),this},"unmount":function unmount(){return this.enableBrush(!1),jf(this),this._zr.remove(this.group),this},"dispose":function dispose(){this.unmount(),this.off()}},h(Rf,J_);var Uk={"mousedown":function mousedown(t){if(this._dragging)gp.call(this,t);else if(!t.target||!t.target.draggable){cp(t);var e=this.group.transformCoordToLocal(t.offsetX,t.offsetY);this._creatingCover=null,(this._creatingPanel=Uf(this,t,e))&&(this._dragging=!0,this._track=[e.slice()])}},"mousemove":function mousemove(t){var e=this.group.transformCoordToLocal(t.offsetX,t.offsetY);if(function hp(t,e,n){if(t._brushType){var i=t._zr,o=t._covers,a=Uf(t,e,n);if(!t._dragging)for(var r=0;r<o.length;r++){var s=o[r].__brushOption;if(a&&(!0===a||s.panelId===a.panelId)&&Xk[s.brushType].contain(o[r],n[0],n[1]))return}a&&i.setCursorStyle("crosshair")}}(this,t,e),this._dragging){cp(t);var n=fp(this,t,e,!1);n&&Yf(this,n)}},"mouseup":gp},Xk={"lineX":mp(0),"lineY":mp(1),"rect":{"createCover":function createCover(t,e){return $f(Pk(ap,function(t){return t},function(t){return t}),t,e,["w","e","n","s","se","sw","ne","nw"])},"getCreatingRange":function getCreatingRange(t){var e=Kf(t);return ip(e[1][0],e[1][1],e[0][0],e[0][1])},"updateCoverShape":function updateCoverShape(t,e,n,i){Jf(t,e,n,i)},"updateCommon":Qf,"contain":dp},"polygon":{"createCover":function createCover(t,e){var n=new Zb;return n.add(new yM({"name":"main","style":ep(e),"silent":!0})),n},"getCreatingRange":function getCreatingRange(t){return t},"endCreating":function endCreating(t,e){e.remove(e.childAt(0)),e.add(new vM({"name":"main","draggable":!0,"drift":Pk(rp,t,e),"ondragend":Pk(Yf,t,{"isEnd":!0})}))},"updateCoverShape":function updateCoverShape(t,e,n,i){e.childAt(0).setShape({"points":lp(t,e,n)})},"updateCommon":Qf,"contain":dp}},Yk=["axisLine","axisTickLabel","axisName"],qk=Fs({"type":"parallelAxis","init":function init(t,e){qk.superApply(this,"init",arguments),(this._brushController=new Rf(e.getZr())).on("brush",m(this._onBrush,this))},"render":function render(t,e,n,i){if(!function wp(t,e,n){return n&&"axisAreaSelect"===n.type&&e.findComponents({"mainType":"parallelAxis","query":n})[0]===t}(t,e,i)){this.axisModel=t,this.api=n,this.group.removeAll();var o=this._axisGroup;if(this._axisGroup=new Zb,this.group.add(this._axisGroup),t.get("show")){var r=function Sp(t,e){return e.getComponent("parallel",t.get("parallelIndex"))}(t,e),s=r.coordinateSystem,l=t.getAreaSelectStyle(),u=l.width,h=t.axis.dim,c=a({"strokeContainThreshold":u},s.getAxisLayout(h)),f=new iC(t,c);d(Yk,f.add,f),this._axisGroup.add(f.getGroup()),this._refreshBrushController(c,l,t,r,u,n);var p=i&&!1===i.animation?null:t;Co(o,this._axisGroup,p)}}},"_refreshBrushController":function _refreshBrushController(t,e,n,i,o,a){var r=n.axis.getExtent(),s=r[1]-r[0],l=Math.min(30,.1*Math.abs(s)),u=de.create({"x":r[0],"y":-o/2,"width":s,"height":o});u.x-=l,u.width+=2*l,this._brushController.mount({"enableGlobalPan":!0,"rotation":t.rotation,"position":t.position}).setPanels([{"panelId":"pl","clipPath":vp(u),"isTargetByCursor":xp(u,a,i),"getLinearBrushOtherExtent":yp(u,0)}]).enableBrush({"brushType":"lineX","brushStyle":e,"removeOnClick":!0}).updateCovers(function bp(t){var e=t.axis;return f(t.activeIntervals,function(t){return{"brushType":"lineX","panelId":"pl","range":[e.dataToCoord(t[0],!0),e.dataToCoord(t[1],!0)]}})}(n))},"_onBrush":function _onBrush(t,e){var n=this.axisModel,i=n.axis,o=f(t,function(t){return[i.coordToData(t.range[0],!0),i.coordToData(t.range[1],!0)]});(!n.option.realtime===e.isEnd||e.removeOnClick)&&this.api.dispatchAction({"type":"axisAreaSelect","parallelAxisId":n.id,"intervals":o})},"dispose":function dispose(){this._brushController.dispose()}});Fs({"type":"parallel","render":function render(t,e,n){this._model=t,this._api=n,this._handlers||(this._handlers={},d($k,function(t,e){n.getZr().on(e,this._handlers[e]=m(t,this))},this)),Pr(this,"_throttledDispatchExpand",t.get("axisExpandRate"),"fixRate")},"dispose":function dispose(t,e){d(this._handlers,function(t,n){e.getZr().off(n,t)}),this._handlers=null},"_throttledDispatchExpand":function _throttledDispatchExpand(t){this._dispatchExpand(t)},"_dispatchExpand":function _dispatchExpand(t){t&&this._api.dispatchAction(a({"type":"parallelAxisExpand"},t))}});var $k={"mousedown":function mousedown(t){Mp(this,"click")&&(this._mouseDownPoint=[t.offsetX,t.offsetY])},"mouseup":function mouseup(t){var e=this._mouseDownPoint;if(Mp(this,"click")&&e){var n=[t.offsetX,t.offsetY];if(Math.pow(e[0]-n[0],2)+Math.pow(e[1]-n[1],2)>5)return;var i=this._model.coordinateSystem.getSlidedAxisExpandWindow([t.offsetX,t.offsetY]);"none"!==i.behavior&&this._dispatchExpand({"axisExpandWindow":i.axisExpandWindow})}this._mouseDownPoint=null},"mousemove":function mousemove(t){if(!this._mouseDownPoint&&Mp(this,"mousemove")){var e=this._model,n=e.coordinateSystem.getSlidedAxisExpandWindow([t.offsetX,t.offsetY]),i=n.behavior;"jump"===i&&this._throttledDispatchExpand.debounceNextCall(e.get("axisExpandDebounce")),this._throttledDispatchExpand("none"===i?null:{"axisExpandWindow":n.axisExpandWindow,"animation":"jump"===i&&null})}}};Ps(function(t){(function Df(t){if(!t.parallel){var e=!1;d(t.series,function(t){t&&"parallel"===t.type&&(e=!0)}),e&&(t.parallel=[{}])}})(t),function Cf(t){d(Di(t.parallelAxis),function(e){if(w(e)){var i=e.parallelIndex||0,o=Di(t.parallel)[i];o&&o.parallelAxisDefault&&n(e,o.parallelAxisDefault,!1)}})}(t)}),oT.extend({"type":"series.parallel","dependencies":["parallel"],"visualColorAccessPath":"lineStyle.color","getInitialData":function getInitialData(t,e){var n=this.getSource();return function Ip(t,e){if(!t.encodeDefine){var n=e.ecModel.getComponent("parallel",e.get("parallelIndex"));if(n){var i=t.encodeDefine=R();d(n.dimensions,function(t){var e=function Tp(t){return+t.replace("dim","")}(t);i.set(t,e)})}}}(n,this),gl(n,this)},"getRawIndicesByActiveState":function getRawIndicesByActiveState(t){var e=this.coordinateSystem,n=this.getData(),i=[];return e.eachActiveState(n,function(e,o){t===e&&i.push(n.getRawIndex(o))}),i},"defaultOption":{"zlevel":0,"z":2,"coordinateSystem":"parallel","parallelIndex":0,"label":{"show":!1},"inactiveOpacity":.05,"activeOpacity":1,"lineStyle":{"width":1,"opacity":.45,"type":"solid"},"emphasis":{"label":{"show":!1}},"progressive":500,"smooth":!1,"animationEasing":"linear"}});var Kk=.3,Qk=(Tr.extend({"type":"parallel","init":function init(){this._dataGroup=new Zb,this.group.add(this._dataGroup),this._data,this._initialized},"render":function render(t,e,n,i){var o=this._dataGroup,a=t.getData(),r=this._data,s=t.coordinateSystem,l=s.dimensions,u=Lp(t);if(a.diff(r).add(function(t){kp(Cp(a,o,t,l,s),a,t,u)}).update(function(e,n){var o=r.getItemGraphicEl(n),h=Dp(a,e,l,s);a.setItemGraphicEl(e,o),Mo(o,{"shape":{"points":h}},i&&!1===i.animation?null:t,e),kp(o,a,e,u)}).remove(function(t){var e=r.getItemGraphicEl(t);o.remove(e)}).execute(),!this._initialized){this._initialized=!0;var h=function Ap(t,e,n){var i=t.model,o=t.getRect(),a=new bM({"shape":{"x":o.x,"y":o.y,"width":o.width,"height":o.height}}),r="horizontal"===i.get("layout")?"width":"height";return a.setShape(r,0),Io(a,{"shape":{"width":o.width,"height":o.height}},e,n),a}(s,t,function(){setTimeout(function(){o.removeClipPath()})});o.setClipPath(h)}this._data=a},"incrementalPrepareRender":function incrementalPrepareRender(t,e,n){this._initialized=!0,this._data=null,this._dataGroup.removeAll()},"incrementalRender":function incrementalRender(t,e,n){for(var i=e.getData(),o=e.coordinateSystem,a=o.dimensions,r=Lp(e),s=t.start;s<t.end;s++){var l=Cp(i,this._dataGroup,s,a,o);l.incremental=!0,kp(l,i,s,r)}},"dispose":function dispose(){},"remove":function remove(){this._dataGroup&&this._dataGroup.removeAll(),this._data=null}}),["lineStyle","normal","opacity"]);zs({"seriesType":"parallel","reset":function reset(t,e,n){var i=t.getModel("itemStyle"),o=t.getModel("lineStyle"),a=e.get("color"),r=o.get("color")||i.get("color")||a[t.seriesIndex%a.length],s=t.get("inactiveOpacity"),l=t.get("activeOpacity"),u=t.getModel("lineStyle").getLineStyle(),h=t.coordinateSystem,c=t.getData(),d={"normal":u.opacity,"active":l,"inactive":s};return c.setVisual("color",r),{"progress":function progress(t,e){h.eachActiveState(e,function(t,n){var i=d[t];if("normal"===t&&e.hasItemOption){var o=e.getItemModel(n).get(Qk,!0);null!=o&&(i=o)}e.setItemVisual(n,"opacity",i)},t.start,t.end)}}}});var Jk=oT.extend({"type":"series.sankey","layoutInfo":null,"getInitialData":function getInitialData(t){var e=t.edges||t.links,n=t.data||t.nodes;if(n&&e)return JL(n,e,this,!0).data},"setNodePosition":function setNodePosition(t,e){var n=this.option.data[t];n.localX=e[0],n.localY=e[1]},"getGraph":function getGraph(){return this.getData().graph},"getEdgeData":function getEdgeData(){return this.getGraph().edgeData},"formatTooltip":function formatTooltip(t,e,n){if("edge"===n){var i=this.getDataParams(t,n),o=i.data,a=o.source+" -- "+o.target;return i.value&&(a+=" : "+i.value),ea(a)}return Jk.superCall(this,"formatTooltip",t,e)},"optionUpdated":function optionUpdated(){var t=this.option;!0===t.focusNodeAdjacency&&(t.focusNodeAdjacency="allEdges")},"defaultOption":{"zlevel":0,"z":2,"coordinateSystem":"view","layout":null,"left":"5%","top":"5%","right":"20%","bottom":"5%","orient":"horizontal","nodeWidth":20,"nodeGap":8,"draggable":!0,"focusNodeAdjacency":!1,"layoutIterations":32,"label":{"show":!0,"position":"right","color":"#000","fontSize":12},"itemStyle":{"borderWidth":1,"borderColor":"#333"},"lineStyle":{"color":"#314656","opacity":.2,"curveness":.5},"emphasis":{"label":{"show":!0},"lineStyle":{"opacity":.6}},"animationEasing":"linear","animationDuration":1e3}}),tP=["itemStyle","opacity"],eP=["lineStyle","opacity"],nP=Zn({"shape":{"x1":0,"y1":0,"x2":0,"y2":0,"cpx1":0,"cpy1":0,"cpx2":0,"cpy2":0,"extent":0,"orient":""},"buildPath":function buildPath(t,e){var n=e.extent;"vertical"===e.orient?(t.moveTo(e.x1,e.y1),t.bezierCurveTo(e.cpx1,e.cpy1,e.cpx2,e.cpy2,e.x2,e.y2),t.lineTo(e.x2+n,e.y2),t.bezierCurveTo(e.cpx2+n,e.cpy2,e.cpx1+n,e.cpy1,e.x1+n,e.y1)):(t.moveTo(e.x1,e.y1),t.bezierCurveTo(e.cpx1,e.cpy1,e.cpx2,e.cpy2,e.x2,e.y2),t.lineTo(e.x2,e.y2+n),t.bezierCurveTo(e.cpx2,e.cpy2+n,e.cpx1,e.cpy1+n,e.x1,e.y1+n)),t.closePath()}});Hs({"type":"sankey","_model":null,"_focusAdjacencyDisabled":!1,"render":function render(t,e,n){var i=this,o=t.getGraph(),a=this.group,r=t.layoutInfo,s=r.width,l=r.height,u=t.getData(),h=t.getData("edge"),c=t.get("orient");this._model=t,a.removeAll(),a.attr("position",[r.x,r.y]),o.eachEdge(function(e){var n=new nP;n.dataIndex=e.dataIndex,n.seriesIndex=t.seriesIndex,n.dataType="edge";var i,o,r,u,d,f,p,g,m=e.getModel("lineStyle"),v=m.get("curveness"),y=e.node1.getLayout(),x=e.node1.getModel(),_=x.get("localX"),b=x.get("localY"),w=e.node2.getLayout(),S=e.node2.getModel(),M=S.get("localX"),I=S.get("localY"),T=e.getLayout();switch(n.shape.extent=Math.max(1,T.dy),n.shape.orient=c,"vertical"===c?(i=(null!=_?_*s:y.x)+T.sy,o=(null!=b?b*l:y.y)+y.dy,r=(null!=M?M*s:w.x)+T.ty,d=i,f=o*(1-v)+(u=null!=I?I*l:w.y)*v,p=r,g=o*v+u*(1-v)):(i=(null!=_?_*s:y.x)+y.dx,o=(null!=b?b*l:y.y)+T.sy,d=i*(1-v)+(r=null!=M?M*s:w.x)*v,f=o,p=i*v+r*(1-v),g=u=(null!=I?I*l:w.y)+T.ty),n.setShape({"x1":i,"y1":o,"x2":r,"y2":u,"cpx1":d,"cpy1":f,"cpx2":p,"cpy2":g}),n.setStyle(m.getItemStyle()),n.style.fill){case"source":n.style.fill=e.node1.getVisual("color");break;case"target":n.style.fill=e.node2.getVisual("color")}co(n,e.getModel("emphasis.lineStyle").getItemStyle()),a.add(n),h.setItemGraphicEl(e.dataIndex,n)}),o.eachNode(function(e){var n=e.getLayout(),i=e.getModel(),o=i.get("localX"),r=i.get("localY"),h=i.getModel("label"),c=i.getModel("emphasis.label"),d=new bM({"shape":{"x":null!=o?o*s:n.x,"y":null!=r?r*l:n.y,"width":n.dx,"height":n.dy},"style":i.getModel("itemStyle").getItemStyle()}),f=e.getModel("emphasis.itemStyle").getItemStyle();po(d.style,f,h,c,{"labelFetcher":t,"labelDataIndex":e.dataIndex,"defaultText":e.id,"isRectText":!0}),d.setStyle("fill",e.getVisual("color")),co(d,f),a.add(d),u.setItemGraphicEl(e.dataIndex,d),d.dataType="node"}),u.eachItemGraphicEl(function(e,o){var a=u.getItemModel(o);a.get("draggable")&&(e.drift=function(e,a){i._focusAdjacencyDisabled=!0,this.shape.x+=e,this.shape.y+=a,this.dirty(),n.dispatchAction({"type":"dragNode","seriesId":t.id,"dataIndex":u.getRawIndex(o),"localX":this.shape.x/s,"localY":this.shape.y/l})},e.ondragend=function(){i._focusAdjacencyDisabled=!1},e.draggable=!0,e.cursor="move"),a.get("focusNodeAdjacency")&&(e.off("mouseover").on("mouseover",function(){i._focusAdjacencyDisabled||n.dispatchAction({"type":"focusNodeAdjacency","seriesId":t.id,"dataIndex":e.dataIndex})}),e.off("mouseout").on("mouseout",function(){i._focusAdjacencyDisabled||n.dispatchAction({"type":"unfocusNodeAdjacency","seriesId":t.id})}))}),h.eachItemGraphicEl(function(e,o){h.getItemModel(o).get("focusNodeAdjacency")&&(e.off("mouseover").on("mouseover",function(){i._focusAdjacencyDisabled||n.dispatchAction({"type":"focusNodeAdjacency","seriesId":t.id,"edgeDataIndex":e.dataIndex})}),e.off("mouseout").on("mouseout",function(){i._focusAdjacencyDisabled||n.dispatchAction({"type":"unfocusNodeAdjacency","seriesId":t.id})}))}),!this._data&&t.get("animation")&&a.setClipPath(function Rp(t,e,n){var i=new bM({"shape":{"x":t.x-10,"y":t.y-10,"width":0,"height":t.height+20}});return Io(i,{"shape":{"width":t.width+20,"height":t.height+20}},e,n),i}(a.getBoundingRect(),t,function(){a.removeClipPath()})),this._data=t.getData()},"dispose":function dispose(){},"focusNodeAdjacency":function focusNodeAdjacency(t,e,n,i){var o=this._model.getData(),a=o.graph,r=i.dataIndex,s=o.getItemModel(r),l=i.edgeDataIndex;if(null!=r||null!=l){var u=a.getNodeByIndex(r),h=a.getEdgeByIndex(l);if(a.eachNode(function(t){Op(t,tP,.1)}),a.eachEdge(function(t){Op(t,eP,.1)}),u){Ep(u,tP);var c=s.get("focusNodeAdjacency");"outEdges"===c?d(u.outEdges,function(t){t.dataIndex<0||(Ep(t,eP),Ep(t.node2,tP))}):"inEdges"===c?d(u.inEdges,function(t){t.dataIndex<0||(Ep(t,eP),Ep(t.node1,tP))}):"allEdges"===c&&d(u.edges,function(t){t.dataIndex<0||(Ep(t,eP),Ep(t.node1,tP),Ep(t.node2,tP))})}h&&(Ep(h,eP),Ep(h.node1,tP),Ep(h.node2,tP))}},"unfocusNodeAdjacency":function unfocusNodeAdjacency(t,e,n,i){var o=this._model.getGraph();o.eachNode(function(t){Op(t,tP)}),o.eachEdge(function(t){Op(t,eP)})}}),Os({"type":"dragNode","event":"dragNode","update":"update"},function(t,e){e.eachComponent({"mainType":"series","subType":"sankey","query":t},function(e){e.setNodePosition(t.dataIndex,[t.localX,t.localY])})}),Rs(function(t,e,n){t.eachSeriesByType("sankey",function(t){var n=t.get("nodeWidth"),i=t.get("nodeGap"),o=function Bp(t,e){return ha(t.getBoxLayoutParams(),{"width":e.getWidth(),"height":e.getHeight()})}(t,e);t.layoutInfo=o;var a=o.width,r=o.height,s=t.getGraph(),l=s.nodes,u=s.edges;(function Gp(t){d(t,function(t){var e=Qp(t.outEdges,Jp),n=Qp(t.inEdges,Jp),i=Math.max(e,n);t.setLayout({"value":i},!0)})})(l),Vp(l,u,n,i,a,r,0!==g(l,function(t){return 0===t.getLayout().value}).length?0:t.get("layoutIterations"),t.get("orient"))})}),zs(function(t,e){t.eachSeriesByType("sankey",function(t){var e=t.getGraph().nodes;if(e.length){var n=1/0,i=-1/0;d(e,function(t){var e=t.getLayout().value;e<n&&(n=e),e>i&&(i=e)}),d(e,function(e){var o=new PL({"type":"color","mappingMethod":"linear","dataExtent":[n,i],"visual":t.get("color")}).mapValueToVisual(e.getLayout().value);e.setVisual("color",o);var a=e.getModel().get("itemStyle.color");null!=a&&e.setVisual("color",a)})}})});var iP={"_baseAxisDim":null,"getInitialData":function getInitialData(t,e){var n,i,o=e.getComponent("xAxis",this.get("xAxisIndex")),a=e.getComponent("yAxis",this.get("yAxisIndex")),r=o.get("type"),s=a.get("type");"category"===r?(t.layout="horizontal",n=o.getOrdinalMeta(),i=!0):"category"===s?(t.layout="vertical",n=a.getOrdinalMeta(),i=!0):t.layout=t.layout||"horizontal";var l=["x","y"],u="horizontal"===t.layout?0:1,h=this._baseAxisDim=l[u],c=l[1-u],f=[o,a],p=f[u].get("type"),g=f[1-u].get("type"),m=t.data;if(m&&i){var v=[];d(m,function(t,e){var n;t.value&&y(t.value)?(n=t.value.slice(),t.value.unshift(e)):y(t)?(n=t.slice(),t.unshift(e)):n=t,v.push(n)}),t.data=v}var x=this.defaultValueDimensions;return AC(this,{"coordDimensions":[{"name":h,"type":Ys(p),"ordinalMeta":n,"otherDims":{"tooltip":!1,"itemName":0},"dimsDef":["base"]},{"name":c,"type":Ys(g),"dimsDef":x.slice()}],"dimensionsCount":x.length+1})},"getBaseAxis":function getBaseAxis(){var t=this._baseAxisDim;return this.ecModel.getComponent(t+"Axis",this.get(t+"AxisIndex")).axis}};h(oT.extend({"type":"series.boxplot","dependencies":["xAxis","yAxis","grid"],"defaultValueDimensions":[{"name":"min","defaultTooltip":!0},{"name":"Q1","defaultTooltip":!0},{"name":"median","defaultTooltip":!0},{"name":"Q3","defaultTooltip":!0},{"name":"max","defaultTooltip":!0}],"dimensions":null,"defaultOption":{"zlevel":0,"z":2,"coordinateSystem":"cartesian2d","legendHoverLink":!0,"hoverAnimation":!0,"layout":null,"boxWidth":[7,50],"itemStyle":{"color":"#fff","borderWidth":1},"emphasis":{"itemStyle":{"borderWidth":2,"shadowBlur":5,"shadowOffsetX":2,"shadowOffsetY":2,"shadowColor":"rgba(0,0,0,0.4)"}},"animationEasing":"elasticOut","animationDuration":800}}),iP,!0);var oP=["itemStyle"],aP=["emphasis","itemStyle"],rP=(Tr.extend({"type":"boxplot","render":function render(t,e,n){var i=t.getData(),o=this.group,a=this._data;this._data||o.removeAll();var r="horizontal"===t.get("layout")?1:0;i.diff(a).add(function(t){if(i.hasValue(t)){var e=ig(i.getItemLayout(t),i,t,r,!0);i.setItemGraphicEl(t,e),o.add(e)}}).update(function(t,e){var n=a.getItemGraphicEl(e);if(i.hasValue(t)){var s=i.getItemLayout(t);n?ng(s,n,i,t):n=ig(s,i,t,r),o.add(n),i.setItemGraphicEl(t,n)}else o.remove(n)}).remove(function(t){var e=a.getItemGraphicEl(t);e&&o.remove(e)}).execute(),this._data=i},"remove":function remove(t){var e=this.group,n=this._data;this._data=null,n&&n.eachItemGraphicEl(function(t){t&&e.remove(t)})},"dispose":B}),kn.extend({"type":"boxplotBoxPath","shape":{},"buildPath":function buildPath(t,e){var n=e.points,i=0;for(t.moveTo(n[i][0],n[i][1]),i++;i<4;i++)t.lineTo(n[i][0],n[i][1]);for(t.closePath();i<n.length;i++)t.moveTo(n[i][0],n[i][1]),i++,t.lineTo(n[i][0],n[i][1])}})),sP=["itemStyle","borderColor"],lP=d;zs(function(t,e){var n=t.get("color");t.eachRawSeriesByType("boxplot",function(e){var i=n[e.seriesIndex%n.length],o=e.getData();o.setVisual({"legendSymbol":"roundRect","color":e.get(sP)||i}),t.isSeriesFiltered(e)||o.each(function(t){var e=o.getItemModel(t);o.setItemVisual(t,{"color":e.get(sP,!0)})})})}),Rs(function(t){var e=function ag(t){var e=[],n=[];return t.eachSeriesByType("boxplot",function(t){var i=t.getBaseAxis(),o=l(n,i);o<0&&(o=n.length,n[o]=i,e[o]={"axis":i,"seriesModels":[]}),e[o].seriesModels.push(t)}),e}(t);lP(e,function(t){var e=t.seriesModels;e.length&&(function rg(t){var e,n,i=t.axis,o=t.seriesModels,a=o.length,r=t.boxWidthList=[],s=t.boxOffsetList=[],l=[];if("category"===i.type)n=i.getBandWidth();else{var u=0;lP(o,function(t){u=Math.max(u,t.getData().count())}),e=i.getExtent(),Math.abs(e[1]-e[0])}lP(o,function(t){var e=t.get("boxWidth");y(e)||(e=[e,e]),l.push([Bo(e[0],n)||0,Bo(e[1],n)||0])});var h=.8*n-2,c=h/a*.3,d=(h-c*(a-1))/a,f=d/2-h/2;lP(o,function(t,e){s.push(f),f+=c+d,r.push(Math.min(Math.max(d,l[e][0]),l[e][1]))})}(t),lP(e,function(e,n){!function sg(t,e,i){function n(t,n,i){var o,a=s.get(n,i),l=[];return l[u]=t,l[h]=a,isNaN(t)||isNaN(a)?o=[NaN,NaN]:(o=r.dataToPoint(l))[u]+=e,o}function o(t,e,n){var i=e.slice(),o=e.slice();i[u]+=l,o[u]-=l,n?t.push(i,o):t.push(o,i)}function a(t,e){var n=e.slice(),i=e.slice();n[u]-=l,i[u]+=l,t.push(n,i)}var r=t.coordinateSystem,s=t.getData(),l=i/2,u="horizontal"===t.get("layout")?0:1,h=1-u,c=["x","y"],d=s.mapDimension(c[u]),f=s.mapDimension(c[h],!0);if(!(null==d||f.length<5))for(var p=0;p<s.count();p++){var g=s.get(d,p),m=n(g,f[2],p),v=n(g,f[0],p),y=n(g,f[1],p),x=n(g,f[3],p),_=n(g,f[4],p),b=[];o(b,y,0),o(b,x,1),b.push(v,y,_,x),a(b,v),a(b,_),a(b,m),s.setItemLayout(p,{"initBaseline":m[h],"ends":b})}}(e,t.boxOffsetList[n],t.boxWidthList[n])}))})}),h(oT.extend({"type":"series.candlestick","dependencies":["xAxis","yAxis","grid"],"defaultValueDimensions":[{"name":"open","defaultTooltip":!0},{"name":"close","defaultTooltip":!0},{"name":"lowest","defaultTooltip":!0},{"name":"highest","defaultTooltip":!0}],"dimensions":null,"defaultOption":{"zlevel":0,"z":2,"coordinateSystem":"cartesian2d","legendHoverLink":!0,"hoverAnimation":!0,"layout":null,"itemStyle":{"color":"#c23531","color0":"#314656","borderWidth":1,"borderColor":"#c23531","borderColor0":"#314656"},"emphasis":{"itemStyle":{"borderWidth":2}},"barMaxWidth":null,"barMinWidth":null,"barWidth":null,"large":!0,"largeThreshold":600,"progressive":3e3,"progressiveThreshold":1e4,"progressiveChunkMode":"mod","animationUpdate":!1,"animationEasing":"linear","animationDuration":300},"getShadowDim":function getShadowDim(){return"open"},"brushSelector":function brushSelector(t,e,n){var i=e.getItemLayout(t);return i&&n.rect(i.brushRect)}}),iP,!0);var hP=["itemStyle"],cP=["emphasis","itemStyle"],dP=["color","color0","borderColor","borderColor0"],pP=(Tr.extend({"type":"candlestick","render":function render(t,e,n){this._updateDrawMode(t),this._isLargeDraw?this._renderLarge(t):this._renderNormal(t)},"incrementalPrepareRender":function incrementalPrepareRender(t,e,n){this._clear(),this._updateDrawMode(t)},"incrementalRender":function incrementalRender(t,e,n,i){this._isLargeDraw?this._incrementalRenderLarge(t,e):this._incrementalRenderNormal(t,e)},"_updateDrawMode":function _updateDrawMode(t){var e=t.pipelineContext.large;(null==this._isLargeDraw||e^this._isLargeDraw)&&(this._isLargeDraw=e,this._clear())},"_renderNormal":function _renderNormal(t){var e=t.getData(),n=this._data,i=this.group,o=e.getLayout("isSimpleBox");this._data||i.removeAll(),e.diff(n).add(function(n){if(e.hasValue(n)){var a,r=e.getItemLayout(n);Io(a=lg(r,0,!0),{"shape":{"points":r.ends}},t,n),ug(a,e,n,o),i.add(a),e.setItemGraphicEl(n,a)}}).update(function(a,r){var s=n.getItemGraphicEl(r);if(e.hasValue(a)){var l=e.getItemLayout(a);s?Mo(s,{"shape":{"points":l.ends}},t,a):s=lg(l),ug(s,e,a,o),i.add(s),e.setItemGraphicEl(a,s)}else i.remove(s)}).remove(function(t){var e=n.getItemGraphicEl(t);e&&i.remove(e)}).execute(),this._data=e},"_renderLarge":function _renderLarge(t){this._clear(),cg(t,this.group)},"_incrementalRenderNormal":function _incrementalRenderNormal(t,e){for(var n,i=e.getData(),o=i.getLayout("isSimpleBox");null!=(n=t.next());){var a;ug(a=lg(i.getItemLayout(n)),i,n,o),a.incremental=!0,this.group.add(a)}},"_incrementalRenderLarge":function _incrementalRenderLarge(t,e){cg(e,this.group,!0)},"remove":function remove(t){this._clear()},"_clear":function _clear(){this.group.removeAll(),this._data=null},"dispose":B}),kn.extend({"type":"normalCandlestickBox","shape":{},"buildPath":function buildPath(t,e){var n=e.points;this.__simpleBox?(t.moveTo(n[4][0],n[4][1]),t.lineTo(n[6][0],n[6][1])):(t.moveTo(n[0][0],n[0][1]),t.lineTo(n[1][0],n[1][1]),t.lineTo(n[2][0],n[2][1]),t.lineTo(n[3][0],n[3][1]),t.closePath(),t.moveTo(n[4][0],n[4][1]),t.lineTo(n[5][0],n[5][1]),t.moveTo(n[6][0],n[6][1]),t.lineTo(n[7][0],n[7][1]))}})),gP=kn.extend({"type":"largeCandlestickBox","shape":{},"buildPath":function buildPath(t,e){for(var n=e.points,i=0;i<n.length;)if(this.__sign===n[i++]){var o=n[i++];t.moveTo(o,n[i++]),t.lineTo(o,n[i++])}else i+=3}}),mP=["itemStyle","borderColor"],vP=["itemStyle","borderColor0"],yP=["itemStyle","color"],xP=["itemStyle","color0"],_P={"seriesType":"candlestick","plan":lT(),"performRawSeries":!0,"reset":function reset(t,e){function i(t,e){return e.get(t>0?yP:xP)}function n(t,e){return e.get(t>0?mP:vP)}var o=t.getData(),a=t.pipelineContext.large;if(o.setVisual({"legendSymbol":"roundRect","colorP":i(1,t),"colorN":i(-1,t),"borderColorP":n(1,t),"borderColorN":n(-1,t)}),!e.isSeriesFiltered(t))return!a&&{"progress":function progress(t,e){for(var o;null!=(o=t.next());){var a=e.getItemModel(o),r=e.getItemLayout(o).sign;e.setItemVisual(o,{"color":i(r,a),"borderColor":n(r,a)})}}}}},bP="undefined"!=typeof Float32Array?Float32Array:Array,wP={"seriesType":"candlestick","plan":lT(),"reset":function reset(t){var e=t.coordinateSystem,n=t.getData(),i=function pg(t,e){var n,i=t.getBaseAxis(),o="category"===i.type?i.getBandWidth():(n=i.getExtent(),Math.abs(n[1]-n[0])/e.count()),a=Bo(A(t.get("barMaxWidth"),o),o),r=Bo(A(t.get("barMinWidth"),1),o),s=t.get("barWidth");return null!=s?Bo(s,o):Math.max(Math.min(o/2,a),r)}(t,n),o=0,a=1,s=["x","y"],u=n.mapDimension(s[o]),h=n.mapDimension(s[a],!0),c=h[0],d=h[1],p=h[2],g=h[3];if(n.setLayout({"candleWidth":i,"isSimpleBox":i<=1.3}),!(null==u||h.length<4))return{"progress":t.pipelineContext.large?function(t,n){for(var i,r,s=new bP(5*t.count),l=0,h=[],f=[];null!=(r=t.next());){var m=n.get(u,r),v=n.get(c,r),y=n.get(d,r),x=n.get(p,r),_=n.get(g,r);isNaN(m)||isNaN(x)||isNaN(_)?(s[l++]=NaN,l+=4):(s[l++]=fg(n,r,v,y,d),h[o]=m,h[a]=x,i=e.dataToPoint(h,null,f),s[l++]=i?i[0]:NaN,s[l++]=i?i[1]:NaN,h[a]=_,i=e.dataToPoint(h,null,f),s[l++]=i?i[1]:NaN)}n.setLayout("largePoints",s)}:function(t,n){function r(t,n){var i=[];return i[o]=n,i[a]=t,isNaN(n)||isNaN(t)?[NaN,NaN]:e.dataToPoint(i)}function l(t,e,n){var a=e.slice(),r=e.slice();a[o]=$n(a[o]+i/2,1,!1),r[o]=$n(r[o]-i/2,1,!0),n?t.push(a,r):t.push(r,a)}function f(t){return t[o]=$n(t[o],1),t}for(var s;null!=(s=t.next());){var h=n.get(u,s),m=n.get(c,s),v=n.get(d,s),y=n.get(p,s),x=n.get(g,s),_=Math.min(m,v),b=Math.max(m,v),w=r(_,h),S=r(b,h),M=r(y,h),I=r(x,h),T=[];l(T,S,0),l(T,w,1),T.push(f(I),f(S),f(M),f(w)),n.setItemLayout(s,{"sign":fg(n,s,m,v,d),"initBaseline":m>v?S[a]:w[a],"ends":T,"brushRect":function(t,e,n){var s=r(y,n),l=r(e,n);return s[o]-=i/2,l[o]-=i/2,{"x":s[0],"y":s[1],"width":a?i:l[0]-s[0],"height":a?l[1]-s[1]:i}}(0,x,h)})}}}}};Ps(function(t){t&&y(t.series)&&d(t.series,function(t){w(t)&&"k"===t.type&&(t.type="candlestick")})}),zs(_P),Rs(wP),oT.extend({"type":"series.effectScatter","dependencies":["grid","polar"],"getInitialData":function getInitialData(t,e){return gl(this.getSource(),this)},"brushSelector":"point","defaultOption":{"coordinateSystem":"cartesian2d","zlevel":0,"z":2,"legendHoverLink":!0,"effectType":"ripple","progressive":0,"showEffectOn":"render","rippleEffect":{"period":4,"scale":2.5,"brushType":"fill"},"symbolSize":10}});var SP=vg.prototype;SP.stopEffectAnimation=function(){this.childAt(1).removeAll()},SP.startEffectAnimation=function(t){for(var e=t.symbolType,n=t.color,i=this.childAt(1),o=0;o<3;o++){var a=$l(e,-1,-1,2,2,n);a.attr({"style":{"strokeNoScale":!0},"z2":99,"silent":!0,"scale":[.5,.5]});var r=-o/3*t.period+t.effectOffset;a.animate("",!0).when(t.period,{"scale":[t.rippleScale/2,t.rippleScale/2]}).delay(r).start(),a.animateStyle(!0).when(t.period,{"opacity":0}).delay(r).start(),i.add(a)}mg(i,t)},SP.updateEffectAnimation=function(t){for(var e=this._effectCfg,n=this.childAt(1),i=["symbolType","period","rippleScale"],o=0;o<i.length;o++){var a=i[o];if(e[a]!==t[a])return this.stopEffectAnimation(),void this.startEffectAnimation(t)}mg(n,t)},SP.highlight=function(){this.trigger("emphasis")},SP.downplay=function(){this.trigger("normal")},SP.updateData=function(t,e){var n=t.hostModel;this.childAt(0).updateData(t,e);var i=this.childAt(1),o=t.getItemModel(e),a=t.getItemVisual(e,"symbol"),r=function gg(t){return y(t)||(t=[+t,+t]),t}(t.getItemVisual(e,"symbolSize")),s=t.getItemVisual(e,"color");i.attr("scale",r),i.traverse(function(t){t.attr({"fill":s})});var l=o.getShallow("symbolOffset");if(l){var u=i.position;u[0]=Bo(l[0],r[0]),u[1]=Bo(l[1],r[1])}i.rotation=(o.getShallow("symbolRotate")||0)*Math.PI/180||0;var h={};if(h.showEffectOn=n.get("showEffectOn"),h.rippleScale=o.get("rippleEffect.scale"),h.brushType=o.get("rippleEffect.brushType"),h.period=1e3*o.get("rippleEffect.period"),h.effectOffset=e/t.count(),h.z=o.getShallow("z")||0,h.zlevel=o.getShallow("zlevel")||0,h.symbolType=a,h.color=s,this.off("mouseover").off("mouseout").off("emphasis").off("normal"),"render"===h.showEffectOn)this._effectCfg?this.updateEffectAnimation(h):this.startEffectAnimation(h),this._effectCfg=h;else{this._effectCfg=null,this.stopEffectAnimation();var c=this.childAt(0),p=function d(){c.highlight(),"render"!==h.showEffectOn&&this.startEffectAnimation(h)},g=function f(){c.downplay(),"render"!==h.showEffectOn&&this.stopEffectAnimation()};this.on("mouseover",p,this).on("mouseout",g,this).on("emphasis",p,this).on("normal",g,this)}this._effectCfg=h},SP.fadeOut=function(t){this.off("mouseover").off("mouseout").off("emphasis").off("normal"),t&&t()},u(vg,Zb),Hs({"type":"effectScatter","init":function init(){this._symbolDraw=new Au(vg)},"render":function render(t,e,n){var i=t.getData(),o=this._symbolDraw;o.updateData(i),this.group.add(o.group)},"updateTransform":function updateTransform(t,e,n){var i=t.getData();this.group.dirty();var o=HD().reset(t);o.progress&&o.progress({"start":0,"end":i.count()},i),this._symbolDraw.updateLayout(i)},"_updateGroupTransform":function _updateGroupTransform(t){var e=t.coordinateSystem;e&&e.getRoamTransform&&(this.group.transform=At(e.getRoamTransform()),this.group.decomposeTransform())},"remove":function remove(t,e){this._symbolDraw&&this._symbolDraw.remove(e)},"dispose":function dispose(){}}),zs(FD("effectScatter","circle")),Rs(HD("effectScatter"));var MP="undefined"==typeof Uint32Array?Array:Uint32Array,IP="undefined"==typeof Float64Array?Array:Float64Array,TP=oT.extend({"type":"series.lines","dependencies":["grid","polar"],"visualColorAccessPath":"lineStyle.color","init":function init(t){t.data=t.data||[],yg(t);var e=this._processFlatCoordsArray(t.data);this._flatCoords=e.flatCoords,this._flatCoordsOffset=e.flatCoordsOffset,e.flatCoords&&(t.data=new Float32Array(e.count)),TP.superApply(this,"init",arguments)},"mergeOption":function mergeOption(t){if(t.data=t.data||[],yg(t),t.data){var e=this._processFlatCoordsArray(t.data);this._flatCoords=e.flatCoords,this._flatCoordsOffset=e.flatCoordsOffset,e.flatCoords&&(t.data=new Float32Array(e.count))}TP.superApply(this,"mergeOption",arguments)},"appendData":function appendData(t){var e=this._processFlatCoordsArray(t.data);e.flatCoords&&(this._flatCoords?(this._flatCoords=z(this._flatCoords,e.flatCoords),this._flatCoordsOffset=z(this._flatCoordsOffset,e.flatCoordsOffset)):(this._flatCoords=e.flatCoords,this._flatCoordsOffset=e.flatCoordsOffset),t.data=new Float32Array(e.count)),this.getRawData().appendData(t.data)},"_getCoordsFromItemModel":function _getCoordsFromItemModel(t){var e=this.getData().getItemModel(t);return e.option instanceof Array?e.option:e.getShallow("coords")},"getLineCoordsCount":function getLineCoordsCount(t){return this._flatCoordsOffset?this._flatCoordsOffset[2*t+1]:this._getCoordsFromItemModel(t).length},"getLineCoords":function getLineCoords(t,e){if(this._flatCoordsOffset){for(var n=this._flatCoordsOffset[2*t],i=this._flatCoordsOffset[2*t+1],o=0;o<i;o++)e[o]=e[o]||[],e[o][0]=this._flatCoords[n+2*o],e[o][1]=this._flatCoords[n+2*o+1];return i}var a=this._getCoordsFromItemModel(t);for(o=0;o<a.length;o++)e[o]=e[o]||[],e[o][0]=a[o][0],e[o][1]=a[o][1];return a.length},"_processFlatCoordsArray":function _processFlatCoordsArray(t){var e=0;if(this._flatCoords&&(e=this._flatCoords.length),"number"==typeof t[0]){for(var n=t.length,i=new MP(n),o=new IP(n),a=0,r=0,s=0,l=0;l<n;){s++;var u=t[l++];i[r++]=a+e,i[r++]=u;for(var h=0;h<u;h++){var c=t[l++],d=t[l++];o[a++]=c,o[a++]=d}}return{"flatCoordsOffset":new Uint32Array(i.buffer,0,r),"flatCoords":o,"count":s}}return{"flatCoordsOffset":null,"flatCoords":null,"count":t.length}},"getInitialData":function getInitialData(t,e){var n=new DA(["value"],this);return n.hasItemOption=!1,n.initData(t.data,[],function(t,e,i,o){if(t instanceof Array)return NaN;n.hasItemOption=!0;var a=t.value;return null!=a?a instanceof Array?a[o]:a:void 0}),n},"formatTooltip":function formatTooltip(t){var e=this.getData().getItemModel(t),n=e.get("name");if(n)return n;var i=e.get("fromName"),o=e.get("toName"),a=[];return null!=i&&a.push(i),null!=o&&a.push(o),ea(a.join(" > "))},"preventIncremental":function preventIncremental(){return!!this.get("effect.show")},"getProgressive":function getProgressive(){var t=this.option.progressive;return null==t?this.option.large?1e4:this.get("progressive"):t},"getProgressiveThreshold":function getProgressiveThreshold(){var t=this.option.progressiveThreshold;return null==t?this.option.large?2e4:this.get("progressiveThreshold"):t},"defaultOption":{"coordinateSystem":"geo","zlevel":0,"z":2,"legendHoverLink":!0,"hoverAnimation":!0,"xAxisIndex":0,"yAxisIndex":0,"symbol":["none","none"],"symbolSize":[10,10],"geoIndex":0,"effect":{"show":!1,"period":4,"constantSpeed":0,"symbol":"circle","symbolSize":3,"loop":!0,"trailLength":.2},"large":!1,"largeThreshold":2e3,"polyline":!1,"label":{"show":!1,"position":"end"},"lineStyle":{"opacity":.5}}}),AP=xg.prototype;AP.createLine=function(t,e,n){return new af(t,e,n)},AP._updateEffectSymbol=function(t,e){var n=t.getItemModel(e).getModel("effect"),i=n.get("symbolSize"),o=n.get("symbol");y(i)||(i=[i,i]);var a=n.get("color")||t.getItemVisual(e,"color"),r=this.childAt(1);this._symbolType!==o&&(this.remove(r),(r=$l(o,-.5,-.5,1,1,a)).z2=100,r.culling=!0,this.add(r)),r&&(r.setStyle("shadowColor",a),r.setStyle(n.getItemStyle(["color"])),r.attr("scale",i),r.setColor(a),r.attr("scale",i),this._symbolType=o,this._updateEffectAnimation(t,n,e))},AP._updateEffectAnimation=function(t,e,n){var i=this.childAt(1);if(i){var o=this,a=t.getItemLayout(n),r=1e3*e.get("period"),s=e.get("loop"),l=e.get("constantSpeed"),u=T(e.get("delay"),function(e){return e/t.count()*r/3}),h="function"==typeof u;if(i.ignore=!0,this.updateAnimationPoints(i,a),l>0&&(r=this.getLineLength(i)/l*1e3),r!==this._period||s!==this._loop){i.stopAnimation();var c=u;h&&(c=u(n)),i.__t>0&&(c=-r*i.__t),i.__t=0;var d=i.animate("",s).when(r,{"__t":1}).delay(c).during(function(){o.updateSymbolPosition(i)});s||d.done(function(){o.remove(i)}),d.start()}this._period=r,this._loop=s}},AP.getLineLength=function(t){return q_(t.__p1,t.__cp1)+q_(t.__cp1,t.__p2)},AP.updateAnimationPoints=function(t,e){t.__p1=e[0],t.__p2=e[1],t.__cp1=e[2]||[(e[0][0]+e[1][0])/2,(e[0][1]+e[1][1])/2]},AP.updateData=function(t,e,n){this.childAt(0).updateData(t,e,n),this._updateEffectSymbol(t,e)},AP.updateSymbolPosition=function(t){var e=t.__p1,n=t.__p2,i=t.__cp1,o=t.__t,a=t.position,r=rn,s=sn;a[0]=r(e[0],i[0],n[0],o),a[1]=r(e[1],i[1],n[1],o);var l=s(e[0],i[0],n[0],o),u=s(e[1],i[1],n[1],o);t.rotation=-Math.atan2(u,l)-Math.PI/2,t.ignore=!1},AP.updateLayout=function(t,e){this.childAt(0).updateLayout(t,e);var n=t.getItemModel(e).getModel("effect");this._updateEffectAnimation(t,n,e)},u(xg,Zb);var DP=_g.prototype;DP._createPolyline=function(t,e,n){var i=t.getItemLayout(e),o=new yM({"shape":{"points":i}});this.add(o),this._updateCommonStl(t,e,n)},DP.updateData=function(t,e,n){var i=t.hostModel;Mo(this.childAt(0),{"shape":{"points":t.getItemLayout(e)}},i,e),this._updateCommonStl(t,e,n)},DP._updateCommonStl=function(t,e,n){var i=this.childAt(0),o=t.getItemModel(e),a=t.getItemVisual(e,"color"),s=n&&n.lineStyle,l=n&&n.hoverLineStyle;n&&!t.hasItemOption||(s=o.getModel("lineStyle").getLineStyle(),l=o.getModel("emphasis.lineStyle").getLineStyle()),i.useStyle(r({"strokeNoScale":!0,"fill":"none","stroke":a},s)),i.hoverStyle=l,co(this)},DP.updateLayout=function(t,e){this.childAt(0).setShape("points",t.getItemLayout(e))},u(_g,Zb);var CP=wg.prototype;CP.createLine=function(t,e,n){return new _g(t,e,n)},CP.updateAnimationPoints=function(t,e){this._points=e;for(var n=[0],i=0,o=1;o<e.length;o++){var a=e[o-1],r=e[o];i+=q_(a,r),n.push(i)}if(0!==i){for(o=0;o<n.length;o++)n[o]/=i;this._offsets=n,this._length=i}},CP.getLineLength=function(t){return this._length},CP.updateSymbolPosition=function(t){var e=t.__t,n=this._points,i=this._offsets,o=n.length;if(i){var a=this._lastFrame;if(e<this._lastFramePercent){for(r=Math.min(a+1,o-1);r>=0&&!(i[r]<=e);r--);r=Math.min(r,o-2)}else{for(var r=a;r<o&&!(i[r]>e);r++);r=Math.min(r-1,o-2)}J(t.position,n[r],n[r+1],(e-i[r])/(i[r+1]-i[r]));var s=n[r+1][0]-n[r][0],l=n[r+1][1]-n[r][1];t.rotation=-Math.atan2(l,s)-Math.PI/2,this._lastFrame=r,this._lastFramePercent=e,t.ignore=!1}},u(wg,xg);var LP=Zn({"shape":{"polyline":!1,"curveness":0,"segs":[]},"buildPath":function buildPath(t,e){var n=e.segs,i=e.curveness;if(e.polyline)for(r=0;r<n.length;){var o=n[r++];if(o>0){t.moveTo(n[r++],n[r++]);for(var a=1;a<o;a++)t.lineTo(n[r++],n[r++])}}else for(var r=0;r<n.length;){var s=n[r++],l=n[r++],u=n[r++],h=n[r++];if(t.moveTo(s,l),i>0){var c=(s+u)/2-(l-h)*i,d=(l+h)/2-(u-s)*i;t.quadraticCurveTo(c,d,u,h)}else t.lineTo(u,h)}},"findDataIndex":function findDataIndex(t,e){var n=this.shape,i=n.segs,o=n.curveness;if(n.polyline)for(var a=0,r=0;r<i.length;){var s=i[r++];if(s>0)for(var l=i[r++],u=i[r++],h=1;h<s;h++)if(vn(l,u,c=i[r++],d=i[r++]))return a;a++}else for(a=0,r=0;r<i.length;){l=i[r++],u=i[r++];var c=i[r++],d=i[r++];if(o>0){if(xn(l,u,(l+c)/2-(u-d)*o,(u+d)/2-(c-l)*o,c,d))return a}else if(vn(l,u,c,d))return a;a++}return-1}}),kP=bg.prototype;kP.isPersistent=function(){return!this._incremental},kP.updateData=function(t){this.group.removeAll();var e=new LP({"rectHover":!0,"cursor":"default"});e.setShape({"segs":t.getLayout("linesPoints")}),this._setCommon(e,t),this.group.add(e),this._incremental=null},kP.incrementalPrepareUpdate=function(t){this.group.removeAll(),this._clearIncremental(),t.count()>5e5?(this._incremental||(this._incremental=new Hn({"silent":!0})),this.group.add(this._incremental)):this._incremental=null},kP.incrementalUpdate=function(t,e){var n=new LP;n.setShape({"segs":e.getLayout("linesPoints")}),this._setCommon(n,e,!!this._incremental),this._incremental?this._incremental.addDisplayable(n,!0):(n.rectHover=!0,n.cursor="default",n.__startIndex=t.start,this.group.add(n))},kP.remove=function(){this._clearIncremental(),this._incremental=null,this.group.removeAll()},kP._setCommon=function(t,e,n){var i=e.hostModel;t.setShape({"polyline":i.get("polyline"),"curveness":i.get("lineStyle.curveness")}),t.useStyle(i.getModel("lineStyle").getLineStyle()),t.style.strokeNoScale=!0;var o=e.getVisual("color");o&&t.setStyle("stroke",o),t.setStyle("fill"),n||(t.seriesIndex=i.seriesIndex,t.on("mousemove",function(e){t.dataIndex=null;var n=t.findDataIndex(e.offsetX,e.offsetY);n>0&&(t.dataIndex=n+t.__startIndex)}))},kP._clearIncremental=function(){var t=this._incremental;t&&t.clearDisplaybles()};var PP={"seriesType":"lines","plan":lT(),"reset":function reset(t){var e=t.coordinateSystem,n=t.get("polyline"),i=t.pipelineContext.large;return{"progress":function progress(o,a){var r=[];if(i){var s,l=o.end-o.start;if(n){for(var u=0,h=o.start;h<o.end;h++)u+=t.getLineCoordsCount(h);s=new Float32Array(l+2*u)}else s=new Float32Array(4*l);var c=0,d=[];for(h=o.start;h<o.end;h++){g=t.getLineCoords(h,r),n&&(s[c++]=g);for(var f=0;f<g;f++)d=e.dataToPoint(r[f],!1,d),s[c++]=d[0],s[c++]=d[1]}a.setLayout("linesPoints",s)}else for(h=o.start;h<o.end;h++){var p=a.getItemModel(h),g=t.getLineCoords(h,r),m=[];if(n)for(var v=0;v<g;v++)m.push(e.dataToPoint(r[v]));else{m[0]=e.dataToPoint(r[0]),m[1]=e.dataToPoint(r[1]);var y=p.get("lineStyle.curveness");+y&&(m[2]=[(m[0][0]+m[1][0])/2-(m[0][1]-m[1][1])*y,(m[0][1]+m[1][1])/2-(m[1][0]-m[0][0])*y])}a.setItemLayout(h,m)}}}}};Hs({"type":"lines","init":function init(){},"render":function render(t,e,n){var i=t.getData(),o=this._updateLineDraw(i,t),a=t.get("zlevel"),r=t.get("effect.trailLength"),s=n.getZr(),l="svg"===s.painter.getType();l||s.painter.getLayer(a).clear(!0),null==this._lastZlevel||l||s.configLayer(this._lastZlevel,{"motionBlur":!1}),this._showEffect(t)&&r&&(l||s.configLayer(a,{"motionBlur":!0,"lastFrameAlpha":Math.max(Math.min(r/10+.9,1),0)})),o.updateData(i),this._lastZlevel=a,this._finished=!0},"incrementalPrepareRender":function incrementalPrepareRender(t,e,n){var i=t.getData();this._updateLineDraw(i,t).incrementalPrepareUpdate(i),this._clearLayer(n),this._finished=!1},"incrementalRender":function incrementalRender(t,e,n){this._lineDraw.incrementalUpdate(t,e.getData()),this._finished=t.end===e.getData().count()},"updateTransform":function updateTransform(t,e,n){var i=t.getData(),o=t.pipelineContext;if(!this._finished||o.large||o.progressiveRender)return{"update":!0};var a=PP.reset(t);a.progress&&a.progress({"start":0,"end":i.count()},i),this._lineDraw.updateLayout(),this._clearLayer(n)},"_updateLineDraw":function _updateLineDraw(t,e){var n=this._lineDraw,i=this._showEffect(e),o=!!e.get("polyline"),a=e.pipelineContext.large;return n&&i===this._hasEffet&&o===this._isPolyline&&a===this._isLargeDraw||(n&&n.remove(),n=this._lineDraw=a?new bg:new rf(o?i?wg:_g:i?xg:af),this._hasEffet=i,this._isPolyline=o,this._isLargeDraw=a,this.group.removeAll()),this.group.add(n.group),n},"_showEffect":function _showEffect(t){return!!t.get("effect.show")},"_clearLayer":function _clearLayer(t){var e=t.getZr();"svg"===e.painter.getType()||null==this._lastZlevel||e.painter.getLayer(this._lastZlevel).clear(!0)},"remove":function remove(t,e){this._lineDraw&&this._lineDraw.remove(),this._lineDraw=null,this._clearLayer(e)},"dispose":function dispose(){}});var OP="lineStyle.opacity".split("."),RP={"seriesType":"lines","reset":function reset(t,e,n){var i=Sg(t.get("symbol")),o=Sg(t.get("symbolSize")),a=t.getData();return a.setVisual("fromSymbol",i&&i[0]),a.setVisual("toSymbol",i&&i[1]),a.setVisual("fromSymbolSize",o&&o[0]),a.setVisual("toSymbolSize",o&&o[1]),a.setVisual("opacity",t.get(OP)),{"dataEach":a.hasItemOption?function(t,e){var n=t.getItemModel(e),i=Sg(n.getShallow("symbol",!0)),o=Sg(n.getShallow("symbolSize",!0)),a=n.get(OP);i[0]&&t.setItemVisual(e,"fromSymbol",i[0]),i[1]&&t.setItemVisual(e,"toSymbol",i[1]),o[0]&&t.setItemVisual(e,"fromSymbolSize",o[0]),o[1]&&t.setItemVisual(e,"toSymbolSize",o[1]),t.setItemVisual(e,"opacity",a)}:null}}};Rs(PP),zs(RP),oT.extend({"type":"series.heatmap","getInitialData":function getInitialData(t,e){return gl(this.getSource(),this,{"generateCoord":"value"})},"preventIncremental":function preventIncremental(){var t=Ga.get(this.get("coordinateSystem"));if(t&&t.dimensions)return"lng"===t.dimensions[0]&&"lat"===t.dimensions[1]},"defaultOption":{"coordinateSystem":"cartesian2d","zlevel":0,"z":2,"geoIndex":0,"blurSize":30,"pointSize":20,"maxOpacity":1,"minOpacity":0}}),Mg.prototype={"update":function update(t,e,n,i,o,a){var r=this._getBrush(),s=this._getGradient(t,o,"inRange"),l=this._getGradient(t,o,"outOfRange"),u=this.pointSize+this.blurSize,h=this.canvas,c=h.getContext("2d"),d=t.length;h.width=e,h.height=n;for(var f=0;f<d;++f){var p=t[f],g=p[0],m=p[1],v=i(p[2]);c.globalAlpha=v,c.drawImage(r,g-u,m-u)}if(!h.width||!h.height)return h;for(var y=c.getImageData(0,0,h.width,h.height),x=y.data,_=0,b=x.length,w=this.minOpacity,S=this.maxOpacity-w;_<b;){v=x[_+3]/256;var M=4*Math.floor(255*v);if(v>0){var I=a(v)?s:l;v>0&&(v=v*S+w),x[_++]=I[M],x[_++]=I[M+1],x[_++]=I[M+2],x[_++]=I[M+3]*v*256}else _+=4}return c.putImageData(y,0,0),h},"_getBrush":function _getBrush(){var t=this._brushCanvas||(this._brushCanvas=gx()),e=this.pointSize+this.blurSize,n=2*e;t.width=n,t.height=n;var i=t.getContext("2d");return i.clearRect(0,0,n,n),i.shadowOffsetX=n,i.shadowBlur=this.blurSize,i.shadowColor="#000",i.beginPath(),i.arc(-e,e,this.pointSize,0,2*Math.PI,!0),i.closePath(),i.fill(),t},"_getGradient":function _getGradient(t,e,n){for(var i=this._gradientPixels,o=i[n]||(i[n]=new Uint8ClampedArray(1024)),a=[0,0,0,0],r=0,s=0;s<256;s++)e[n](s/255,!0,a),o[r++]=a[0],o[r++]=a[1],o[r++]=a[2],o[r++]=a[3];return o}},Hs({"type":"heatmap","render":function render(t,e,n){var i;e.eachComponent("visualMap",function(e){e.eachTargetSeries(function(n){n===t&&(i=e)})}),this.group.removeAll(),this._incrementalDisplayable=null;var o=t.coordinateSystem;"cartesian2d"===o.type||"calendar"===o.type?this._renderOnCartesianAndCalendar(t,n,0,t.getData().count()):function Ag(t){var e=t.dimensions;return"lng"===e[0]&&"lat"===e[1]}(o)&&this._renderOnGeo(o,t,i,n)},"incrementalPrepareRender":function incrementalPrepareRender(t,e,n){this.group.removeAll()},"incrementalRender":function incrementalRender(t,e,n,i){e.coordinateSystem&&this._renderOnCartesianAndCalendar(e,i,t.start,t.end,!0)},"_renderOnCartesianAndCalendar":function _renderOnCartesianAndCalendar(t,e,n,i,o){var r,s,l=t.coordinateSystem;if("cartesian2d"===l.type){var u=l.getAxis("x"),h=l.getAxis("y");r=u.getBandWidth(),s=h.getBandWidth()}for(var c=this.group,d=t.getData(),f=t.getModel("itemStyle").getItemStyle(["color"]),p=t.getModel("emphasis.itemStyle").getItemStyle(),g=t.getModel("label"),m=t.getModel("emphasis.label"),v=l.type,y="cartesian2d"===v?[d.mapDimension("x"),d.mapDimension("y"),d.mapDimension("value")]:[d.mapDimension("time"),d.mapDimension("value")],x=n;x<i;x++){var _;if("cartesian2d"===v){if(isNaN(d.get(y[2],x)))continue;var b=l.dataToPoint([d.get(y[0],x),d.get(y[1],x)]);_=new bM({"shape":{"x":b[0]-r/2,"y":b[1]-s/2,"width":r,"height":s},"style":{"fill":d.getItemVisual(x,"color"),"opacity":d.getItemVisual(x,"opacity")}})}else{if(isNaN(d.get(y[1],x)))continue;_=new bM({"z2":1,"shape":l.dataToRect([d.get(y[0],x)]).contentShape,"style":{"fill":d.getItemVisual(x,"color"),"opacity":d.getItemVisual(x,"opacity")}})}var w=d.getItemModel(x);d.hasItemOption&&(f=w.getModel("itemStyle").getItemStyle(["color"]),p=w.getModel("emphasis.itemStyle").getItemStyle(),g=w.getModel("label"),m=w.getModel("emphasis.label"));var S=t.getRawValue(x),M="-";S&&null!=S[2]&&(M=S[2]),po(f,p,g,m,{"labelFetcher":t,"labelDataIndex":x,"defaultText":M,"isRectText":!0}),_.setStyle(f),co(_,d.hasItemOption?p:a({},p)),_.incremental=o,o&&(_.useHoverLayer=!0),c.add(_),d.setItemGraphicEl(x,_)}},"_renderOnGeo":function _renderOnGeo(t,e,n,i){var o=n.targetVisuals.inRange,a=n.targetVisuals.outOfRange,r=e.getData(),s=this._hmLayer||this._hmLayer||new Mg;s.blurSize=e.get("blurSize"),s.pointSize=e.get("pointSize"),s.minOpacity=e.get("minOpacity"),s.maxOpacity=e.get("maxOpacity");var l=t.getViewRect().clone(),u=t.getRoamTransform();l.applyTransform(u);var h=Math.max(l.x,0),c=Math.max(l.y,0),d=Math.min(l.width+l.x,i.getWidth()),f=Math.min(l.height+l.y,i.getHeight()),p=d-h,g=f-c,m=[r.mapDimension("lng"),r.mapDimension("lat"),r.mapDimension("value")],v=r.mapArray(m,function(e,n,i){var o=t.dataToPoint([e,n]);return o[0]-=h,o[1]-=c,o.push(i),o}),y=n.getExtent(),x="visualMap.continuous"===n.type?function Tg(t,e){var n=t[1]-t[0];return e=[(e[0]-t[0])/n,(e[1]-t[0])/n],function(t){return t>=e[0]&&t<=e[1]}}(y,n.option.range):Ig(y,n.getPieceList(),n.option.selected);s.update(v,p,g,o.color.getNormalizer(),{"inRange":o.color.getColorMapper(),"outOfRange":a.color.getColorMapper()},x);var _=new fi({"style":{"width":p,"height":g,"x":h,"y":c,"image":s.canvas},"silent":!0});this.group.add(_)},"dispose":function dispose(){}});var NP=mC.extend({"type":"series.pictorialBar","dependencies":["grid"],"defaultOption":{"symbol":"circle","symbolSize":null,"symbolRotate":null,"symbolPosition":null,"symbolOffset":null,"symbolMargin":null,"symbolRepeat":!1,"symbolRepeatDirection":"end","symbolClip":!1,"symbolBoundingData":null,"symbolPatternSize":400,"barGap":"-100%","progressive":0,"hoverAnimation":!1},"getInitialData":function getInitialData(t){return t.stack=null,NP.superApply(this,"getInitialData",arguments)}}),EP=["itemStyle","borderWidth"],zP=[{"xy":"x","wh":"width","index":0,"posDesc":["left","right"]},{"xy":"y","wh":"height","index":1,"posDesc":["top","bottom"]}],BP=new sM;Hs({"type":"pictorialBar","render":function render(t,e,n){var i=this.group,o=t.getData(),a=this._data,r=t.coordinateSystem,s=!!r.getBaseAxis().isHorizontal(),l=r.grid.getRect(),u={"ecSize":{"width":n.getWidth(),"height":n.getHeight()},"seriesModel":t,"coordSys":r,"coordSysExtent":[[l.x,l.x+l.width],[l.y,l.y+l.height]],"isHorizontal":s,"valueDim":zP[+s],"categoryDim":zP[1-s]};return o.diff(a).add(function(t){if(o.hasValue(t)){var e=Vg(o,t),n=Dg(o,t,e,u),a=Hg(o,u,n);o.setItemGraphicEl(t,a),i.add(a),qg(a,u,n)}}).update(function(t,e){var n=a.getItemGraphicEl(e);if(o.hasValue(t)){var r=Vg(o,t),s=Dg(o,t,r,u),l=Xg(o,s);n&&l!==n.__pictorialShapeStr&&(i.remove(n),o.setItemGraphicEl(t,null),n=null),n?function Zg(t,e,n){var i=n.animationModel,o=n.dataIndex;Mo(t.__pictorialBundle,{"position":n.bundlePosition.slice()},i,o),n.symbolRepeat?Eg(t,e,n,!0):Rg(t,0,n,!0),zg(t,n,!0),Bg(t,e,n,!0)}(n,u,s):n=Hg(o,u,s,!0),o.setItemGraphicEl(t,n),n.__pictorialSymbolMeta=s,i.add(n),qg(n,u,s)}else i.remove(n)}).remove(function(t){var e=a.getItemGraphicEl(t);e&&Ug(a,t,e.__pictorialSymbolMeta.animationModel,e)}).execute(),this._data=o,this.group},"dispose":B,"remove":function remove(t,e){var n=this.group,i=this._data;t.get("animation")?i&&i.eachItemGraphicEl(function(e){Ug(i,e.dataIndex,t,e)}):n.removeAll()}}),Rs(v(Ol,"pictorialBar")),zs(FD("pictorialBar","roundRect"));var VP=function uP(t,e,n,i,o){vD.call(this,t,e,n),this.type=i||"value",this.position=o||"bottom",this.orient=null};VP.prototype={"constructor":VP,"model":null,"isHorizontal":function isHorizontal(){var t=this.position;return"top"===t||"bottom"===t},"pointToData":function pointToData(t,e){return this.coordinateSystem.pointToData(t,e)[0]},"toGlobalCoord":null,"toLocalCoord":null},u(VP,vD),$g.prototype={"type":"singleAxis","axisPointerEnabled":!0,"constructor":$g,"_init":function _init(t,e,n){var i=this.dimension,o=new VP(i,Wl(t),[0,0],t.get("type"),t.get("position")),a="category"===o.type;o.onBand=a&&t.get("boundaryGap"),o.inverse=t.get("inverse"),o.orient=t.get("orient"),t.axis=o,o.model=t,o.coordinateSystem=this,this._axis=o},"update":function update(t,e){t.eachSeries(function(t){if(t.coordinateSystem===this){var e=t.getData();d(e.mapDimension(this.dimension,!0),function(t){this._axis.scale.unionExtentFromData(e,t)},this),Fl(this._axis.scale,this._axis.model)}},this)},"resize":function resize(t,e){this._rect=ha({"left":t.get("left"),"top":t.get("top"),"right":t.get("right"),"bottom":t.get("bottom"),"width":t.get("width"),"height":t.get("height")},{"width":e.getWidth(),"height":e.getHeight()}),this._adjustAxis()},"getRect":function getRect(){return this._rect},"_adjustAxis":function _adjustAxis(){var t=this._rect,e=this._axis,n=e.isHorizontal(),i=n?[0,t.width]:[0,t.height],o=e.reverse?1:0;e.setExtent(i[o],i[1-o]),this._updateAxisTransform(e,n?t.x:t.y)},"_updateAxisTransform":function _updateAxisTransform(t,e){var n=t.getExtent(),i=n[0]+n[1],o=t.isHorizontal();t.toGlobalCoord=o?function(t){return t+e}:function(t){return i-t+e},t.toLocalCoord=o?function(t){return t-e}:function(t){return i-t+e}},"getAxis":function getAxis(){return this._axis},"getBaseAxis":function getBaseAxis(){return this._axis},"getAxes":function getAxes(){return[this._axis]},"getTooltipAxes":function getTooltipAxes(){return{"baseAxes":[this.getAxis()]}},"containPoint":function containPoint(t){var e=this.getRect(),n=this.getAxis();return"horizontal"===n.orient?n.contain(n.toLocalCoord(t[0]))&&t[1]>=e.y&&t[1]<=e.y+e.height:n.contain(n.toLocalCoord(t[1]))&&t[0]>=e.y&&t[0]<=e.y+e.height},"pointToData":function pointToData(t){var e=this.getAxis();return[e.coordToData(e.toLocalCoord(t["horizontal"===e.orient?0:1]))]},"dataToPoint":function dataToPoint(t){var e=this.getAxis(),n=this.getRect(),i=[],o="horizontal"===e.orient?0:1;return t instanceof Array&&(t=t[0]),i[o]=e.toGlobalCoord(e.dataToCoord(+t)),i[1-o]=0===o?n.y+n.height/2:n.x+n.width/2,i}},Ga.register("single",{"create":function create(t,e){var n=[];return t.eachComponent("singleAxis",function(i,o){var a=new $g(i,t,e);a.name="single_"+o,a.resize(i,e),i.coordinateSystem=a,n.push(a)}),t.eachSeries(function(e){if("singleAxis"===e.get("coordinateSystem")){var n=t.queryComponents({"mainType":"singleAxis","index":e.get("singleAxisIndex"),"id":e.get("singleAxisId")})[0];e.coordinateSystem=n&&n.coordinateSystem}}),n},"dimensions":$g.prototype.dimensions});var GP=["axisLine","axisTickLabel","axisName"],FP=cC.extend({"type":"singleAxis","axisPointerClass":"SingleAxisPointer","render":function render(t,e,n,i){var o=this.group;o.removeAll();var a=Jg(t),r=new iC(t,a);d(GP,r.add,r),o.add(r.getGroup()),t.get("splitLine.show")&&this._splitLine(t),FP.superCall(this,"render",t,e,n,i)},"_splitLine":function _splitLine(t){var e=t.axis;if(!e.scale.isBlank()){var n=t.getModel("splitLine"),i=n.getModel("lineStyle"),o=i.get("width"),a=i.get("color");a=a instanceof Array?a:[a];for(var r=t.coordinateSystem.getRect(),s=e.isHorizontal(),l=[],u=0,h=e.getTicksCoords({"tickModel":n}),c=[],d=[],f=0;f<h.length;++f){var p=e.toGlobalCoord(h[f].coord);s?(c[0]=p,c[1]=r.y,d[0]=p,d[1]=r.y+r.height):(c[0]=r.x,c[1]=p,d[0]=r.x+r.width,d[1]=p);var g=u++%a.length;l[g]=l[g]||[],l[g].push(new SM(qn({"shape":{"x1":c[0],"y1":c[1],"x2":d[0],"y2":d[1]},"style":{"lineWidth":o},"silent":!0})))}for(f=0;f<l.length;++f)this.group.add(GM(l[f],{"style":{"stroke":a[f%a.length],"lineDash":i.getLineDash(o),"lineWidth":o},"silent":!0}))}}}),HP=pI.extend({"type":"singleAxis","layoutMode":"box","axis":null,"coordinateSystem":null,"getCoordSysModel":function getCoordSysModel(){return this}});n(HP.prototype,nD),$D("single",HP,function(t,e){return e.type||(e.data?"category":"value")},{"left":"5%","top":"5%","right":"5%","bottom":"5%","type":"value","position":"bottom","orient":"horizontal","axisLine":{"show":!0,"lineStyle":{"width":2,"type":"solid"}},"tooltip":{"show":!0},"axisTick":{"show":!0,"length":6,"lineStyle":{"width":2}},"axisLabel":{"show":!0,"interval":"auto"},"splitLine":{"show":!0,"lineStyle":{"type":"dashed","opacity":.2}}});var WP=function fP(t,e){var n,i=[],o=t.seriesIndex;if(null==o||!(n=e.getSeriesByIndex(o)))return{"point":[]};var a=n.getData(),r=zi(a,t);if(null==r||r<0||y(r))return{"point":[]};var s=a.getItemGraphicEl(r),l=n.coordinateSystem;if(n.getTooltipPosition)i=n.getTooltipPosition(r)||[];else if(l&&l.dataToPoint)i=l.dataToPoint(a.getValues(f(l.dimensions,function(t){return a.mapDimension(t)}),r,!0))||[];else if(s){var u=s.getBoundingRect().clone();u.applyTransform(s.transform),i=[u.x+u.width/2,u.y+u.height/2]}return{"point":i,"el":s}},jP=d,ZP=v,UP=Bi(),XP=(Gs({"type":"axisPointer","coordSysAxesInfo":null,"defaultOption":{"show":"auto","triggerOn":null,"zlevel":0,"z":50,"type":"line","snap":!1,"triggerTooltip":!0,"value":null,"status":null,"link":[],"animation":null,"animationDurationUpdate":200,"lineStyle":{"color":"#aaa","width":1,"type":"solid"},"shadowStyle":{"color":"rgba(150,150,150,0.3)"},"label":{"show":!0,"formatter":null,"precision":"auto","margin":3,"color":"#fff","padding":[5,7,5,7],"backgroundColor":"auto","borderColor":null,"borderWidth":0,"shadowBlur":3,"shadowColor":"#aaa"},"handle":{"show":!1,"icon":"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z","size":45,"margin":50,"color":"#333","shadowBlur":3,"shadowColor":"#aaa","shadowOffsetX":0,"shadowOffsetY":2,"throttle":40}}}),Bi()),YP=d,qP=Fs({"type":"axisPointer","render":function render(t,e,n){var i=e.getComponent("tooltip"),o=t.get("triggerOn")||i&&i.get("triggerOn")||"mousemove|click";um("axisPointer",n,function(t,e,n){"none"!==o&&("leave"===t||o.indexOf(t)>=0)&&n({"type":"updateAxisPointer","currTrigger":t,"x":e&&e.offsetX,"y":e&&e.offsetY})})},"remove":function remove(t,e){gm(e.getZr(),"axisPointer"),qP.superApply(this._model,"remove",arguments)},"dispose":function dispose(t,e){gm("axisPointer",e),qP.superApply(this._model,"dispose",arguments)}}),$P=Bi(),KP=i,QP=m;(mm.prototype={"_group":null,"_lastGraphicKey":null,"_handle":null,"_dragging":!1,"_lastValue":null,"_lastStatus":null,"_payloadInfo":null,"animationThreshold":15,"render":function render(t,e,n,i){var o=e.get("value"),a=e.get("status");if(this._axisModel=t,this._axisPointerModel=e,this._api=n,i||this._lastValue!==o||this._lastStatus!==a){this._lastValue=o,this._lastStatus=a;var r=this._group,s=this._handle;if(!a||"hide"===a)return r&&r.hide(),void(s&&s.hide());r&&r.show(),s&&s.show();var l={};this.makeElOption(l,o,t,e,n);var u=l.graphicKey;u!==this._lastGraphicKey&&this.clear(n),this._lastGraphicKey=u;var h=this._moveAnimation=this.determineAnimation(t,e);if(r){var c=v(vm,e,h);this.updatePointerEl(r,l,c,e),this.updateLabelEl(r,l,c,e)}else r=this._group=new Zb,this.createPointerEl(r,l,t,e),this.createLabelEl(r,l,t,e),n.getZr().add(r);wm(r,e,!0),this._renderHandle(o)}},"remove":function remove(t){this.clear(t)},"dispose":function dispose(t){this.clear(t)},"determineAnimation":function determineAnimation(t,e){var n=e.get("animation"),i=t.axis,o="category"===i.type,a=e.get("snap");if(!a&&!o)return!1;if("auto"===n||null==n){var r=this.animationThreshold;if(o&&i.getBandWidth()>r)return!0;if(a){var s=Sh(t).seriesDataCount,l=i.getExtent();return Math.abs(l[0]-l[1])/s>r}return!1}return!0===n},"makeElOption":function makeElOption(t,e,n,i,o){},"createPointerEl":function createPointerEl(t,e,n,i){var o=e.pointer;if(o){var a=$P(t).pointerEl=new WM[o.type](KP(e.pointer));t.add(a)}},"createLabelEl":function createLabelEl(t,e,n,i){if(e.label){var o=$P(t).labelEl=new bM(KP(e.label));t.add(o),xm(o,i)}},"updatePointerEl":function updatePointerEl(t,e,n){var i=$P(t).pointerEl;i&&(i.setStyle(e.pointer.style),n(i,{"shape":e.pointer.shape}))},"updateLabelEl":function updateLabelEl(t,e,n,i){var o=$P(t).labelEl;o&&(o.setStyle(e.label.style),n(o,{"shape":e.label.shape,"position":e.label.position}),xm(o,i))},"_renderHandle":function _renderHandle(t){if(!this._dragging&&this.updateHandleTransform){var e,n=this._axisPointerModel,i=this._api.getZr(),o=this._handle,a=n.getModel("handle"),r=n.get("status");if(!a.get("show")||!r||"hide"===r)return o&&i.remove(o),void(this._handle=null);this._handle||(e=!0,o=this._handle=ko(a.get("icon"),{"cursor":"move","draggable":!0,"onmousemove":function onmousemove(t){ib(t.event)},"onmousedown":QP(this._onHandleDragMove,this,0,0),"drift":QP(this._onHandleDragMove,this),"ondragend":QP(this._onHandleDragEnd,this)}),i.add(o)),wm(o,n,!1),o.setStyle(a.getItemStyle(null,["color","borderColor","borderWidth","opacity","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"]));var s=a.get("size");y(s)||(s=[s,s]),o.attr("scale",[s[0]/2,s[1]/2]),Pr(this,"_doDispatchAxisPointer",a.get("throttle")||0,"fixRate"),this._moveHandleToValue(t,e)}},"_moveHandleToValue":function _moveHandleToValue(t,e){vm(this._axisPointerModel,!e&&this._moveAnimation,this._handle,_m(this.getHandleTransform(t,this._axisModel,this._axisPointerModel)))},"_onHandleDragMove":function _onHandleDragMove(t,e){var n=this._handle;if(n){this._dragging=!0;var i=this.updateHandleTransform(_m(n),[t,e],this._axisModel,this._axisPointerModel);this._payloadInfo=i,n.stopAnimation(),n.attr(_m(i)),$P(n).lastProp=null,this._doDispatchAxisPointer()}},"_doDispatchAxisPointer":function _doDispatchAxisPointer(){if(this._handle){var t=this._payloadInfo,e=this._axisModel;this._api.dispatchAction({"type":"updateAxisPointer","x":t.cursorPoint[0],"y":t.cursorPoint[1],"tooltipOption":t.tooltipOption,"axesInfo":[{"axisDim":e.axis.dim,"axisIndex":e.componentIndex}]})}},"_onHandleDragEnd":function _onHandleDragEnd(t){if(this._dragging=!1,this._handle){var e=this._axisPointerModel.get("value");this._moveHandleToValue(e),this._api.dispatchAction({"type":"hideTip"})}},"getHandleTransform":null,"updateHandleTransform":null,"clear":function clear(t){this._lastValue=null,this._lastStatus=null;var e=t.getZr(),n=this._group,i=this._handle;e&&n&&(this._lastGraphicKey=null,n&&e.remove(n),i&&e.remove(i),this._group=null,this._handle=null,this._payloadInfo=null)},"doClear":function doClear(){},"buildLabel":function buildLabel(t,e,n){return{"x":t[n=n||0],"y":t[1-n],"width":e[n],"height":e[1-n]}}}).constructor=mm,Xi(mm);var JP=mm.extend({"makeElOption":function makeElOption(t,e,n,i,o){var a=n.axis,r=a.grid,s=i.get("type"),l=km(r,a).getOtherAxis(a).getGlobalExtent(),u=a.toGlobalCoord(a.dataToCoord(e,!0));if(s&&"none"!==s){var h=bm(i),c=tO[s](a,u,l,h);c.style=h,t.graphicKey=c.type,t.pointer=c}Am(e,t,Ch(r.model,n),n,i,o)},"getHandleTransform":function getHandleTransform(t,e,n){var i=Ch(e.axis.grid.model,e,{"labelInside":!1});return i.labelMargin=n.get("handle.margin"),{"position":Tm(e.axis,t,i),"rotation":i.rotation+(i.labelDirection<0?Math.PI:0)}},"updateHandleTransform":function updateHandleTransform(t,e,n,i){var o=n.axis,a=o.grid,r=o.getGlobalExtent(!0),s=km(a,o).getOtherAxis(o).getGlobalExtent(),l="x"===o.dim?0:1,u=t.position;u[l]+=e[l],u[l]=Math.min(r[1],u[l]),u[l]=Math.max(r[0],u[l]);var h=(s[1]+s[0])/2,c=[h,h];return c[l]=u[l],{"position":u,"rotation":t.rotation,"cursorPoint":c,"tooltipOption":[{"verticalAlign":"middle"},{"align":"center"}][l]}}}),tO={"line":function line(t,e,n,i){var o=Dm([e,n[0]],[e,n[1]],Pm(t));return qn({"shape":o,"style":i}),{"type":"Line","shape":o}},"shadow":function shadow(t,e,n,i){var o=Math.max(1,t.getBandWidth()),a=n[1]-n[0];return{"type":"Rect","shape":Cm([e-o/2,n[0]],[o,a],Pm(t))}}};cC.registerAxisPointerClass("CartesianAxisPointer",JP),Ps(function(t){if(t){(!t.axisPointer||0===t.axisPointer.length)&&(t.axisPointer={});var e=t.axisPointer.link;e&&!y(e)&&(t.axisPointer.link=[e])}}),Ns(qT.PROCESSOR.STATISTIC,function(t,e){t.getComponent("axisPointer").coordSysAxesInfo=mh(t,e)}),Os({"type":"updateAxisPointer","event":"updateAxisPointer","update":":updateAxisPointer"},function(t,e,n){var i=t.currTrigger,o=[t.x,t.y],a=t,r=t.dispatchAction||m(n.dispatchAction,n),s=e.getComponent("axisPointer").coordSysAxesInfo;if(s){lm(o)&&(o=WP({"seriesIndex":a.seriesIndex,"dataIndex":a.dataIndex},e).point);var l=lm(o),u=a.axesInfo,h=s.axesInfo,c="leave"===i||lm(o),d={},f={},p={"list":[],"map":{}},g={"showPointer":ZP(em,f),"showTooltip":ZP(im,p)};jP(s.coordSysMap,function(t,e){var n=l||t.containPoint(o);jP(s.coordSysAxesInfo[e],function(t,e){var i=t.axis,a=function rm(t,e){for(var n=0;n<(t||[]).length;n++){var i=t[n];if(e.axis.dim===i.axisDim&&e.axis.model.componentIndex===i.axisIndex)return i}}(u,t);if(!c&&n&&(!u||a)){var r=a&&a.value;null!=r||l||(r=i.pointToData(o)),null!=r&&Qg(t,r,g,!1,d)}})});var v={};return jP(h,function(t,e){var n=t.linkGroup;n&&!f[e]&&jP(n.axesInfo,function(e,i){var o=f[i];if(e!==t&&o){var a=o.value;n.mapper&&(a=t.axis.scale.parse(n.mapper(a,sm(e),sm(t)))),v[t.key]=a}})}),jP(v,function(t,e){Qg(h[e],t,g,!0,d)}),function nm(t,e,n){var i=n.axesInfo=[];jP(e,function(e,n){var o=e.axisPointerModel.option,a=t[n];a?(!e.useHandle&&(o.status="show"),o.value=a.value,o.seriesDataIndices=(a.payloadBatch||[]).slice()):!e.useHandle&&(o.status="hide"),"show"===o.status&&i.push({"axisDim":e.axis.dim,"axisIndex":e.axis.model.componentIndex,"value":o.value})})}(f,h,d),function om(t,e,n,i){if(!lm(e)&&t.list.length){var o=((t.list[0].dataByAxis[0]||{}).seriesDataIndices||[])[0]||{};i({"type":"showTip","escapeConnect":!0,"x":e[0],"y":e[1],"tooltipOption":n.tooltipOption,"position":n.position,"dataIndexInside":o.dataIndexInside,"dataIndex":o.dataIndex,"seriesIndex":o.seriesIndex,"dataByCoordSys":t.list})}else i({"type":"hideTip"})}(p,o,t,r),am(h,0,n),d}});var eO=["x","y"],nO=["width","height"],iO=mm.extend({"makeElOption":function makeElOption(t,e,n,i,o){var a=n.axis,r=a.coordinateSystem,s=Om(r,1-Nm(a)),l=r.dataToPoint(e)[0],u=i.get("type");if(u&&"none"!==u){var h=bm(i),c=oO[u](a,l,s,h);c.style=h,t.graphicKey=c.type,t.pointer=c}Am(e,t,Jg(n),n,i,o)},"getHandleTransform":function getHandleTransform(t,e,n){var i=Jg(e,{"labelInside":!1});return i.labelMargin=n.get("handle.margin"),{"position":Tm(e.axis,t,i),"rotation":i.rotation+(i.labelDirection<0?Math.PI:0)}},"updateHandleTransform":function updateHandleTransform(t,e,n,i){var o=n.axis,a=o.coordinateSystem,r=Nm(o),s=Om(a,r),l=t.position;l[r]+=e[r],l[r]=Math.min(s[1],l[r]),l[r]=Math.max(s[0],l[r]);var u=Om(a,1-r),h=(u[1]+u[0])/2,c=[h,h];return c[r]=l[r],{"position":l,"rotation":t.rotation,"cursorPoint":c,"tooltipOption":{"verticalAlign":"middle"}}}}),oO={"line":function line(t,e,n,i){var o=Dm([e,n[0]],[e,n[1]],Nm(t));return qn({"shape":o,"style":i}),{"type":"Line","shape":o}},"shadow":function shadow(t,e,n,i){var o=t.getBandWidth(),a=n[1]-n[0];return{"type":"Rect","shape":Cm([e-o/2,n[0]],[o,a],Nm(t))}}};cC.registerAxisPointerClass("SingleAxisPointer",iO),Fs({"type":"single"});var aO=oT.extend({"type":"series.themeRiver","dependencies":["singleAxis"],"nameMap":null,"init":function init(t){aO.superApply(this,"init",arguments),this.legendDataProvider=function(){return this.getRawData()}},"fixData":function fixData(t){for(var e=t.length,n=f(zp().key(function(t){return t[2]}).entries(t),function(t){return{"name":t.key,"dataList":t.values}}),i=n.length,o=-1,a=-1,r=0;r<i;++r){var s=n[r].dataList.length;s>o&&(o=s,a=r)}for(var l=0;l<i;++l)if(l!==a)for(var u=n[l].name,h=0;h<o;++h){for(var c=n[a].dataList[h][0],d=n[l].dataList.length,p=-1,g=0;g<d;++g)if(n[l].dataList[g][0]===c){p=g;break}-1===p&&(t[e]=[],t[e][0]=c,t[e][1]=0,t[e][2]=u,e++)}return t},"getInitialData":function getInitialData(t,e){for(var n=e.queryComponents({"mainType":"singleAxis","index":this.get("singleAxisIndex"),"id":this.get("singleAxisId")})[0].get("type"),i=g(t.data,function(t){return void 0!==t[2]}),o=this.fixData(i||[]),a=[],r=this.nameMap=R(),s=0,l=0;l<o.length;++l)a.push(o[l][2]),r.get(o[l][2])||(r.set(o[l][2],s),s++);var u=kA(o,{"coordDimensions":["single"],"dimensionsDefine":[{"name":"time","type":Ys(n)},{"name":"value","type":"float"},{"name":"name","type":"ordinal"}],"encodeDefine":{"single":0,"value":1,"itemName":2}}),h=new DA(u,this);return h.initData(o),h},"getLayerSeries":function getLayerSeries(){for(var t=this.getData(),e=t.count(),n=[],i=0;i<e;++i)n[i]=i;for(var o=f(zp().key(function(e){return t.get("name",e)}).entries(n),function(t){return{"name":t.key,"indices":t.values}}),a=t.mapDimension("single"),r=0;r<o.length;++r)o[r].indices.sort(function(e,n){return t.get(a,e)-t.get(a,n)});return o},"getAxisTooltipData":function getAxisTooltipData(t,e,n){y(t)||(t=t?[t]:[]);for(var i,o=this.getData(),a=this.getLayerSeries(),r=[],s=a.length,l=0;l<s;++l){for(var u=Number.MAX_VALUE,h=-1,c=a[l].indices.length,d=0;d<c;++d){var f=o.get(t[0],a[l].indices[d]),p=Math.abs(f-e);p<=u&&(i=f,u=p,h=a[l].indices[d])}r.push(h)}return{"dataIndices":r,"nestestValue":i}},"formatTooltip":function formatTooltip(t){var e=this.getData(),n=e.getName(t),i=e.get(e.mapDimension("value"),t);return(isNaN(i)||null==i)&&(i="-"),ea(n+" : "+i)},"defaultOption":{"zlevel":0,"z":2,"coordinateSystem":"singleAxis","boundaryGap":["10%","10%"],"singleAxisIndex":0,"animationEasing":"linear","label":{"margin":4,"show":!0,"position":"left","color":"#000","fontSize":11},"emphasis":{"label":{"show":!0}}}});Hs({"type":"themeRiver","init":function init(){this._layers=[]},"render":function render(t,e,i){function n(t){return t.name}function o(e,n,i){var o=this._layers;if("remove"!==e){for(var u,h=[],c=[],f=l[n].indices,p=0;p<f.length;p++){var g=r.getItemLayout(f[p]),m=g.x,v=g.y0,y=g.y;h.push([m,v]),c.push([m,v+y]),u=r.getItemVisual(f[p],"color")}var x,_,b=r.getItemLayout(f[0]),w=r.getItemModel(f[p-1]),S=w.getModel("label"),M=S.get("margin");if("add"===e)I=d[n]=new Zb,x=new GD({"shape":{"points":h,"stackedOnPoints":c,"smooth":.4,"stackedOnSmooth":.4,"smoothConstraint":!1},"z2":0}),_=new rM({"style":{"x":b.x-M,"y":b.y0+b.y/2}}),I.add(x),I.add(_),s.add(I),x.setClipPath(function Em(t,e,n){var i=new bM({"shape":{"x":t.x-10,"y":t.y-10,"width":0,"height":t.height+20}});return Io(i,{"shape":{"width":t.width+20,"height":t.height+20}},e,n),i}(x.getBoundingRect(),t,function(){x.removeClipPath()}));else{var I=o[i];x=I.childAt(0),_=I.childAt(1),s.add(I),d[n]=I,Mo(x,{"shape":{"points":h,"stackedOnPoints":c}},t),Mo(_,{"style":{"x":b.x-M,"y":b.y0+b.y/2}},t)}var T=w.getModel("emphasis.itemStyle"),A=w.getModel("itemStyle");go(_.style,S,{"text":S.get("show")?t.getFormattedLabel(f[p-1],"normal")||r.getName(f[p-1]):null,"textVerticalAlign":"middle"}),x.setStyle(a({"fill":u},A.getItemStyle(["color"]))),co(x,T.getItemStyle())}else s.remove(o[n])}var r=t.getData(),s=this.group,l=t.getLayerSeries(),u=r.getLayout("layoutInfo"),h=u.rect,c=u.boundaryGap;s.attr("position",[0,h.y+c[0]]);var d={};new Us(this._layersSeries||[],l,n,n).add(m(o,this,"add")).update(m(o,this,"update")).remove(m(o,this,"remove")).execute(),this._layersSeries=l,this._layers=d},"dispose":function dispose(){}}),Rs(function(t,e){t.eachSeriesByType("themeRiver",function(t){var e=t.getData(),n=t.coordinateSystem,i={},o=n.getRect();i.rect=o;var a=t.get("boundaryGap"),r=n.getAxis();i.boundaryGap=a,"horizontal"===r.orient?(a[0]=Bo(a[0],o.height),a[1]=Bo(a[1],o.height),Rm(e,t,o.height-a[0]-a[1])):(a[0]=Bo(a[0],o.width),a[1]=Bo(a[1],o.width),Rm(e,t,o.width-a[0]-a[1])),e.setLayout("layoutInfo",i)})}),zs(function(t){t.eachSeriesByType("themeRiver",function(t){var e=t.getData(),n=t.getRawData(),i=t.get("color"),o=R();e.each(function(t){o.set(e.getRawIndex(t),t)}),n.each(function(a){var r=n.getName(a),s=i[(t.nameMap.get(r)-1)%i.length];n.setItemVisual(a,"color",s);var l=o.get(a);null!=l&&e.setItemVisual(l,"color",s)})})}),Ns(EC("themeRiver")),oT.extend({"type":"series.sunburst","_viewRoot":null,"getInitialData":function getInitialData(t,e){var n={"name":t.name,"children":t.data};!function Bm(t){var e=0;d(t.children,function(t){Bm(t);var n=t.value;y(n)&&(n=n[0]),e+=n});var n=t.value;y(n)&&(n=n[0]),(null==n||isNaN(n))&&(n=e),n<0&&(n=0),y(t.value)?t.value[0]=n:t.value=n}(n);var i=t.levels||[],o={};return o.levels=i,Bc.createTree(n,this,o).data},"optionUpdated":function optionUpdated(){this.resetViewRoot()},"getDataParams":function getDataParams(t){var e=oT.prototype.getDataParams.apply(this,arguments),n=this.getData().tree.getNodeByDataIndex(t);return e.treePathInfo=hd(n,this),e},"defaultOption":{"zlevel":0,"z":2,"center":["50%","50%"],"radius":[0,"75%"],"clockwise":!0,"startAngle":90,"minAngle":0,"percentPrecision":2,"stillShowZeroSum":!0,"highlightPolicy":"descendant","nodeClick":"rootToNode","renderLabelForZeroData":!1,"label":{"rotate":"radial","show":!0,"opacity":1,"align":"center","position":"inside","distance":5,"silent":!0,"emphasis":{}},"itemStyle":{"borderWidth":1,"borderColor":"white","borderType":"solid","shadowBlur":0,"shadowColor":"rgba(0, 0, 0, 0.2)","shadowOffsetX":0,"shadowOffsetY":0,"opacity":1,"emphasis":{},"highlight":{"opacity":1},"downplay":{"opacity":.9}},"animationType":"expansion","animationDuration":1e3,"animationDurationUpdate":500,"animationEasing":"cubicOut","data":[],"levels":[],"sort":"desc"},"getViewRoot":function getViewRoot(){return this._viewRoot},"resetViewRoot":function resetViewRoot(t){t?this._viewRoot=t:t=this._viewRoot;var e=this.getRawData().tree.root;t&&(t===e||e.contains(t))||(this._viewRoot=e)}});var rO={"NONE":"none","DESCENDANT":"descendant","ANCESTOR":"ancestor","SELF":"self"},sO=2,lO=4,uO=Vm.prototype;uO.updateData=function(t,e,i,o,s){this.node=e,e.piece=this,o=o||this._seriesModel,s=s||this._ecModel;var l=this.childAt(0);l.dataIndex=e.dataIndex;var u=e.getModel(),h=e.getLayout(),c=a({},h);c.label=null;var d=Gm(e,0,s);!function Hm(t,e,n){e.getData().setItemVisual(t.dataIndex,"color",n)}(e,o,d);var f,p=u.getModel("itemStyle").getItemStyle();f=r({"lineJoin":"bevel","fill":(f="normal"===i?p:n(u.getModel(i+".itemStyle").getItemStyle(),p)).fill||d},f),t?(l.setShape(c),l.shape.r=h.r0,Mo(l,{"shape":{"r":h.r}},o,e.dataIndex),l.useStyle(f)):"object"==se(f.fill)&&f.fill.type||"object"==se(l.style.fill)&&l.style.fill.type?(Mo(l,{"shape":c},o),l.useStyle(f)):Mo(l,{"shape":c,"style":f},o),this._updateLabel(o,d,i);var g=u.getShallow("cursor");if(g&&l.attr("cursor",g),t){var m=o.getShallow("highlightPolicy");this._initEvents(l,e,o,m)}this._seriesModel=o||this._seriesModel,this._ecModel=s||this._ecModel},uO.onEmphasis=function(t){var e=this;this.node.hostTree.root.eachNode(function(n){n.piece&&(e.node===n?n.piece.updateData(!1,n,"emphasis"):function Wm(t,e,n){return n!==rO.NONE&&(n===rO.SELF?t===e:n===rO.ANCESTOR?t===e||t.isAncestorOf(e):t===e||t.isDescendantOf(e))}(n,e.node,t)?n.piece.childAt(0).trigger("highlight"):t!==rO.NONE&&n.piece.childAt(0).trigger("downplay"))})},uO.onNormal=function(){this.node.hostTree.root.eachNode(function(t){t.piece&&t.piece.updateData(!1,t,"normal")})},uO.onHighlight=function(){this.updateData(!1,this.node,"highlight")},uO.onDownplay=function(){this.updateData(!1,this.node,"downplay")},uO._updateLabel=function(t,e,i){function n(t){var e=r.get(t);return null==e?a.get(t):e}var o=this.node.getModel(),a=o.getModel("label"),r="normal"===i||"emphasis"===i?a:o.getModel(i+".label"),s=o.getModel("emphasis.label"),l=T(t.getFormattedLabel(this.node.dataIndex,"normal",null,null,"label"),this.node.name);!1===n("show")&&(l="");var u=this.node.getLayout(),h=r.get("minAngle");null==h&&(h=a.get("minAngle")),h=h/180*Math.PI;var c=u.endAngle-u.startAngle;null!=h&&Math.abs(c)<h&&(l="");var d=this.childAt(1);po(d.style,d.hoverStyle||{},a,s,{"defaultText":r.getShallow("show")?l:null,"autoColor":e,"useInsideStyle":!0});var f,p=(u.startAngle+u.endAngle)/2,g=Math.cos(p),m=Math.sin(p),v=n("position"),y=n("distance")||0,x=n("align");"outside"===v?(f=u.r+y,x=p>Math.PI/2?"right":"left"):x&&"center"!==x?"left"===x?(f=u.r0+y,p>Math.PI/2&&(x="right")):"right"===x&&(f=u.r-y,p>Math.PI/2&&(x="left")):(f=(u.r+u.r0)/2,x="center"),d.attr("style",{"text":l,"textAlign":x,"textVerticalAlign":n("verticalAlign")||"middle","opacity":n("opacity")});var _=f*g+u.cx,b=f*m+u.cy;d.attr("position",[_,b]);var w=n("rotate"),S=0;"radial"===w?(S=-p)<-Math.PI/2&&(S+=Math.PI):"tangential"===w?(S=Math.PI/2-p)>Math.PI/2?S-=Math.PI:S<-Math.PI/2&&(S+=Math.PI):"number"==typeof w&&(S=w*Math.PI/180),d.attr("rotation",S)},uO._initEvents=function(t,e,n,i){t.off("mouseover").off("mouseout").off("emphasis").off("normal");var o=this,s=function a(){o.onEmphasis(i)},l=function r(){o.onNormal()};n.isAnimationEnabled()&&t.on("mouseover",s).on("mouseout",l).on("emphasis",s).on("normal",l).on("downplay",function(){o.onDownplay()}).on("highlight",function(){o.onHighlight()})},u(Vm,Zb),Tr.extend({"type":"sunburst","init":function init(){},"render":function render(t,e,r,s){function o(n,i){if(f||!n||n.getValue()||(n=null),n!==h&&i!==h)if(i&&i.piece)n?(i.piece.updateData(!1,n,"normal",t,e),u.setItemGraphicEl(n.dataIndex,i.piece)):function a(t){t&&t.piece&&(d.remove(t.piece),t.piece=null)}(i);else if(n){var o=new Vm(n,t,e);d.add(o),u.setItemGraphicEl(n.dataIndex,o)}}var l=this;this.seriesModel=t,this.api=r,this.ecModel=e;var u=t.getData(),h=u.tree.root,c=t.getViewRoot(),d=this.group,f=t.get("renderLabelForZeroData"),p=[];c.eachNode(function(t){p.push(t)});var g=this._oldChildren||[];if(function(t,e){function i(t){return t.getId()}function n(n,i){o(null==n?null:t[n],null==i?null:e[i])}0===t.length&&0===e.length||new Us(e,t,i,i).add(n).update(n).remove(v(n,null)).execute()}(p,g),function(n,i){if(i.depth>0){l.virtualPiece?l.virtualPiece.updateData(!1,n,"normal",t,e):(l.virtualPiece=new Vm(n,t,e),d.add(l.virtualPiece)),i.piece._onclickEvent&&i.piece.off("click",i.piece._onclickEvent);var a=function o(t){l._rootToNode(i.parentNode)};i.piece._onclickEvent=a,l.virtualPiece.on("click",a)}else l.virtualPiece&&(d.remove(l.virtualPiece),l.virtualPiece=null)}(h,c),s&&s.highlight&&s.highlight.piece){var m=t.getShallow("highlightPolicy");s.highlight.piece.onEmphasis(m)}else if(s&&s.unhighlight){var y=this.virtualPiece;!y&&h.children.length&&(y=h.children[0].piece),y&&y.onNormal()}this._initEvents(),this._oldChildren=p},"dispose":function dispose(){},"_initEvents":function _initEvents(){var t=this,n=function e(n){var i=!1;t.seriesModel.getViewRoot().eachNode(function(e){if(!i&&e.piece&&e.piece.childAt(0)===n.target){var o=e.getModel().get("nodeClick");if("rootToNode"===o)t._rootToNode(e);else if("link"===o){var a=e.getModel(),r=a.get("link");if(r){var s=a.get("target",!0)||"_blank";window.open(r,s)}}i=!0}})};this.group._onclickEvent&&this.group.off("click",this.group._onclickEvent),this.group.on("click",n),this.group._onclickEvent=n},"_rootToNode":function _rootToNode(t){t!==this.seriesModel.getViewRoot()&&this.api.dispatchAction({"type":"sunburstRootToNode","from":this.uid,"seriesId":this.seriesModel.id,"targetNode":t})},"containPoint":function containPoint(t,e){var n=e.getData().getItemLayout(0);if(n){var i=t[0]-n.cx,o=t[1]-n.cy,a=Math.sqrt(i*i+o*o);return a<=n.r&&a>=n.r0}}});var hO="sunburstRootToNode";Os({"type":hO,"update":"updateView"},function(t,e){e.eachComponent({"mainType":"series","subType":"sunburst","query":t},function(e,n){var i=sd(t,[hO],e);if(i){var o=e.getViewRoot();o&&(t.direction=ud(o,i.node)?"rollUp":"drillDown"),e.resetViewRoot(i.node)}})});var cO="sunburstHighlight";Os({"type":cO,"update":"updateView"},function(t,e){e.eachComponent({"mainType":"series","subType":"sunburst","query":t},function(e,n){var i=sd(t,[cO],e);i&&(t.highlight=i.node)})}),Os({"type":"sunburstUnhighlight","update":"updateView"},function(t,e){e.eachComponent({"mainType":"series","subType":"sunburst","query":t},function(e,n){t.unhighlight=!0})});var dO=Math.PI/180;zs(v(PC,"sunburst")),Rs(v(function(t,e,n,i){e.eachSeriesByType(t,function(t){var e=t.get("center"),i=t.get("radius");y(i)||(i=[0,i]),y(e)||(e=[e,e]);var o=n.getWidth(),a=n.getHeight(),r=Math.min(o,a),s=Bo(e[0],o),l=Bo(e[1],a),u=Bo(i[0],r/2),h=Bo(i[1],r/2),c=-t.get("startAngle")*dO,f=t.get("minAngle")*dO,p=t.getData().tree.root,g=t.getViewRoot(),m=g.depth,v=t.get("sort");null!=v&&function Zm(t,e){var n=t.children||[];t.children=function Um(t,e){if("function"==typeof e)return t.sort(e);var n="asc"===e;return t.sort(function(t,e){var i=(t.getValue()-e.getValue())*(n?1:-1);return 0===i?(t.dataIndex-e.dataIndex)*(n?-1:1):i})}(n,e),n.length&&d(t.children,function(t){Zm(t,e)})}(g,v);var x=0;d(g.children,function(t){!isNaN(t.getValue())&&x++});var _=g.getValue(),b=Math.PI/(_||x)*2,w=g.depth>0,S=g.height-(w?-1:1),M=(h-u)/(S||1),I=t.get("clockwise"),T=t.get("stillShowZeroSum"),A=I?1:-1;if(w){var C=u,L=u+M,k=2*Math.PI;p.setLayout({"angle":k,"startAngle":c,"endAngle":c+k,"clockwise":I,"cx":s,"cy":l,"r0":C,"r":L})}!function D(t,e){if(t){var n=e;if(t!==p){var i=t.getValue(),o=0===_&&T?b:i*b;o<f&&(o=f),n=e+A*o;var a=t.depth-m-(w?-1:1),h=u+M*a,c=u+M*(a+1),g=t.getModel();null!=g.get("r0")&&(h=Bo(g.get("r0"),r/2)),null!=g.get("r")&&(c=Bo(g.get("r"),r/2)),t.setLayout({"angle":o,"startAngle":e,"endAngle":n,"clockwise":I,"cx":s,"cy":l,"r0":h,"r":c})}if(t.children&&t.children.length){var v=0;d(t.children,function(t){v+=D(t,e+v)})}return n-e}}(g,c)})},"sunburst")),Ns(v(EC,"sunburst"));var pO=["itemStyle"],gO=["emphasis","itemStyle"],mO=["label"],vO=["emphasis","label"],yO="e\0\0",xO={"cartesian2d":function cartesian2d(t){var e=t.grid.getRect();return{"coordSys":{"type":"cartesian2d","x":e.x,"y":e.y,"width":e.width,"height":e.height},"api":{"coord":function coord(e){return t.dataToPoint(e)},"size":m(Xm,t)}}},"geo":function geo(t){var e=t.getBoundingRect();return{"coordSys":{"type":"geo","x":e.x,"y":e.y,"width":e.width,"height":e.height,"zoom":t.getZoom()},"api":{"coord":function coord(e){return t.dataToPoint(e)},"size":m(jm,t)}}},"singleAxis":function singleAxis(t){var e=t.getRect();return{"coordSys":{"type":"singleAxis","x":e.x,"y":e.y,"width":e.width,"height":e.height},"api":{"coord":function coord(e){return t.dataToPoint(e)},"size":m(Ym,t)}}},"polar":function polar(t){var e=t.getRadiusAxis(),n=t.getAngleAxis(),i=e.getExtent();return i[0]>i[1]&&i.reverse(),{"coordSys":{"type":"polar","cx":t.cx,"cy":t.cy,"r":i[1],"r0":i[0]},"api":{"coord":m(function(i){var o=e.dataToRadius(i[0]),a=n.dataToAngle(i[1]),r=t.coordToPoint([o,a]);return r.push(o,a*Math.PI/180),r}),"size":m(qm,t)}}},"calendar":function calendar(t){var e=t.getRect(),n=t.getRangeInfo();return{"coordSys":{"type":"calendar","x":e.x,"y":e.y,"width":e.width,"height":e.height,"cellWidth":t.getCellWidth(),"cellHeight":t.getCellHeight(),"rangeInfo":{"start":n.start,"end":n.end,"weeks":n.weeks,"dayCount":n.allDay}},"api":{"coord":function coord(e,n){return t.dataToPoint(e,n)}}}}};oT.extend({"type":"series.custom","dependencies":["grid","polar","geo","singleAxis","calendar"],"defaultOption":{"coordinateSystem":"cartesian2d","zlevel":0,"z":2,"legendHoverLink":!0,"useTransform":!0},"getInitialData":function getInitialData(t,e){return gl(this.getSource(),this)},"getDataParams":function getDataParams(t,e,n){var i=oT.prototype.getDataParams.apply(this,arguments);return n&&(i.info=n.info),i}}),Tr.extend({"type":"custom","_data":null,"render":function render(t,e,n,i){var o=this._data,a=t.getData(),r=this.group,s=Qm(t,a,e,n);a.diff(o).add(function(e){ev(null,e,s(e,i),t,r,a)}).update(function(e,n){ev(o.getItemGraphicEl(n),e,s(e,i),t,r,a)}).remove(function(t){var e=o.getItemGraphicEl(t);e&&r.remove(e)}).execute(),this._data=a},"incrementalPrepareRender":function incrementalPrepareRender(t,e,n){this.group.removeAll(),this._data=null},"incrementalRender":function incrementalRender(t,e,n,i,o){for(var a=e.getData(),r=Qm(e,a,n,i),s=t.start;s<t.end;s++)ev(null,s,r(s,o),e,this.group,a).traverse(function(t){t.isGroup||(t.incremental=!0,t.useHoverLayer=!0)})},"dispose":B,"filterForExposedEvent":function filterForExposedEvent(t,e,n,i){var o=e.element;if(null==o||n.name===o)return!0;for(;(n=n.parent)&&n!==this.group;)if(n.name===o)return!0;return!1}}),Ps(function(t){var e=t.graphic;y(e)?e[0]&&e[0].elements?t.graphic=[t.graphic[0]]:t.graphic=[{"elements":e}]:e&&!e.elements&&(t.graphic=[{"elements":[e]}])});var _O=Gs({"type":"graphic","defaultOption":{"elements":[],"parentId":null},"_elOptionsToUpdate":null,"mergeOption":function mergeOption(t){var e=this.option.elements;this.option.elements=null,_O.superApply(this,"mergeOption",arguments),this.option.elements=e},"optionUpdated":function optionUpdated(t,e){var n=this.option,i=(e?n:t).elements,o=n.elements=e?[]:n.elements,a=[];this._flatten(i,a);var r=Pi(o,a);Ni(r);var s=this._elOptionsToUpdate=[];d(r,function(t,e){var n=t.option;n&&(s.push(n),function gv(t,e){var n=t.exist;if(e.id=t.keyInfo.id,!e.type&&n&&(e.type=n.type),null==e.parentId){var i=e.parentOption;i?e.parentId=i.id:n&&(e.parentId=n.parentId)}e.parentOption=null}(t,n),mv(o,e,n),function vv(t,e){t&&(t.hv=e.hv=[pv(e,["left","right"]),pv(e,["top","bottom"])],"group"===t.type&&(null==t.width&&(t.width=e.width=0),null==t.height&&(t.height=e.height=0)))}(o[e],n))},this);for(var l=o.length-1;l>=0;l--)null==o[l]?o.splice(l,1):delete o[l].$action},"_flatten":function _flatten(t,e,n){d(t,function(t){if(t){n&&(t.parentOption=n),e.push(t);var i=t.children;"group"===t.type&&i&&this._flatten(i,e,t),delete t.children}},this)},"useElOptionsToUpdate":function useElOptionsToUpdate(){var t=this._elOptionsToUpdate;return this._elOptionsToUpdate=null,t}});Fs({"type":"graphic","init":function init(t,e){this._elMap=R(),this._lastGraphicModel},"render":function render(t,e,n){t!==this._lastGraphicModel&&this._clear(),this._lastGraphicModel=t,this._updateElements(t),this._relocate(t,n)},"_updateElements":function _updateElements(t){var e=t.useElOptionsToUpdate();if(e){var n=this._elMap,i=this.group;d(e,function(e){var o=e.$action,a=e.id,r=n.get(a),s=e.parentId,l=null!=s?n.get(s):i,u=e.style;"text"===e.type&&u&&(e.hv&&e.hv[1]&&(u.textVerticalAlign=u.textBaseline=null),!u.hasOwnProperty("textFill")&&u.fill&&(u.textFill=u.fill),!u.hasOwnProperty("textStroke")&&u.stroke&&(u.textStroke=u.stroke));var h=fv(e);o&&"merge"!==o?"replace"===o?(dv(r,n),cv(a,l,h,n)):"remove"===o&&dv(r,n):r?r.attr(h):cv(a,l,h,n);var c=n.get(a);c&&(c.__ecGraphicWidth=e.width,c.__ecGraphicHeight=e.height,function yv(t,e,n){var i=t.eventData;t.silent||t.ignore||i||(i=t.eventData={"componentType":"graphic","componentIndex":e.componentIndex,"name":t.name}),i&&(i.info=t.info)}(c,t))})}},"_relocate":function _relocate(t,e){for(var n=t.option.elements,i=this.group,o=this._elMap,a=n.length-1;a>=0;a--){var r=n[a],s=o.get(r.id);if(s){var l=s.parent;ca(s,r,l===i?{"width":e.getWidth(),"height":e.getHeight()}:{"width":l.__ecGraphicWidth||0,"height":l.__ecGraphicHeight||0},null,{"hv":r.hv,"boundingMode":r.bounding})}}},"_clear":function _clear(){var t=this._elMap;t.each(function(e){dv(e,t)}),this._elMap=R()},"dispose":function dispose(){this._clear()}});var bO=Gs({"type":"legend.plain","dependencies":["series"],"layoutMode":{"type":"box","ignoreSize":!0},"init":function init(t,e,n){this.mergeDefaultAndTheme(t,n),t.selected=t.selected||{}},"mergeOption":function mergeOption(t){bO.superCall(this,"mergeOption",t)},"optionUpdated":function optionUpdated(){this._updateData(this.ecModel);var t=this._data;if(t[0]&&"single"===this.get("selectedMode")){for(var e=!1,n=0;n<t.length;n++){var i=t[n].get("name");if(this.isSelected(i)){this.select(i),e=!0;break}}!e&&this.select(t[0].get("name"))}},"_updateData":function _updateData(t){var e=[],n=[];t.eachRawSeries(function(i){var o,a=i.name;if(n.push(a),i.legendDataProvider){var r=i.legendDataProvider(),s=r.mapArray(r.getName);t.isSeriesFiltered(i)||(n=n.concat(s)),s.length?e=e.concat(s):o=!0}else o=!0;o&&Oi(i)&&e.push(i.name)}),this._availableNames=n;var i=f(this.get("data")||e,function(t){return"string"!=typeof t&&"number"!=typeof t||(t={"name":t}),new Po(t,this,this.ecModel)},this);this._data=i},"getData":function getData(){return this._data},"select":function select(t){var e=this.option.selected;"single"===this.get("selectedMode")&&d(this._data,function(t){e[t.get("name")]=!1}),e[t]=!0},"unSelect":function unSelect(t){"single"!==this.get("selectedMode")&&(this.option.selected[t]=!1)},"toggleSelected":function toggleSelected(t){var e=this.option.selected;e.hasOwnProperty(t)||(e[t]=!0),this[e[t]?"unSelect":"select"](t)},"isSelected":function isSelected(t){var e=this.option.selected;return!(e.hasOwnProperty(t)&&!e[t])&&l(this._availableNames,t)>=0},"defaultOption":{"zlevel":0,"z":4,"show":!0,"orient":"horizontal","left":"center","top":0,"align":"auto","backgroundColor":"rgba(0,0,0,0)","borderColor":"#ccc","borderRadius":0,"borderWidth":0,"padding":5,"itemGap":10,"itemWidth":25,"itemHeight":14,"inactiveColor":"#ccc","textStyle":{"color":"#333"},"selectedMode":!0,"tooltip":{"show":!1}}});Os("legendToggleSelect","legendselectchanged",v(xv,"toggleSelected")),Os("legendSelect","legendselected",v(xv,"select")),Os("legendUnSelect","legendunselected",v(xv,"unSelect"));var wO=v,SO=d,MO=Zb,IO=Fs({"type":"legend.plain","newlineDisabled":!1,"init":function init(){this.group.add(this._contentGroup=new MO),this._backgroundEl,this._isFirstRender=!0},"getContentGroup":function getContentGroup(){return this._contentGroup},"render":function render(t,e,n){var i=this._isFirstRender;if(this._isFirstRender=!1,this.resetInner(),t.get("show",!0)){var o=t.get("align");o&&"auto"!==o||(o="right"===t.get("left")&&"vertical"===t.get("orient")?"right":"left"),this.renderInner(o,t,e,n);var a=t.getBoxLayoutParams(),s={"width":n.getWidth(),"height":n.getHeight()},l=t.get("padding"),u=ha(a,s,l),h=this.layoutInner(t,o,u,i),c=ha(r({"width":h.width,"height":h.height},a),s,l);this.group.attr("position",[c.x-h.x,c.y-h.y]),this.group.add(this._backgroundEl=wv(h,t))}},"resetInner":function resetInner(){this.getContentGroup().removeAll(),this._backgroundEl&&this.group.remove(this._backgroundEl)},"renderInner":function renderInner(t,e,n,i){var o=this.getContentGroup(),a=R(),r=e.get("selectedMode"),s=[];n.eachRawSeries(function(t){!t.get("legendHoverLink")&&s.push(t.id)}),SO(e.getData(),function(l,u){var h=l.get("name");if(this.newlineDisabled||""!==h&&"\n"!==h){var c=n.getSeriesByName(h)[0];if(!a.get(h))if(c){var d=c.getData(),f=d.getVisual("color");"function"==typeof f&&(f=f(c.getDataParams(0)));var p=d.getVisual("legendSymbol")||"roundRect",g=d.getVisual("symbol");this._createItem(h,u,l,e,p,g,t,f,r).on("click",wO(bv,h,i)).on("mouseover",wO(Sv,c.name,null,i,s)).on("mouseout",wO(Mv,c.name,null,i,s)),a.set(h,!0)}else n.eachRawSeries(function(n){if(!a.get(h)&&n.legendDataProvider){var o=n.legendDataProvider(),c=o.indexOfName(h);if(c<0)return;var d=o.getItemVisual(c,"color");this._createItem(h,u,l,e,"roundRect",null,t,d,r).on("click",wO(bv,h,i)).on("mouseover",wO(Sv,null,h,i,s)).on("mouseout",wO(Mv,null,h,i,s)),a.set(h,!0)}},this)}else o.add(new MO({"newline":!0}))},this)},"_createItem":function _createItem(t,e,n,i,o,r,s,l,u){var h=i.get("itemWidth"),c=i.get("itemHeight"),d=i.get("inactiveColor"),f=i.get("symbolKeepAspect"),p=i.isSelected(t),g=new MO,m=n.getModel("textStyle"),v=n.get("icon"),y=n.getModel("tooltip"),x=y.parentModel;if(o=v||o,g.add($l(o,0,0,h,c,p?l:d,null==f||f)),!v&&r&&(r!==o||"none"===r)){var _=.8*c;"none"===r&&(r="circle"),g.add($l(r,(h-_)/2,(c-_)/2,_,_,p?l:d,null==f||f))}var b="left"===s?h+5:-5,w=s,S=i.get("formatter"),M=t;"string"==typeof S&&S?M=S.replace("{name}",null!=t?t:""):"function"==typeof S&&(M=S(t)),g.add(new rM({"style":go({},m,{"text":M,"x":b,"y":c/2,"textFill":p?m.getTextColor():d,"textAlign":w,"textVerticalAlign":"middle"})}));var I=new bM({"shape":g.getBoundingRect(),"invisible":!0,"tooltip":y.get("show")?a({"content":t,"formatter":x.get("formatter",!0)||function(){return t},"formatterParams":{"componentType":"legend","legendIndex":i.componentIndex,"name":t,"$vars":["name"]}},y.option):null});return g.add(I),g.eachChild(function(t){t.silent=!0}),I.silent=!u,this.getContentGroup().add(g),co(g),g.__legendDataIndex=e,g},"layoutInner":function layoutInner(t,e,n){var i=this.getContentGroup();dI(t.get("orient"),i,t.get("itemGap"),n.width,n.height);var o=i.getBoundingRect();return i.attr("position",[-o.x,-o.y]),this.group.getBoundingRect()},"remove":function remove(){this.getContentGroup().removeAll(),this._isFirstRender=!0}});Ns(function(t){var e=t.findComponents({"mainType":"legend"});e&&e.length&&t.filterSeries(function(t){for(var n=0;n<e.length;n++)if(!e[n].isSelected(t.name))return!1;return!0})}),pI.registerSubTypeDefaulter("legend",function(){return"plain"});var TO=bO.extend({"type":"legend.scroll","setScrollDataIndex":function setScrollDataIndex(t){this.option.scrollDataIndex=t},"defaultOption":{"scrollDataIndex":0,"pageButtonItemGap":5,"pageButtonGap":null,"pageButtonPosition":"end","pageFormatter":"{current}/{total}","pageIcons":{"horizontal":["M0,0L12,-10L12,10z","M0,0L-12,-10L-12,10z"],"vertical":["M0,0L20,0L10,-20z","M0,0L20,0L10,20z"]},"pageIconColor":"#2f4554","pageIconInactiveColor":"#aaa","pageIconSize":15,"pageTextStyle":{"color":"#333"},"animationDurationUpdate":800},"init":function init(t,e,n,i){var o=pa(t);TO.superCall(this,"init",t,e,n,i),Iv(this,t,o)},"mergeOption":function mergeOption(t,e){TO.superCall(this,"mergeOption",t,e),Iv(this,this.option,t)},"getOrient":function getOrient(){return"vertical"===this.get("orient")?{"index":1,"name":"vertical"}:{"index":0,"name":"horizontal"}}}),AO=Zb,DO=["width","height"],CO=["x","y"],LO=IO.extend({"type":"legend.scroll","newlineDisabled":!0,"init":function init(){LO.superCall(this,"init"),this._currentIndex=0,this.group.add(this._containerGroup=new AO),this._containerGroup.add(this.getContentGroup()),this.group.add(this._controllerGroup=new AO),this._showController},"resetInner":function resetInner(){LO.superCall(this,"resetInner"),this._controllerGroup.removeAll(),this._containerGroup.removeClipPath(),this._containerGroup.__rectSize=null},"renderInner":function renderInner(t,e,n,i){function o(t,n){var o=t+"DataIndex",l=ko(e.get("pageIcons",!0)[e.getOrient().name][n],{"onclick":m(a._pageGo,a,o,e,i)},{"x":-s[0]/2,"y":-s[1]/2,"width":s[0],"height":s[1]});l.name=t,r.add(l)}var a=this;LO.superCall(this,"renderInner",t,e,n,i);var r=this._controllerGroup,s=e.get("pageIconSize",!0);y(s)||(s=[s,s]),o("pagePrev",0);var l=e.getModel("pageTextStyle");r.add(new rM({"name":"pageText","style":{"textFill":l.getTextColor(),"font":l.getFont(),"textVerticalAlign":"middle","textAlign":"center"},"silent":!0})),o("pageNext",1)},"layoutInner":function layoutInner(t,e,n,i){var o=this.getContentGroup(),a=this._containerGroup,r=this._controllerGroup,s=t.getOrient().index,l=DO[s],u=DO[1-s],h=CO[1-s];dI(t.get("orient"),o,t.get("itemGap"),s?n.width:null,s?null:n.height),dI("horizontal",r,t.get("pageButtonItemGap",!0));var c=o.getBoundingRect(),d=r.getBoundingRect(),f=this._showController=c[l]>n[l],p=[-c.x,-c.y];i||(p[s]=o.position[s]);var g=[0,0],m=[-d.x,-d.y],v=A(t.get("pageButtonGap",!0),t.get("itemGap",!0));f&&("end"===t.get("pageButtonPosition",!0)?m[s]+=n[l]-d[l]:g[s]+=d[l]+v),m[1-s]+=c[u]/2-d[u]/2,o.attr("position",p),a.attr("position",g),r.attr("position",m);var y=this.group.getBoundingRect();if((y={"x":0,"y":0})[l]=f?n[l]:c[l],y[u]=Math.max(c[u],d[u]),y[h]=Math.min(0,d[h]+m[1-s]),a.__rectSize=n[l],f){var x={"x":0,"y":0};x[l]=Math.max(n[l]-d[l]-v,0),x[u]=y[u],a.setClipPath(new bM({"shape":x})),a.__rectSize=x[l]}else r.eachChild(function(t){t.attr({"invisible":!0,"silent":!0})});var _=this._getPageInfo(t);return null!=_.pageIndex&&Mo(o,{"position":_.contentPosition},!!f&&t),this._updatePageInfoView(t,_),y},"_pageGo":function _pageGo(t,e,n){var i=this._getPageInfo(e)[t];null!=i&&n.dispatchAction({"type":"legendScroll","scrollDataIndex":i,"legendId":e.id})},"_updatePageInfoView":function _updatePageInfoView(t,e){var n=this._controllerGroup;d(["pagePrev","pageNext"],function(i){var o=null!=e[i+"DataIndex"],a=n.childOfName(i);a&&(a.setStyle("fill",o?t.get("pageIconColor",!0):t.get("pageIconInactiveColor",!0)),a.cursor=o?"pointer":"default")});var i=n.childOfName("pageText"),o=t.get("pageFormatter"),a=e.pageIndex,r=null!=a?a+1:0,s=e.pageCount;i&&o&&i.setStyle("text",_(o)?o.replace("{current}",r).replace("{total}",s):o({"current":r,"total":s}))},"_getPageInfo":function _getPageInfo(t){function e(t){if(t){var e=t.getBoundingRect(),n=e[l]+t.position[r];return{"s":n,"e":n+e[s],"i":t.__legendDataIndex}}}function i(t,e){return t.e>=e&&t.s<=e+a}var n=t.get("scrollDataIndex",!0),o=this.getContentGroup(),a=this._containerGroup.__rectSize,r=t.getOrient().index,s=DO[r],l=CO[r],u=this._findTargetItemIndex(n),h=o.children(),c=h[u],d=h.length,f=d?1:0,p={"contentPosition":o.position.slice(),"pageCount":f,"pageIndex":f-1,"pagePrevDataIndex":null,"pageNextDataIndex":null};if(!c)return p;var g=e(c);p.contentPosition[r]=-g.s;for(var m=u+1,v=g,y=g,x=null;m<=d;++m)(!(x=e(h[m]))&&y.e>v.s+a||x&&!i(x,v.s))&&(v=y.i>v.i?y:x)&&(null==p.pageNextDataIndex&&(p.pageNextDataIndex=v.i),++p.pageCount),y=x;for(m=u-1,v=g,y=g,x=null;m>=-1;--m)(x=e(h[m]))&&i(y,x.s)||!(v.i<y.i)||(y=v,null==p.pagePrevDataIndex&&(p.pagePrevDataIndex=v.i),++p.pageCount,++p.pageIndex),v=x;return p},"_findTargetItemIndex":function _findTargetItemIndex(t){var e,n=this.getContentGroup();return this._showController?n.eachChild(function(n,i){n.__legendDataIndex===t&&(e=i)}):e=0,e}});Os("legendScroll","legendscroll",function(t,e){var n=t.scrollDataIndex;null!=n&&e.eachComponent({"mainType":"legend","subType":"scroll","query":t},function(t){t.setScrollDataIndex(n)})}),Gs({"type":"tooltip","dependencies":["axisPointer"],"defaultOption":{"zlevel":0,"z":60,"show":!0,"showContent":!0,"trigger":"item","triggerOn":"mousemove|click","alwaysShowContent":!1,"displayMode":"single","renderMode":"auto","confine":!1,"showDelay":0,"hideDelay":100,"transitionDuration":.4,"enterable":!1,"backgroundColor":"rgba(50,50,50,0.7)","borderColor":"#333","borderRadius":4,"borderWidth":0,"padding":5,"extraCssText":"","axisPointer":{"type":"line","axis":"auto","animation":"auto","animationDurationUpdate":200,"animationEasingUpdate":"exponentialOut","crossStyle":{"color":"#999","width":1,"type":"dashed","textStyle":{}}},"textStyle":{"color":"#fff","fontSize":14}}});var kO=d,PO=ta,OO=["","-webkit-","-moz-","-o-"];Cv.prototype={"constructor":Cv,"_enterable":!0,"update":function update(){var t=this._container,e=t.currentStyle||document.defaultView.getComputedStyle(t),n=t.style;"absolute"!==n.position&&"absolute"!==e.position&&(n.position="relative")},"show":function show(t){clearTimeout(this._hideTimeout);var e=this.el;e.style.cssText="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;"+Dv(t)+";left:"+this._x+"px;top:"+this._y+"px;"+(t.get("extraCssText")||""),e.style.display=e.innerHTML?"block":"none",e.style.pointerEvents=this._enterable?"auto":"none",this._show=!0},"setContent":function setContent(t){this.el.innerHTML=null==t?"":t},"setEnterable":function setEnterable(t){this._enterable=t},"getSize":function getSize(){var t=this.el;return[t.clientWidth,t.clientHeight]},"moveTo":function moveTo(t,e){var n,i=this._zr;i&&i.painter&&(n=i.painter.getViewportRootOffset())&&(t+=n.offsetLeft,e+=n.offsetTop);var o=this.el.style;o.left=t+"px",o.top=e+"px",this._x=t,this._y=e},"hide":function hide(){this.el.style.display="none",this._show=!1},"hideLater":function hideLater(t){!this._show||this._inContent&&this._enterable||(t?(this._hideDelay=t,this._show=!1,this._hideTimeout=setTimeout(m(this.hide,this),t)):this.hide())},"isShow":function isShow(){return this._show},"getOuterSize":function getOuterSize(){var t=this.el.clientWidth,e=this.el.clientHeight;if(document.defaultView&&document.defaultView.getComputedStyle){var n=document.defaultView.getComputedStyle(this.el);n&&(t+=parseInt(n.paddingLeft,10)+parseInt(n.paddingRight,10)+parseInt(n.borderLeftWidth,10)+parseInt(n.borderRightWidth,10),e+=parseInt(n.paddingTop,10)+parseInt(n.paddingBottom,10)+parseInt(n.borderTopWidth,10)+parseInt(n.borderBottomWidth,10))}return{"width":t,"height":e}}},Lv.prototype={"constructor":Lv,"_enterable":!0,"update":function update(){},"show":function show(t){this._hideTimeout&&clearTimeout(this._hideTimeout),this.el.attr("show",!0),this._show=!0},"setContent":function setContent(t,e,n){this.el&&this._zr.remove(this.el);for(var i={},o=t,a=o.indexOf("{marker");a>=0;){var r=o.indexOf("|}"),s=o.substr(a+"{marker".length,r-a-"{marker".length);s.indexOf("sub")>-1?i["marker"+s]={"textWidth":4,"textHeight":4,"textBorderRadius":2,"textBackgroundColor":e[s],"textOffset":[3,0]}:i["marker"+s]={"textWidth":10,"textHeight":10,"textBorderRadius":5,"textBackgroundColor":e[s]},a=(o=o.substr(r+1)).indexOf("{marker")}this.el=new rM({"style":{"rich":i,"text":t,"textLineHeight":20,"textBackgroundColor":n.get("backgroundColor"),"textBorderRadius":n.get("borderRadius"),"textFill":n.get("textStyle.color"),"textPadding":n.get("padding")},"z":n.get("z")}),this._zr.add(this.el);var l=this;this.el.on("mouseover",function(){l._enterable&&(clearTimeout(l._hideTimeout),l._show=!0),l._inContent=!0}),this.el.on("mouseout",function(){l._enterable&&l._show&&l.hideLater(l._hideDelay),l._inContent=!1})},"setEnterable":function setEnterable(t){this._enterable=t},"getSize":function getSize(){var t=this.el.getBoundingRect();return[t.width,t.height]},"moveTo":function moveTo(t,e){this.el&&this.el.attr("position",[t,e])},"hide":function hide(){this.el.hide(),this._show=!1},"hideLater":function hideLater(t){!this._show||this._inContent&&this._enterable||(t?(this._hideDelay=t,this._show=!1,this._hideTimeout=setTimeout(m(this.hide,this),t)):this.hide())},"isShow":function isShow(){return this._show},"getOuterSize":function getOuterSize(){return this.getSize()}};var RO=m,NO=d,EO=Bo,zO=new bM({"shape":{"x":-1,"y":-1,"width":2,"height":2}});Fs({"type":"tooltip","init":function init(t,e){if(!be.node){var n,i=t.getComponent("tooltip").get("renderMode");this._renderMode=Hi(i),"html"===this._renderMode?(n=new Cv(e.getDom(),e),this._newLine="<br/>"):(n=new Lv(e),this._newLine="\n"),this._tooltipContent=n}},"render":function render(t,e,n){if(!be.node){this.group.removeAll(),this._tooltipModel=t,this._ecModel=e,this._api=n,this._lastDataByCoordSys=null,this._alwaysShowContent=t.get("alwaysShowContent");var i=this._tooltipContent;i.update(),i.setEnterable(t.get("enterable")),this._initGlobalListener(),this._keepShow()}},"_initGlobalListener":function _initGlobalListener(){var t=this._tooltipModel.get("triggerOn");um("itemTooltip",this._api,RO(function(e,n,i){"none"!==t&&(t.indexOf(e)>=0?this._tryShow(n,i):"leave"===e&&this._hide(i))},this))},"_keepShow":function _keepShow(){var t=this._tooltipModel,e=this._ecModel,n=this._api;if(null!=this._lastX&&null!=this._lastY&&"none"!==t.get("triggerOn")){var i=this;clearTimeout(this._refreshUpdateTimeout),this._refreshUpdateTimeout=setTimeout(function(){i.manuallyShowTip(t,e,n,{"x":i._lastX,"y":i._lastY})})}},"manuallyShowTip":function manuallyShowTip(t,e,n,i){if(i.from!==this.uid&&!be.node){var o=Pv(i,n);this._ticket="";var a=i.dataByCoordSys;if(i.tooltip&&null!=i.x&&null!=i.y){var r=zO;r.position=[i.x,i.y],r.update(),r.tooltip=i.tooltip,this._tryShow({"offsetX":i.x,"offsetY":i.y,"target":r},o)}else if(a)this._tryShow({"offsetX":i.x,"offsetY":i.y,"position":i.position,"event":{},"dataByCoordSys":i.dataByCoordSys,"tooltipOption":i.tooltipOption},o);else if(null!=i.seriesIndex){if(this._manuallyAxisShowTip(t,e,n,i))return;var s=WP(i,e),l=s.point[0],u=s.point[1];null!=l&&null!=u&&this._tryShow({"offsetX":l,"offsetY":u,"position":i.position,"target":s.el,"event":{}},o)}else null!=i.x&&null!=i.y&&(n.dispatchAction({"type":"updateAxisPointer","x":i.x,"y":i.y}),this._tryShow({"offsetX":i.x,"offsetY":i.y,"position":i.position,"target":n.getZr().findHover(i.x,i.y).target,"event":{}},o))}},"manuallyHideTip":function manuallyHideTip(t,e,n,i){var o=this._tooltipContent;!this._alwaysShowContent&&this._tooltipModel&&o.hideLater(this._tooltipModel.get("hideDelay")),this._lastX=this._lastY=null,i.from!==this.uid&&this._hide(Pv(i,n))},"_manuallyAxisShowTip":function _manuallyAxisShowTip(t,e,n,i){var o=i.seriesIndex,a=i.dataIndex,r=e.getComponent("axisPointer").coordSysAxesInfo;if(null!=o&&null!=a&&null!=r){var s=e.getSeriesByIndex(o);if(s&&"axis"===(t=kv([s.getData().getItemModel(a),s,(s.coordinateSystem||{}).model,t])).get("trigger"))return n.dispatchAction({"type":"updateAxisPointer","seriesIndex":o,"dataIndex":a,"position":i.position}),!0}},"_tryShow":function _tryShow(t,e){var n=t.target;if(this._tooltipModel){this._lastX=t.offsetX,this._lastY=t.offsetY;var i=t.dataByCoordSys;i&&i.length?this._showAxisTooltip(i,t):n&&null!=n.dataIndex?(this._lastDataByCoordSys=null,this._showSeriesItemTooltip(t,n,e)):n&&n.tooltip?(this._lastDataByCoordSys=null,this._showComponentItemTooltip(t,n,e)):(this._lastDataByCoordSys=null,this._hide(e))}},"_showOrMove":function _showOrMove(t,e){var n=t.get("showDelay");e=m(e,this),clearTimeout(this._showTimout),n>0?this._showTimout=setTimeout(e,n):e()},"_showAxisTooltip":function _showAxisTooltip(t,e){var i=this._ecModel,o=this._tooltipModel,a=[e.offsetX,e.offsetY],r=[],s=[],l=kv([e.tooltipOption,o]),u=this._renderMode,h=this._newLine,c={};NO(t,function(t){NO(t.dataByAxis,function(t){var e=i.getComponent(t.axisDim+"Axis",t.axisIndex),o=t.value,a=[];if(e&&null!=o){var l=Im(o,e.axis,i,t.seriesDataIndices,t.valueLabelOpt);d(t.seriesDataIndices,function(r){var h=i.getSeriesByIndex(r.seriesIndex),d=r.dataIndexInside,f=h&&h.getDataParams(d);if(f.axisDim=t.axisDim,f.axisIndex=t.axisIndex,f.axisType=t.axisType,f.axisId=t.axisId,f.axisValue=Ul(e.axis,o),f.axisValueLabel=l,f){s.push(f);var p,g=h.formatTooltip(d,!0,null,u);if(w(g)){p=g.html;var m=g.markers;n(c,m)}else p=g;a.push(p)}});var f=l;"html"!==u?r.push(a.join(h)):r.push((f?ea(f)+h:"")+a.join(h))}})},this),r.reverse(),r=r.join(this._newLine+this._newLine);var f=e.position;this._showOrMove(l,function(){this._updateContentNotChangedOnAxis(t)?this._updatePosition(l,f,a[0],a[1],this._tooltipContent,s):this._showTooltipContent(l,r,s,Math.random(),a[0],a[1],f,void 0,c)})},"_showSeriesItemTooltip":function _showSeriesItemTooltip(t,e,n){var i=this._ecModel,o=e.seriesIndex,a=i.getSeriesByIndex(o),r=e.dataModel||a,s=e.dataIndex,l=e.dataType,u=r.getData(),h=kv([u.getItemModel(s),r,a&&(a.coordinateSystem||{}).model,this._tooltipModel]),c=h.get("trigger");if(null==c||"item"===c){var d,f,p=r.getDataParams(s,l),g=r.formatTooltip(s,!1,l,this._renderMode);w(g)?(d=g.html,f=g.markers):(d=g,f=null);var m="item_"+r.name+"_"+s;this._showOrMove(h,function(){this._showTooltipContent(h,d,p,m,t.offsetX,t.offsetY,t.position,t.target,f)}),n({"type":"showTip","dataIndexInside":s,"dataIndex":u.getRawIndex(s),"seriesIndex":o,"from":this.uid})}},"_showComponentItemTooltip":function _showComponentItemTooltip(t,e,n){var i=e.tooltip;if("string"==typeof i){i={"content":i,"formatter":i}}var o=new Po(i,this._tooltipModel,this._ecModel),a=o.get("content"),r=Math.random();this._showOrMove(o,function(){this._showTooltipContent(o,a,o.get("formatterParams")||{},r,t.offsetX,t.offsetY,t.position,e)}),n({"type":"showTip","from":this.uid})},"_showTooltipContent":function _showTooltipContent(t,e,n,i,o,a,r,s,l){if(this._ticket="",t.get("showContent")&&t.get("show")){var u=this._tooltipContent,h=t.get("formatter");r=r||t.get("position");var c=e;if(h&&"string"==typeof h)c=ia(h,n,!0);else if("function"==typeof h){var d=RO(function(e,i){e===this._ticket&&(u.setContent(i,l,t),this._updatePosition(t,r,o,a,u,n,s))},this);this._ticket=i,c=h(n,i,d)}u.setContent(c,l,t),u.show(t),this._updatePosition(t,r,o,a,u,n,s)}},"_updatePosition":function _updatePosition(t,e,n,i,o,a,r){var s=this._api.getWidth(),l=this._api.getHeight();e=e||t.get("position");var u=o.getSize(),h=t.get("align"),c=t.get("verticalAlign"),d=r&&r.getBoundingRect().clone();if(r&&d.applyTransform(r.transform),"function"==typeof e&&(e=e([n,i],a,o.el,d,{"viewSize":[s,l],"contentSize":u.slice()})),y(e))n=EO(e[0],s),i=EO(e[1],l);else if(w(e)){e.width=u[0],e.height=u[1];var f=ha(e,{"width":s,"height":l});n=f.x,i=f.y,h=null,c=null}else"string"==typeof e&&r?(n=(p=function Ev(t,e,n){var i=n[0],o=n[1],a=0,r=0,s=e.width,l=e.height;switch(t){case"inside":a=e.x+s/2-i/2,r=e.y+l/2-o/2;break;case"top":a=e.x+s/2-i/2,r=e.y-o-5;break;case"bottom":a=e.x+s/2-i/2,r=e.y+l+5;break;case"left":a=e.x-i-5,r=e.y+l/2-o/2;break;case"right":a=e.x+s+5,r=e.y+l/2-o/2}return[a,r]}(e,d,u))[0],i=p[1]):(n=(p=function Nv(t,e,n,i,o,a,r){var s=n.getOuterSize(),l=s.width,u=s.height;return null!=a&&(t+l+a>i?t-=l+a:t+=a),null!=r&&(e+u+r>o?e-=u+r:e+=r),[t,e]}(n,i,o,s,l,h?null:20,c?null:20))[0],i=p[1]);if(h&&(n-=Rv(h)?u[0]/2:"right"===h?u[0]:0),c&&(i-=Rv(c)?u[1]/2:"bottom"===c?u[1]:0),t.get("confine")){var p=function Ov(t,e,n,i,o){var a=n.getOuterSize(),r=a.width,s=a.height;return t=Math.min(t+r,i)-r,e=Math.min(e+s,o)-s,[t=Math.max(t,0),e=Math.max(e,0)]}(n,i,o,s,l);n=p[0],i=p[1]}o.moveTo(n,i)},"_updateContentNotChangedOnAxis":function _updateContentNotChangedOnAxis(t){var e=this._lastDataByCoordSys,n=!!e&&e.length===t.length;return n&&NO(e,function(e,i){var o=e.dataByAxis||{},a=(t[i]||{}).dataByAxis||[];(n&=o.length===a.length)&&NO(o,function(t,e){var i=a[e]||{},o=t.seriesDataIndices||[],r=i.seriesDataIndices||[];(n&=t.value===i.value&&t.axisType===i.axisType&&t.axisId===i.axisId&&o.length===r.length)&&NO(o,function(t,e){var i=r[e];n&=t.seriesIndex===i.seriesIndex&&t.dataIndex===i.dataIndex})})}),this._lastDataByCoordSys=t,!!n},"_hide":function _hide(t){this._lastDataByCoordSys=null,t({"type":"hideTip","from":this.uid})},"dispose":function dispose(t,e){be.node||(this._tooltipContent.hide(),gm("itemTooltip",e))}}),Os({"type":"showTip","event":"showTip","update":"tooltip:manuallyShowTip"},function(){}),Os({"type":"hideTip","event":"hideTip","update":"tooltip:manuallyHideTip"},function(){}),Gv.prototype={"constructor":Gv,"pointToData":function pointToData(t,e){return this.polar.pointToData(t,e)["radius"===this.dim?0:1]},"dataToRadius":vD.prototype.dataToCoord,"radiusToData":vD.prototype.coordToData},u(Gv,vD);var BO=Bi();Fv.prototype={"constructor":Fv,"pointToData":function pointToData(t,e){return this.polar.pointToData(t,e)["radius"===this.dim?0:1]},"dataToAngle":vD.prototype.dataToCoord,"angleToData":vD.prototype.coordToData,"calculateCategoryInterval":function calculateCategoryInterval(){var t=this,e=t.getLabelModel(),n=t.scale,i=n.getExtent(),o=n.count();if(i[1]-i[0]<1)return 0;var a=i[0],r=t.dataToCoord(a+1)-t.dataToCoord(a),s=Math.abs(r),l=ke(a,e.getFont(),"center","top"),u=Math.max(l.height,7)/s;isNaN(u)&&(u=1/0);var h=Math.max(0,Math.floor(u)),c=BO(t.model),d=c.lastAutoInterval,f=c.lastTickCount;return null!=d&&null!=f&&Math.abs(d-h)<=1&&Math.abs(f-o)<=1&&d>h?h=d:(c.lastTickCount=o,c.lastAutoInterval=h),h}},u(Fv,vD);var VO=function lN(t){this.name=t||"",this.cx=0,this.cy=0,this._radiusAxis=new Gv,this._angleAxis=new Fv,this._radiusAxis.polar=this._angleAxis.polar=this};VO.prototype={"type":"polar","axisPointerEnabled":!0,"constructor":VO,"dimensions":["radius","angle"],"model":null,"containPoint":function containPoint(t){var e=this.pointToCoord(t);return this._radiusAxis.contain(e[0])&&this._angleAxis.contain(e[1])},"containData":function containData(t){return this._radiusAxis.containData(t[0])&&this._angleAxis.containData(t[1])},"getAxis":function getAxis(t){return this["_"+t+"Axis"]},"getAxes":function getAxes(){return[this._radiusAxis,this._angleAxis]},"getAxesByScale":function getAxesByScale(t){var e=[],n=this._angleAxis,i=this._radiusAxis;return n.scale.type===t&&e.push(n),i.scale.type===t&&e.push(i),e},"getAngleAxis":function getAngleAxis(){return this._angleAxis},"getRadiusAxis":function getRadiusAxis(){return this._radiusAxis},"getOtherAxis":function getOtherAxis(t){var e=this._angleAxis;return t===e?this._radiusAxis:e},"getBaseAxis":function getBaseAxis(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAngleAxis()},"getTooltipAxes":function getTooltipAxes(t){var e=null!=t&&"auto"!==t?this.getAxis(t):this.getBaseAxis();return{"baseAxes":[e],"otherAxes":[this.getOtherAxis(e)]}},"dataToPoint":function dataToPoint(t,e){return this.coordToPoint([this._radiusAxis.dataToRadius(t[0],e),this._angleAxis.dataToAngle(t[1],e)])},"pointToData":function pointToData(t,e){var n=this.pointToCoord(t);return[this._radiusAxis.radiusToData(n[0],e),this._angleAxis.angleToData(n[1],e)]},"pointToCoord":function pointToCoord(t){var e=t[0]-this.cx,n=t[1]-this.cy,i=this.getAngleAxis(),o=i.getExtent(),a=Math.min(o[0],o[1]),r=Math.max(o[0],o[1]);i.inverse?a=r-360:r=a+360;var s=Math.sqrt(e*e+n*n);e/=s,n/=s;for(var l=Math.atan2(-n,e)/Math.PI*180,u=l<a?1:-1;l<a||l>r;)l+=360*u;return[s,l]},"coordToPoint":function coordToPoint(t){var e=t[0],n=t[1]/180*Math.PI;return[Math.cos(n)*e+this.cx,-Math.sin(n)*e+this.cy]}};var GO=pI.extend({"type":"polarAxis","axis":null,"getCoordSysModel":function getCoordSysModel(){return this.ecModel.queryComponents({"mainType":"polar","index":this.option.polarIndex,"id":this.option.polarId})[0]}});n(GO.prototype,nD);var FO={"splitNumber":5};$D("angle",GO,Wv,{"startAngle":90,"clockwise":!0,"splitNumber":12,"axisLabel":{"rotate":!1}}),$D("radius",GO,Wv,FO),Gs({"type":"polar","dependencies":["polarAxis","angleAxis"],"coordinateSystem":null,"findAxisModel":function findAxisModel(t){var e;return this.ecModel.eachComponent(t,function(t){t.getCoordSysModel()===this&&(e=t)},this),e},"defaultOption":{"zlevel":0,"z":0,"center":["50%","50%"],"radius":"80%"}});var HO={"dimensions":VO.prototype.dimensions,"create":function create(t,e){var n=[];return t.eachComponent("polar",function(t,i){var o=new VO(i);o.update=Zv;var a=o.getRadiusAxis(),r=o.getAngleAxis(),s=t.findAxisModel("radiusAxis"),l=t.findAxisModel("angleAxis");Uv(a,s),Uv(r,l),function Hv(t,e,n){var i=e.get("center"),o=n.getWidth(),a=n.getHeight();t.cx=Bo(i[0],o),t.cy=Bo(i[1],a);var r=t.getRadiusAxis(),s=Math.min(o,a)/2,l=Bo(e.get("radius"),s);r.inverse?r.setExtent(l,0):r.setExtent(0,l)}(o,t,e),n.push(o),t.coordinateSystem=o,o.model=t}),t.eachSeries(function(e){if("polar"===e.get("coordinateSystem")){var n=t.queryComponents({"mainType":"polar","index":e.get("polarIndex"),"id":e.get("polarId")})[0];e.coordinateSystem=n.coordinateSystem}}),n}};Ga.register("polar",HO);var WO=["axisLine","axisLabel","axisTick","splitLine","splitArea"];cC.extend({"type":"angleAxis","axisPointerClass":"PolarAxisPointer","render":function render(t,e){if(this.group.removeAll(),t.get("show")){var n=t.axis,o=n.polar,a=o.getRadiusAxis().getExtent(),r=n.getTicksCoords(),s=f(n.getViewLabels(),function(t){return(t=i(t)).coord=n.dataToCoord(t.tickValue),t});Yv(s),Yv(r),d(WO,function(e){!t.get(e+".show")||n.scale.isBlank()&&"axisLine"!==e||this["_"+e](t,o,r,a,s)},this)}},"_axisLine":function _axisLine(t,e,n,i){var o=t.getModel("axisLine.lineStyle"),a=new sM({"shape":{"cx":e.cx,"cy":e.cy,"r":i[jv(e)]},"style":o.getLineStyle(),"z2":1,"silent":!0});a.style.fill=null,this.group.add(a)},"_axisTick":function _axisTick(t,e,n,i){var o=t.getModel("axisTick"),a=(o.get("inside")?-1:1)*o.get("length"),s=i[jv(e)],l=f(n,function(t){return new SM({"shape":Xv(e,[s,s+a],t.coord)})});this.group.add(GM(l,{"style":r(o.getModel("lineStyle").getLineStyle(),{"stroke":t.get("axisLine.lineStyle.color")})}))},"_axisLabel":function _axisLabel(t,e,n,i,o){var a=t.getCategories(!0),r=t.getModel("axisLabel"),s=r.get("margin");d(o,function(n,o){var l=r,u=n.tickValue,h=i[jv(e)],c=e.coordToPoint([h+s,n.coord]),d=e.cx,f=e.cy,p=Math.abs(c[0]-d)/h<.3?"center":c[0]>d?"left":"right",g=Math.abs(c[1]-f)/h<.3?"middle":c[1]>f?"top":"bottom";a&&a[u]&&a[u].textStyle&&(l=new Po(a[u].textStyle,r,r.ecModel));var m=new rM({"silent":!0});this.group.add(m),go(m.style,l,{"x":c[0],"y":c[1],"textFill":l.getTextColor()||t.get("axisLine.lineStyle.color"),"text":n.formattedLabel,"textAlign":p,"textVerticalAlign":g})},this)},"_splitLine":function _splitLine(t,e,n,i){var o=t.getModel("splitLine").getModel("lineStyle"),a=o.get("color"),s=0;a=a instanceof Array?a:[a];for(var l=[],u=0;u<n.length;u++){var h=s++%a.length;l[h]=l[h]||[],l[h].push(new SM({"shape":Xv(e,i,n[u].coord)}))}for(u=0;u<l.length;u++)this.group.add(GM(l[u],{"style":r({"stroke":a[u%a.length]},o.getLineStyle()),"silent":!0,"z":t.get("z")}))},"_splitArea":function _splitArea(t,e,n,i){if(n.length){var o=t.getModel("splitArea").getModel("areaStyle"),a=o.get("color"),s=0;a=a instanceof Array?a:[a];for(var l=[],u=Math.PI/180,h=-n[0].coord*u,c=Math.min(i[0],i[1]),d=Math.max(i[0],i[1]),f=t.get("clockwise"),p=1;p<n.length;p++){var g=s++%a.length;l[g]=l[g]||[],l[g].push(new fM({"shape":{"cx":e.cx,"cy":e.cy,"r0":c,"r":d,"startAngle":h,"endAngle":-n[p].coord*u,"clockwise":f},"silent":!0})),h=-n[p].coord*u}for(p=0;p<l.length;p++)this.group.add(GM(l[p],{"style":r({"fill":a[p%a.length]},o.getAreaStyle()),"silent":!0}))}}});var jO=["axisLine","axisTickLabel","axisName"],XO=["splitLine","splitArea"];cC.extend({"type":"radiusAxis","axisPointerClass":"PolarAxisPointer","render":function render(t,e){if(this.group.removeAll(),t.get("show")){var n=t.axis,i=n.polar,o=i.getAngleAxis(),a=n.getTicksCoords(),r=o.getExtent()[0],s=n.getExtent(),l=function qv(t,e,n){return{"position":[t.cx,t.cy],"rotation":n/180*Math.PI,"labelDirection":-1,"tickDirection":-1,"nameDirection":1,"labelRotate":e.getModel("axisLabel").get("rotate"),"z2":1}}(i,t,r),u=new iC(t,l);d(jO,u.add,u),this.group.add(u.getGroup()),d(XO,function(e){t.get(e+".show")&&!n.scale.isBlank()&&this["_"+e](t,i,r,s,a)},this)}},"_splitLine":function _splitLine(t,e,n,i,o){var a=t.getModel("splitLine").getModel("lineStyle"),s=a.get("color"),l=0;s=s instanceof Array?s:[s];for(var u=[],h=0;h<o.length;h++){var c=l++%s.length;u[c]=u[c]||[],u[c].push(new sM({"shape":{"cx":e.cx,"cy":e.cy,"r":o[h].coord},"silent":!0}))}for(h=0;h<u.length;h++)this.group.add(GM(u[h],{"style":r({"stroke":s[h%s.length],"fill":null},a.getLineStyle()),"silent":!0}))},"_splitArea":function _splitArea(t,e,n,i,o){if(o.length){var a=t.getModel("splitArea").getModel("areaStyle"),s=a.get("color"),l=0;s=s instanceof Array?s:[s];for(var u=[],h=o[0].coord,c=1;c<o.length;c++){var d=l++%s.length;u[d]=u[d]||[],u[d].push(new fM({"shape":{"cx":e.cx,"cy":e.cy,"r0":h,"r":o[c].coord,"startAngle":0,"endAngle":2*Math.PI},"silent":!0})),h=o[c].coord}for(c=0;c<u.length;c++)this.group.add(GM(u[c],{"style":r({"fill":s[c%s.length]},a.getAreaStyle()),"silent":!0}))}}});var YO=mm.extend({"makeElOption":function makeElOption(t,e,n,i,o){var a=n.axis;"angle"===a.dim&&(this.animationThreshold=Math.PI/18);var r,s=a.polar,l=s.getOtherAxis(a).getExtent();r=a["dataTo"+sa(a.dim)](e);var u=i.get("type");if(u&&"none"!==u){var h=bm(i),c=$O[u](a,s,r,l,h);c.style=h,t.graphicKey=c.type,t.pointer=c}Sm(t,n,i,o,function Kv(t,e,n,i,o){var a=e.axis,r=a.dataToCoord(t),s=i.getAngleAxis().getExtent()[0];s=s/180*Math.PI;var l,u,h,c=i.getRadiusAxis().getExtent();if("radius"===a.dim){var d=xt();Mt(d,d,s),St(d,d,[i.cx,i.cy]),l=Ao([r,-o],d);var f=e.getModel("axisLabel").get("rotate")||0,p=iC.innerTextLayout(s,f*Math.PI/180,-1);u=p.textAlign,h=p.textVerticalAlign}else{var g=c[1];l=i.coordToPoint([g+o,r]);var m=i.cx,v=i.cy;u=Math.abs(l[0]-m)/g<.3?"center":l[0]>m?"left":"right",h=Math.abs(l[1]-v)/g<.3?"middle":l[1]>v?"top":"bottom"}return{"position":l,"align":u,"verticalAlign":h}}(e,n,0,s,i.get("label.margin")))}}),$O={"line":function line(t,e,n,i,o){return"angle"===t.dim?{"type":"Line","shape":Dm(e.coordToPoint([i[0],n]),e.coordToPoint([i[1],n]))}:{"type":"Circle","shape":{"cx":e.cx,"cy":e.cy,"r":n}}},"shadow":function shadow(t,e,n,i,o){var a=Math.max(1,t.getBandWidth()),r=Math.PI/180;return"angle"===t.dim?{"type":"Sector","shape":Lm(e.cx,e.cy,i[0],i[1],(-n-a/2)*r,(a/2-n)*r)}:{"type":"Sector","shape":Lm(e.cx,e.cy,n-a/2,n+a/2,0,2*Math.PI)}}};cC.registerAxisPointerClass("PolarAxisPointer",YO),Rs(v(function(t,e,n){n.getWidth(),n.getHeight();var i={},o=function Vv(t,e){var n={};d(t,function(t,e){var i=t.getData(),o=t.coordinateSystem.getBaseAxis(),a=o.getExtent(),r="category"===o.type?o.getBandWidth():Math.abs(a[1]-a[0])/i.count(),s=n[Bv(o)]||{"bandWidth":r,"remainedWidth":r,"autoWidthCount":0,"categoryGap":"20%","gap":"30%","stacks":{}},l=s.stacks;n[Bv(o)]=s;var u=zv(t);l[u]||s.autoWidthCount++,l[u]=l[u]||{"width":0,"maxWidth":0};var h=Bo(t.get("barWidth"),r),c=Bo(t.get("barMaxWidth"),r),d=t.get("barGap"),f=t.get("barCategoryGap");h&&!l[u].width&&(h=Math.min(s.remainedWidth,h),l[u].width=h,s.remainedWidth-=h),c&&(l[u].maxWidth=c),null!=d&&(s.gap=d),null!=f&&(s.categoryGap=f)});var i={};return d(n,function(t,e){i[e]={};var n=t.stacks,o=t.bandWidth,a=Bo(t.categoryGap,o),r=Bo(t.gap,1),s=t.remainedWidth,l=t.autoWidthCount,u=(s-a)/(l+(l-1)*r);u=Math.max(u,0),d(n,function(t,e){var n=t.maxWidth;n&&n<u&&(n=Math.min(n,s),t.width&&(n=Math.min(n,t.width)),s-=n,t.width=n,l--)}),u=(s-a)/(l+(l-1)*r),u=Math.max(u,0);var h,c=0;d(n,function(t,e){t.width||(t.width=u),h=t,c+=t.width*(1+r)}),h&&(c-=h.width*r);var f=-c/2;d(n,function(t,n){i[e][n]=i[e][n]||{"offset":f,"width":t.width},f+=t.width*(1+r)})}),i}(g(e.getSeriesByType(t),function(t){return!e.isSeriesFiltered(t)&&t.coordinateSystem&&"polar"===t.coordinateSystem.type}));e.eachSeriesByType(t,function(t){if("polar"===t.coordinateSystem.type){var e=t.getData(),n=t.coordinateSystem,a=n.getBaseAxis(),r=zv(t),s=o[Bv(a)][r],l=s.offset,u=s.width,h=n.getOtherAxis(a),c=t.coordinateSystem.cx,d=t.coordinateSystem.cy,f=t.get("barMinHeight")||0,p=t.get("barMinAngle")||0;i[r]=i[r]||[];for(var g=e.mapDimension(h.dim),m=e.mapDimension(a.dim),v=fl(e,g),y=h.getExtent()[0],x=0,_=e.count();x<_;x++){var b=e.get(g,x),w=e.get(m,x);if(!isNaN(b)){var S,M,I,T,A=b>=0?"p":"n",D=y;if(v&&(i[r][w]||(i[r][w]={"p":y,"n":y}),D=i[r][w][A]),"radius"===h.dim){var C=h.dataToRadius(b)-y,L=a.dataToAngle(w);Math.abs(C)<f&&(C=(C<0?-1:1)*f),S=D,M=D+C,T=(I=L-l)-u,v&&(i[r][w][A]=M)}else{var k=h.dataToAngle(b,!0)-y,P=a.dataToRadius(w);Math.abs(k)<p&&(k=(k<0?-1:1)*p),M=(S=P+l)+u,I=D,T=D+k,v&&(i[r][w][A]=T)}e.setItemLayout(x,{"cx":c,"cy":d,"r0":S,"r":M,"startAngle":-I*Math.PI/180,"endAngle":-T*Math.PI/180})}}}},this)},"bar")),Fs({"type":"polar"}),h(pI.extend({"type":"geo","coordinateSystem":null,"layoutMode":"box","init":function init(t){pI.prototype.init.apply(this,arguments),Ci(t,"label",["show"])},"optionUpdated":function optionUpdated(){var t=this.option,e=this;t.regions=rL.getFilledRegions(t.regions,t.map,t.nameMap),this._optionModelMap=p(t.regions||[],function(t,n){return n.name&&t.set(n.name,new Po(n,e)),t},R()),this.updateSelectedMap(t.regions)},"defaultOption":{"zlevel":0,"z":0,"show":!0,"left":"center","top":"center","aspectScale":null,"silent":!1,"map":"","boundingCoords":null,"center":null,"zoom":1,"scaleLimit":null,"label":{"show":!1,"color":"#000"},"itemStyle":{"borderWidth":.5,"borderColor":"#444","color":"#eee"},"emphasis":{"label":{"show":!0,"color":"rgb(100,0,0)"},"itemStyle":{"color":"rgba(255,215,0,0.8)"}},"regions":[]},"getRegionModel":function getRegionModel(t){return this._optionModelMap.get(t)||new Po(null,this,this.ecModel)},"getFormattedLabel":function getFormattedLabel(t,e){var n=this.getRegionModel(t).get("label."+e+".formatter"),i={"name":t};return"function"==typeof n?(i.status=e,n(i)):"string"==typeof n?n.replace("{a}",null!=t?t:""):void 0},"setZoom":function setZoom(t){this.option.zoom=t},"setCenter":function setCenter(t){this.option.center=t}}),DC),Fs({"type":"geo","init":function init(t,e){var n=new yc(e,!0);this._mapDraw=n,this.group.add(n.group)},"render":function render(t,e,n,i){if(!i||"geoToggleSelect"!==i.type||i.from!==this.uid){var o=this._mapDraw;t.get("show")?o.draw(t,e,n,this,i):this._mapDraw.group.removeAll(),this.group.silent=t.get("silent")}},"dispose":function dispose(){this._mapDraw&&this._mapDraw.remove()}}),$v("toggleSelected",{"type":"geoToggleSelect","event":"geoselectchanged"}),$v("select",{"type":"geoSelect","event":"geoselected"}),$v("unSelect",{"type":"geoUnSelect","event":"geounselected"});var KO=["rect","polygon","keep","clear"],QO=d,JO={"lineX":oy(0),"lineY":oy(1),"rect":{"point":function point(t,e,n){return t&&n.boundingRect.contain(t[0],t[1])},"rect":function rect(t,e,n){return t&&n.boundingRect.intersect(t)}},"polygon":{"point":function point(t,e,n){return t&&n.boundingRect.contain(t[0],t[1])&&Ql(n.range,t[0],t[1])},"rect":function rect(t,e,n){var i=n.range;if(!t||i.length<=1)return!1;var o=t.x,a=t.y,r=t.width,s=t.height,l=i[0];return!!(Ql(i,o,a)||Ql(i,o+r,a)||Ql(i,o,a+s)||Ql(i,o+r,a+s)||de.create(t).contain(l[0],l[1])||ry(o,a,o+r,a,i)||ry(o,a,o,a+s,i)||ry(o+r,a,o+r,a+s,i)||ry(o,a+s,o+r,a+s,i))||void 0}}},tR=d,eR=l,nR=v,iR=["dataToPoint","pointToData"],oR=["grid","xAxis","yAxis","geo","graph","polar","radiusAxis","angleAxis","bmap"],aR=hy.prototype;aR.setOutputRanges=function(t,e){this.matchOutputRanges(t,e,function(t,e,n){if((t.coordRanges||(t.coordRanges=[])).push(e),!t.coordRange){t.coordRange=e;var i=uR[t.brushType](0,n,e);t.__rangeOffset={"offset":hR[t.brushType](i.values,t.range,[1,1]),"xyMinMax":i.xyMinMax}}})},aR.matchOutputRanges=function(t,e,n){tR(t,function(t){var i=this.findTargetInfo(t,e);i&&!0!==i&&d(i.coordSyses,function(i){var o=uR[t.brushType](1,i,t.range);n(t,o.values,i,e)})},this)},aR.setInputRanges=function(t,e){tR(t,function(t){var n=this.findTargetInfo(t,e);if(t.range=t.range||[],n&&!0!==n){t.panelId=n.panelId;var i=uR[t.brushType](0,n.coordSys,t.coordRange),o=t.__rangeOffset;t.range=o?hR[t.brushType](i.values,o.offset,function gy(t,e){var n=my(t),i=my(e),o=[n[0]/i[0],n[1]/i[1]];return isNaN(o[0])&&(o[0]=1),isNaN(o[1])&&(o[1]=1),o}(i.xyMinMax,o.xyMinMax)):i.values}},this)},aR.makePanelOpts=function(t,e){return f(this._targetInfoList,function(n){var i=n.getPanelRect();return{"panelId":n.panelId,"defaultBrushType":e&&e(n),"clipPath":vp(i),"isTargetByCursor":xp(i,t,n.coordSysModel),"getLinearBrushOtherExtent":yp(i)}})},aR.controlSeries=function(t,e,n){var i=this.findTargetInfo(t,n);return!0===i||i&&eR(i.coordSyses,e.coordinateSystem)>=0},aR.findTargetInfo=function(t,e){for(var n=this._targetInfoList,i=dy(e,t),o=0;o<n.length;o++){var a=n[o],r=t.panelId;if(r){if(a.panelId===r)return a}else for(o=0;o<sR.length;o++)if(sR[o](i,a))return a}return!0};var rR={"grid":function grid(t,e){var n=t.xAxisModels,i=t.yAxisModels,o=t.gridModels,a=R(),r={},s={};(n||i||o)&&(tR(n,function(t){var e=t.axis.grid.model;a.set(e.id,e),r[e.id]=!0}),tR(i,function(t){var e=t.axis.grid.model;a.set(e.id,e),s[e.id]=!0}),tR(o,function(t){a.set(t.id,t),r[t.id]=!0,s[t.id]=!0}),a.each(function(t){var o=t.coordinateSystem,a=[];tR(o.getCartesians(),function(t,e){(eR(n,t.getAxis("x").model)>=0||eR(i,t.getAxis("y").model)>=0)&&a.push(t)}),e.push({"panelId":"grid--"+t.id,"gridModel":t,"coordSysModel":t,"coordSys":a[0],"coordSyses":a,"getPanelRect":lR.grid,"xAxisDeclared":r[t.id],"yAxisDeclared":s[t.id]})}))},"geo":function geo(t,e){tR(t.geoModels,function(t){var n=t.coordinateSystem;e.push({"panelId":"geo--"+t.id,"geoModel":t,"coordSysModel":t,"coordSys":n,"coordSyses":[n],"getPanelRect":lR.geo})})}},sR=[function(t,e){var n=t.xAxisModel,i=t.yAxisModel,o=t.gridModel;return!o&&n&&(o=n.axis.grid.model),!o&&i&&(o=i.axis.grid.model),o&&o===e.gridModel},function(t,e){var n=t.geoModel;return n&&n===e.geoModel}],lR={"grid":function grid(){return this.coordSys.grid.getRect().clone()},"geo":function geo(){var t=this.coordSys,e=t.getBoundingRect().clone();return e.applyTransform(To(t)),e}},uR={"lineX":nR(fy,0),"lineY":nR(fy,1),"rect":function rect(t,e,n){var i=e[iR[t]]([n[0][0],n[1][0]]),o=e[iR[t]]([n[0][1],n[1][1]]),a=[cy([i[0],o[0]]),cy([i[1],o[1]])];return{"values":a,"xyMinMax":a}},"polygon":function polygon(t,e,n){var i=[[1/0,-1/0],[1/0,-1/0]];return{"values":f(n,function(n){var o=e[iR[t]](n);return i[0][0]=Math.min(i[0][0],o[0]),i[1][0]=Math.min(i[1][0],o[1]),i[0][1]=Math.max(i[0][1],o[0]),i[1][1]=Math.max(i[1][1],o[1]),o}),"xyMinMax":i}}},hR={"lineX":nR(py,0),"lineY":nR(py,1),"rect":function rect(t,e,n){return[[t[0][0]-n[0]*e[0][0],t[0][1]-n[0]*e[0][1]],[t[1][0]-n[1]*e[1][0],t[1][1]-n[1]*e[1][1]]]},"polygon":function polygon(t,e,n){return f(t,function(t,i){return[t[0]-n[0]*e[i][0],t[1]-n[1]*e[i][1]]})}},cR=["inBrush","outOfBrush"],dR="__ecBrushSelect",fR="__ecInBrushSelectEvent",pR=qT.VISUAL.BRUSH;Rs(pR,function(t,e,n){t.eachComponent({"mainType":"brush"},function(e){n&&"takeGlobalCursor"===n.type&&e.setBrushOption("brush"===n.key?n.brushOption:{"brushType":!1}),(e.brushTargetManager=new hy(e.option,t)).setInputRanges(e.areas,t)})}),zs(pR,function(t,e,n){var o,a,s=[];t.eachComponent({"mainType":"brush"},function(e,n){function l(t){return"all"===m||v[t]}function u(t){return!!t.length}function c(n,i,o){var a=_y(n);if(a&&!wy(e,i)&&(d(w,function(i){a[i.brushType]&&e.brushTargetManager.controlSeries(i,n,t)&&o.push(i),b|=u(o)}),l(i)&&u(o))){var r=n.getData();r.each(function(t){xy(a,o,r,t)&&(x[t]=1)})}}var p={"brushId":e.id,"brushIndex":n,"brushName":e.name,"areas":i(e.areas),"selected":[]};s.push(p);var g=e.option,m=g.brushLink,v=[],x=[],_=[],b=0;n||(o=g.throttleType,a=g.throttleDelay);var w=f(e.areas,function(t){return function by(t){var e=t.selectors={};return d(JO[t.brushType],function(n,i){e[i]=function(i){return n(i,e,t)}}),t}(r({"boundingRect":gR[t.brushType](t)},t))}),S=ty(e.option,cR,function(t){t.mappingMethod="fixed"});y(m)&&d(m,function(t){v[t]=1}),t.eachSeries(function(t,e){var n=_[e]=[];"parallel"===t.subType?function h(t,e){var n=t.coordinateSystem;b|=n.hasAxisBrushed(),l(e)&&n.eachActiveState(t.getData(),function(t,e){"active"===t&&(x[e]=1)})}(t,e):c(t,e,n)}),t.eachSeries(function(t,e){var n={"seriesId":t.id,"seriesIndex":e,"seriesName":t.name,"dataIndex":[]};p.selected.push(n);var i=_y(t),o=_[e],a=t.getData(),r=l(e)?function(t){return x[t]?(n.dataIndex.push(a.getRawIndex(t)),"inBrush"):"outOfBrush"}:function(t){return xy(i,o,a,t)?(n.dataIndex.push(a.getRawIndex(t)),"inBrush"):"outOfBrush"};(l(e)?b:u(o))&&function iy(t,e,n,i,o,a){function r(t){return n.getItemVisual(u,t)}function s(t,e){n.setItemVisual(u,t,e)}function l(t,l){u=null==a?t:l;var c=n.getRawDataItem(u);if(!c||!1!==c.visualMap)for(var d=i.call(o,t),f=e[d],p=h[d],g=0,m=p.length;g<m;g++){var v=p[g];f[v]&&f[v].applyVisual(t,r,s)}}var u,h={};d(t,function(t){var n=PL.prepareVisualTypes(e[t]);h[t]=n}),null==a?n.each(l):n.each([a],l)}(cR,S,a,r)})}),function vy(t,e,n,i,o){if(o){var a=t.getZr();a[fR]||(a[dR]||(a[dR]=yy),Pr(a,dR,n,e)(t,i))}}(e,o,a,s,n)});var gR={"lineX":B,"lineY":B,"rect":function rect(t){return Sy(t.range)},"polygon":function polygon(t){for(var e,n=t.range,i=0,o=n.length;i<o;i++){e=e||[[1/0,-1/0],[1/0,-1/0]];var a=n[i];a[0]<e[0][0]&&(e[0][0]=a[0]),a[0]>e[0][1]&&(e[0][1]=a[0]),a[1]<e[1][0]&&(e[1][0]=a[1]),a[1]>e[1][1]&&(e[1][1]=a[1])}return e&&Sy(e)}},vR=["#ddd"];Gs({"type":"brush","dependencies":["geo","grid","xAxis","yAxis","parallel","series"],"defaultOption":{"toolbox":null,"brushLink":null,"seriesIndex":"all","geoIndex":null,"xAxisIndex":null,"yAxisIndex":null,"brushType":"rect","brushMode":"single","transformable":!0,"brushStyle":{"borderWidth":1,"color":"rgba(120,140,180,0.3)","borderColor":"rgba(120,140,180,0.8)"},"throttleType":"fixRate","throttleDelay":0,"removeOnClick":!0,"z":1e4},"areas":[],"brushType":null,"brushOption":{},"coordInfoList":[],"optionUpdated":function optionUpdated(t,e){var n=this.option;!e&&ey(n,t,["inBrush","outOfBrush"]);var i=n.inBrush=n.inBrush||{};n.outOfBrush=n.outOfBrush||{"color":vR},i.hasOwnProperty("liftZ")||(i.liftZ=5)},"setAreas":function setAreas(t){t&&(this.areas=f(t,function(t){return My(this.option,t)},this))},"setBrushOption":function setBrushOption(t){this.brushOption=My(this.option,t),this.brushType=this.brushOption.brushType}}),Fs({"type":"brush","init":function init(t,e){this.ecModel=t,this.api=e,this.model,(this._brushController=new Rf(e.getZr())).on("brush",m(this._onBrush,this)).mount()},"render":function render(t){return this.model=t,Iy.apply(this,arguments)},"updateTransform":Iy,"updateView":Iy,"dispose":function dispose(){this._brushController.dispose()},"_onBrush":function _onBrush(t,e){var n=this.model.id;this.model.brushTargetManager.setOutputRanges(t,this.ecModel),(!e.isEnd||e.removeOnClick)&&this.api.dispatchAction({"type":"brush","brushId":n,"areas":i(t),"$from":n})}}),Os({"type":"brush","event":"brush"},function(t,e){e.eachComponent({"mainType":"brush","query":t},function(e){e.setAreas(t.areas)})}),Os({"type":"brushSelect","event":"brushSelected","update":"none"},function(){});var _R={},bR=vT.toolbox.brush;Dy.defaultOption={"show":!0,"type":["rect","polygon","lineX","lineY","keep","clear"],"icon":{"rect":"M7.3,34.7 M0.4,10V-0.2h9.8 M89.6,10V-0.2h-9.8 M0.4,60v10.2h9.8 M89.6,60v10.2h-9.8 M12.3,22.4V10.5h13.1 M33.6,10.5h7.8 M49.1,10.5h7.8 M77.5,22.4V10.5h-13 M12.3,31.1v8.2 M77.7,31.1v8.2 M12.3,47.6v11.9h13.1 M33.6,59.5h7.6 M49.1,59.5 h7.7 M77.5,47.6v11.9h-13","polygon":"M55.2,34.9c1.7,0,3.1,1.4,3.1,3.1s-1.4,3.1-3.1,3.1 s-3.1-1.4-3.1-3.1S53.5,34.9,55.2,34.9z M50.4,51c1.7,0,3.1,1.4,3.1,3.1c0,1.7-1.4,3.1-3.1,3.1c-1.7,0-3.1-1.4-3.1-3.1 C47.3,52.4,48.7,51,50.4,51z M55.6,37.1l1.5-7.8 M60.1,13.5l1.6-8.7l-7.8,4 M59,19l-1,5.3 M24,16.1l6.4,4.9l6.4-3.3 M48.5,11.6 l-5.9,3.1 M19.1,12.8L9.7,5.1l1.1,7.7 M13.4,29.8l1,7.3l6.6,1.6 M11.6,18.4l1,6.1 M32.8,41.9 M26.6,40.4 M27.3,40.2l6.1,1.6 M49.9,52.1l-5.6-7.6l-4.9-1.2","lineX":"M15.2,30 M19.7,15.6V1.9H29 M34.8,1.9H40.4 M55.3,15.6V1.9H45.9 M19.7,44.4V58.1H29 M34.8,58.1H40.4 M55.3,44.4 V58.1H45.9 M12.5,20.3l-9.4,9.6l9.6,9.8 M3.1,29.9h16.5 M62.5,20.3l9.4,9.6L62.3,39.7 M71.9,29.9H55.4","lineY":"M38.8,7.7 M52.7,12h13.2v9 M65.9,26.6V32 M52.7,46.3h13.2v-9 M24.9,12H11.8v9 M11.8,26.6V32 M24.9,46.3H11.8v-9 M48.2,5.1l-9.3-9l-9.4,9.2 M38.9-3.9V12 M48.2,53.3l-9.3,9l-9.4-9.2 M38.9,62.3V46.4","keep":"M4,10.5V1h10.3 M20.7,1h6.1 M33,1h6.1 M55.4,10.5V1H45.2 M4,17.3v6.6 M55.6,17.3v6.6 M4,30.5V40h10.3 M20.7,40 h6.1 M33,40h6.1 M55.4,30.5V40H45.2 M21,18.9h62.9v48.6H21V18.9z","clear":"M22,14.7l30.9,31 M52.9,14.7L22,45.7 M4.7,16.8V4.2h13.1 M26,4.2h7.8 M41.6,4.2h7.8 M70.3,16.8V4.2H57.2 M4.7,25.9v8.6 M70.3,25.9v8.6 M4.7,43.2v12.6h13.1 M26,55.8h7.8 M41.6,55.8h7.8 M70.3,43.2v12.6H57.2"},"title":i(bR.title)};var wR=Dy.prototype;wR.render=wR.updateView=function(t,e,n){var i,o,a;e.eachComponent({"mainType":"brush"},function(t){i=t.brushType,o=t.brushOption.brushMode||"single",a|=t.areas.length}),this._brushType=i,this._brushMode=o,d(t.get("type",!0),function(e){t.setIconStatus(e,("keep"===e?"multiple"===o:"clear"===e?a:e===i)?"emphasis":"normal")})},wR.getIcons=function(){var t=this.model,e=t.get("icon",!0),n={};return d(t.get("type",!0),function(t){e[t]&&(n[t]=e[t])}),n},wR.onclick=function(t,e,n){var i=this._brushType,o=this._brushMode;"clear"===n?(e.dispatchAction({"type":"axisAreaSelect","intervals":[]}),e.dispatchAction({"type":"brush","command":"clear","areas":[]})):e.dispatchAction({"type":"takeGlobalCursor","key":"brush","brushOption":{"brushType":"keep"===n?i:i!==n&&n,"brushMode":"keep"===n?"multiple"===o?"single":"multiple":o}})},Ty("brush",Dy),Ps(function(t,e){var n=t&&t.brush;if(y(n)||(n=n?[n]:[]),n.length){var i=[];d(n,function(t){var e=t.hasOwnProperty("toolbox")?t.toolbox:[];e instanceof Array&&(i=i.concat(e))});var o=t&&t.toolbox;y(o)&&(o=o[0]),o||(o={"feature":{}},t.toolbox=[o]);var a=o.feature||(o.feature={}),r=a.brush||(a.brush={}),s=r.type||(r.type=[]);s.push.apply(s,i),function Jv(t){var e={};d(t,function(t){e[t]=1}),t.length=0,d(e,function(e,n){t.push(n)})}(s),e&&!s.length&&s.push.apply(s,KO)}}),Cy.prototype={"constructor":Cy,"type":"calendar","dimensions":["time","value"],"getDimensionsInfo":function getDimensionsInfo(){return[{"name":"time","type":"time"},"value"]},"getRangeInfo":function getRangeInfo(){return this._rangeInfo},"getModel":function getModel(){return this._model},"getRect":function getRect(){return this._rect},"getCellWidth":function getCellWidth(){return this._sw},"getCellHeight":function getCellHeight(){return this._sh},"getOrient":function getOrient(){return this._orient},"getFirstDayOfWeek":function getFirstDayOfWeek(){return this._firstDayOfWeek},"getDateInfo":function getDateInfo(t){var e=(t=jo(t)).getFullYear(),n=t.getMonth()+1;n=n<10?"0"+n:n;var i=t.getDate();i=i<10?"0"+i:i;var o=t.getDay();return{"y":e,"m":n,"d":i,"day":o=Math.abs((o+7-this.getFirstDayOfWeek())%7),"time":t.getTime(),"formatedDate":e+"-"+n+"-"+i,"date":t}},"getNextNDay":function getNextNDay(t,e){return 0===(e=e||0)?this.getDateInfo(t):((t=new Date(this.getDateInfo(t).time)).setDate(t.getDate()+e),this.getDateInfo(t))},"update":function update(t,e){function i(t,e){return null!=t[e]&&"auto"!==t[e]}this._firstDayOfWeek=+this._model.getModel("dayLabel").get("firstDay"),this._orient=this._model.get("orient"),this._lineWidth=this._model.getModel("itemStyle").getItemStyle().lineWidth||0,this._rangeInfo=this._getRangeInfo(this._initRangeOption());var n=this._rangeInfo.weeks||1,o=["width","height"],a=this._model.get("cellSize").slice(),r=this._model.getBoxLayoutParams(),s="horizontal"===this._orient?[n,7]:[7,n];d([0,1],function(t){i(a,t)&&(r[o[t]]=a[t]*s[t])});var l={"width":e.getWidth(),"height":e.getHeight()},u=this._rect=ha(r,l);d([0,1],function(t){i(a,t)||(a[t]=u[o[t]]/s[t])}),this._sw=a[0],this._sh=a[1]},"dataToPoint":function dataToPoint(t,e){y(t)&&(t=t[0]),null==e&&(e=!0);var n=this.getDateInfo(t),i=this._rangeInfo,o=n.formatedDate;if(e&&!(n.time>=i.start.time&&n.time<i.end.time+864e5))return[NaN,NaN];var a=n.day,r=this._getRangeInfo([i.start.time,o]).nthWeek;return"vertical"===this._orient?[this._rect.x+a*this._sw+this._sw/2,this._rect.y+r*this._sh+this._sh/2]:[this._rect.x+r*this._sw+this._sw/2,this._rect.y+a*this._sh+this._sh/2]},"pointToData":function pointToData(t){var e=this.pointToDate(t);return e&&e.time},"dataToRect":function dataToRect(t,e){var n=this.dataToPoint(t,e);return{"contentShape":{"x":n[0]-(this._sw-this._lineWidth)/2,"y":n[1]-(this._sh-this._lineWidth)/2,"width":this._sw-this._lineWidth,"height":this._sh-this._lineWidth},"center":n,"tl":[n[0]-this._sw/2,n[1]-this._sh/2],"tr":[n[0]+this._sw/2,n[1]-this._sh/2],"br":[n[0]+this._sw/2,n[1]+this._sh/2],"bl":[n[0]-this._sw/2,n[1]+this._sh/2]}},"pointToDate":function pointToDate(t){var e=Math.floor((t[0]-this._rect.x)/this._sw)+1,n=Math.floor((t[1]-this._rect.y)/this._sh)+1,i=this._rangeInfo.range;return"vertical"===this._orient?this._getDateByWeeksAndDay(n,e-1,i):this._getDateByWeeksAndDay(e,n-1,i)},"convertToPixel":v(Ly,"dataToPoint"),"convertFromPixel":v(Ly,"pointToData"),"_initRangeOption":function _initRangeOption(){var t=this._model.get("range"),e=t;if(y(e)&&1===e.length&&(e=e[0]),/^\d{4}$/.test(e)&&(t=[e+"-01-01",e+"-12-31"]),/^\d{4}[\/|-]\d{1,2}$/.test(e)){var n=this.getDateInfo(e),i=n.date;i.setMonth(i.getMonth()+1);var o=this.getNextNDay(i,-1);t=[n.formatedDate,o.formatedDate]}/^\d{4}[\/|-]\d{1,2}[\/|-]\d{1,2}$/.test(e)&&(t=[e,e]);var a=this._getRangeInfo(t);return a.start.time>a.end.time&&t.reverse(),t},"_getRangeInfo":function _getRangeInfo(t){var e;(t=[this.getDateInfo(t[0]),this.getDateInfo(t[1])])[0].time>t[1].time&&(e=!0,t.reverse());var n=Math.floor(t[1].time/864e5)-Math.floor(t[0].time/864e5)+1,i=new Date(t[0].time),o=i.getDate(),a=t[1].date.getDate();if(i.setDate(o+n-1),i.getDate()!==a)for(var r=i.getTime()-t[1].time>0?1:-1;i.getDate()!==a&&(i.getTime()-t[1].time)*r>0;)n-=r,i.setDate(o+n-1);var s=Math.floor((n+t[0].day+6)/7),l=e?1-s:s-1;return e&&t.reverse(),{"range":[t[0].formatedDate,t[1].formatedDate],"start":t[0],"end":t[1],"allDay":n,"weeks":s,"nthWeek":l,"fweek":t[0].day,"lweek":t[1].day}},"_getDateByWeeksAndDay":function _getDateByWeeksAndDay(t,e,n){var i=this._getRangeInfo(n);if(t>i.weeks||0===t&&e<i.fweek||t===i.weeks&&e>i.lweek)return!1;var o=7*(t-1)-i.fweek+e,a=new Date(i.start.time);return a.setDate(i.start.d+o),this.getDateInfo(a)}},Cy.dimensions=Cy.prototype.dimensions,Cy.getDimensionsInfo=Cy.prototype.getDimensionsInfo,Cy.create=function(t,e){var n=[];return t.eachComponent("calendar",function(i){var o=new Cy(i,t,e);n.push(o),i.coordinateSystem=o}),t.eachSeries(function(t){"calendar"===t.get("coordinateSystem")&&(t.coordinateSystem=n[t.get("calendarIndex")||0])}),n},Ga.register("calendar",Cy);var SR=pI.extend({"type":"calendar","coordinateSystem":null,"defaultOption":{"zlevel":0,"z":2,"left":80,"top":60,"cellSize":20,"orient":"horizontal","splitLine":{"show":!0,"lineStyle":{"color":"#000","width":1,"type":"solid"}},"itemStyle":{"color":"#fff","borderWidth":1,"borderColor":"#ccc"},"dayLabel":{"show":!0,"firstDay":0,"position":"start","margin":"50%","nameMap":"en","color":"#000"},"monthLabel":{"show":!0,"position":"start","margin":5,"align":"center","nameMap":"en","formatter":null,"color":"#000"},"yearLabel":{"show":!0,"position":null,"margin":30,"formatter":null,"color":"#ccc","fontFamily":"sans-serif","fontWeight":"bolder","fontSize":20}},"init":function init(t,e,n,i){var o=pa(t);SR.superApply(this,"init",arguments),ky(t,o)},"mergeOption":function mergeOption(t,e){SR.superApply(this,"mergeOption",arguments),ky(this.option,t)}}),MR={"EN":["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"CN":["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"]},IR={"EN":["S","M","T","W","T","F","S"],"CN":["日","一","二","三","四","五","六"]};Fs({"type":"calendar","_tlpoints":null,"_blpoints":null,"_firstDayOfMonth":null,"_firstDayPoints":null,"render":function render(t,e,n){var i=this.group;i.removeAll();var o=t.coordinateSystem,a=o.getRangeInfo(),r=o.getOrient();this._renderDayRect(t,a,i),this._renderLines(t,a,r,i),this._renderYearText(t,a,r,i),this._renderMonthText(t,r,i),this._renderWeekText(t,a,r,i)},"_renderDayRect":function _renderDayRect(t,e,n){for(var i=t.coordinateSystem,o=t.getModel("itemStyle").getItemStyle(),a=i.getCellWidth(),r=i.getCellHeight(),s=e.start.time;s<=e.end.time;s=i.getNextNDay(s,1).time){var l=i.dataToRect([s],!1).tl,u=new bM({"shape":{"x":l[0],"y":l[1],"width":a,"height":r},"cursor":"default","style":o});n.add(u)}},"_renderLines":function _renderLines(t,e,n,i){function o(e){a._firstDayOfMonth.push(r.getDateInfo(e)),a._firstDayPoints.push(r.dataToRect([e],!1).tl);var o=a._getLinePointsOfOneWeek(t,e,n);a._tlpoints.push(o[0]),a._blpoints.push(o[o.length-1]),l&&a._drawSplitline(o,s,i)}var a=this,r=t.coordinateSystem,s=t.getModel("splitLine.lineStyle").getLineStyle(),l=t.get("splitLine.show"),u=s.lineWidth;this._tlpoints=[],this._blpoints=[],this._firstDayOfMonth=[],this._firstDayPoints=[];for(var h=e.start,c=0;h.time<=e.end.time;c++){o(h.formatedDate),0===c&&(h=r.getDateInfo(e.start.y+"-"+e.start.m));var d=h.date;d.setMonth(d.getMonth()+1),h=r.getDateInfo(d)}o(r.getNextNDay(e.end.time,1).formatedDate),l&&this._drawSplitline(a._getEdgesPoints(a._tlpoints,u,n),s,i),l&&this._drawSplitline(a._getEdgesPoints(a._blpoints,u,n),s,i)},"_getEdgesPoints":function _getEdgesPoints(t,e,n){var i=[t[0].slice(),t[t.length-1].slice()],o="horizontal"===n?0:1;return i[0][o]=i[0][o]-e/2,i[1][o]=i[1][o]+e/2,i},"_drawSplitline":function _drawSplitline(t,e,n){var i=new yM({"z2":20,"shape":{"points":t},"style":e});n.add(i)},"_getLinePointsOfOneWeek":function _getLinePointsOfOneWeek(t,e,n){var i=t.coordinateSystem;e=i.getDateInfo(e);for(var o=[],a=0;a<7;a++){var r=i.getNextNDay(e.time,a),s=i.dataToRect([r.time],!1);o[2*r.day]=s.tl,o[2*r.day+1]=s["horizontal"===n?"bl":"tr"]}return o},"_formatterLabel":function _formatterLabel(t,e){return"string"==typeof t&&t?na(t,e):"function"==typeof t?t(e):e.nameMap},"_yearTextPositionControl":function _yearTextPositionControl(t,e,n,i,o){e=e.slice();var a=["center","bottom"];"bottom"===i?(e[1]+=o,a=["center","top"]):"left"===i?e[0]-=o:"right"===i?(e[0]+=o,a=["center","top"]):e[1]-=o;var r=0;return"left"!==i&&"right"!==i||(r=Math.PI/2),{"rotation":r,"position":e,"style":{"textAlign":a[0],"textVerticalAlign":a[1]}}},"_renderYearText":function _renderYearText(t,e,n,i){var o=t.getModel("yearLabel");if(o.get("show")){var a=o.get("margin"),r=o.get("position");r||(r="horizontal"!==n?"top":"left");var s=[this._tlpoints[this._tlpoints.length-1],this._blpoints[0]],l=(s[0][0]+s[1][0])/2,u=(s[0][1]+s[1][1])/2,h="horizontal"===n?0:1,c={"top":[l,s[h][1]],"bottom":[l,s[1-h][1]],"left":[s[1-h][0],u],"right":[s[h][0],u]},d=e.start.y;+e.end.y>+e.start.y&&(d=d+"-"+e.end.y);var f=o.get("formatter"),p={"start":e.start.y,"end":e.end.y,"nameMap":d},g=this._formatterLabel(f,p),m=new rM({"z2":30});go(m.style,o,{"text":g}),m.attr(this._yearTextPositionControl(m,c[r],n,r,a)),i.add(m)}},"_monthTextPositionControl":function _monthTextPositionControl(t,e,n,i,o){var a="left",r="top",s=t[0],l=t[1];return"horizontal"===n?(l+=o,e&&(a="center"),"start"===i&&(r="bottom")):(s+=o,e&&(r="middle"),"start"===i&&(a="right")),{"x":s,"y":l,"textAlign":a,"textVerticalAlign":r}},"_renderMonthText":function _renderMonthText(t,e,n){var i=t.getModel("monthLabel");if(i.get("show")){var o=i.get("nameMap"),r=i.get("margin"),s=i.get("position"),l=i.get("align"),u=[this._tlpoints,this._blpoints];_(o)&&(o=MR[o.toUpperCase()]||[]);var h="start"===s?0:1,c="horizontal"===e?0:1;r="start"===s?-r:r;for(var d="center"===l,f=0;f<u[h].length-1;f++){var p=u[h][f].slice(),g=this._firstDayOfMonth[f];if(d){var m=this._firstDayPoints[f];p[c]=(m[c]+u[0][f+1][c])/2}var v=i.get("formatter"),y=o[+g.m-1],x={"yyyy":g.y,"yy":(g.y+"").slice(2),"MM":g.m,"M":+g.m,"nameMap":y},b=this._formatterLabel(v,x),w=new rM({"z2":30});a(go(w.style,i,{"text":b}),this._monthTextPositionControl(p,d,e,s,r)),n.add(w)}}},"_weekTextPositionControl":function _weekTextPositionControl(t,e,n,i,o){var a="center",r="middle",s=t[0],l=t[1],u="start"===n;return"horizontal"===e?(s=s+i+(u?1:-1)*o[0]/2,a=u?"right":"left"):(l=l+i+(u?1:-1)*o[1]/2,r=u?"bottom":"top"),{"x":s,"y":l,"textAlign":a,"textVerticalAlign":r}},"_renderWeekText":function _renderWeekText(t,e,n,i){var o=t.getModel("dayLabel");if(o.get("show")){var r=t.coordinateSystem,s=o.get("position"),l=o.get("nameMap"),u=o.get("margin"),h=r.getFirstDayOfWeek();_(l)&&(l=IR[l.toUpperCase()]||[]);var c=r.getNextNDay(e.end.time,7-e.lweek).time,d=[r.getCellWidth(),r.getCellHeight()];u=Bo(u,d["horizontal"===n?0:1]),"start"===s&&(c=r.getNextNDay(e.start.time,-(7+e.fweek)).time,u=-u);for(var f=0;f<7;f++){var p,g=r.getNextNDay(c,f),m=r.dataToRect([g.time],!1).center;p=Math.abs((f+h)%7);var v=new rM({"z2":30});a(go(v.style,o,{"text":l[p]}),this._weekTextPositionControl(m,n,s,u,d)),i.add(v)}}}}),Gs({"type":"title","layoutMode":{"type":"box","ignoreSize":!0},"defaultOption":{"zlevel":0,"z":6,"show":!0,"text":"","target":"blank","subtext":"","subtarget":"blank","left":0,"top":0,"backgroundColor":"rgba(0,0,0,0)","borderColor":"#ccc","borderWidth":0,"padding":5,"itemGap":10,"textStyle":{"fontSize":18,"fontWeight":"bolder","color":"#333"},"subtextStyle":{"color":"#aaa"}}}),Fs({"type":"title","render":function render(t,e,n){if(this.group.removeAll(),t.get("show")){var i=this.group,o=t.getModel("textStyle"),a=t.getModel("subtextStyle"),r=t.get("textAlign"),s=t.get("textBaseline"),l=new rM({"style":go({},o,{"text":t.get("text"),"textFill":o.getTextColor()},{"disableBox":!0}),"z2":10}),u=l.getBoundingRect(),h=t.get("subtext"),c=new rM({"style":go({},a,{"text":h,"textFill":a.getTextColor(),"y":u.height+t.get("itemGap"),"textVerticalAlign":"top"},{"disableBox":!0}),"z2":10}),d=t.get("link"),f=t.get("sublink"),p=t.get("triggerEvent",!0);l.silent=!d&&!p,c.silent=!f&&!p,d&&l.on("click",function(){window.open(d,"_"+t.get("target"))}),f&&c.on("click",function(){window.open(f,"_"+t.get("subtarget"))}),l.eventData=c.eventData=p?{"componentType":"title","componentIndex":t.componentIndex}:null,i.add(l),h&&i.add(c);var g=i.getBoundingRect(),m=t.getBoxLayoutParams();m.width=g.width,m.height=g.height;var v=ha(m,{"width":n.getWidth(),"height":n.getHeight()},t.get("padding"));r||("middle"===(r=t.get("left")||t.get("right"))&&(r="center"),"right"===r?v.x+=v.width:"center"===r&&(v.x+=v.width/2)),s||("center"===(s=t.get("top")||t.get("bottom"))&&(s="middle"),"bottom"===s?v.y+=v.height:"middle"===s&&(v.y+=v.height/2),s=s||"top"),i.attr("position",[v.x,v.y]);var y={"textAlign":r,"textVerticalAlign":s};l.setStyle(y),c.setStyle(y),g=i.getBoundingRect();var x=v.margin,_=t.getItemStyle(["color","opacity"]);_.fill=t.get("backgroundColor");var b=new bM({"shape":{"x":g.x-x[3],"y":g.y-x[0],"width":g.width+x[1]+x[3],"height":g.height+x[0]+x[2],"r":t.get("borderRadius")},"style":_,"silent":!0});Kn(b),i.add(b)}}}),pI.registerSubTypeDefaulter("dataZoom",function(){return"slider"});var TR=["cartesian2d","polar","singleAxis"],AR=function(t,e){var n=f(t=t.slice(),sa),i=f(e=(e||[]).slice(),sa);return function(o,a){d(t,function(t,r){for(var s={"name":t,"capital":n[r]},l=0;l<e.length;l++)s[e[l]]=t+i[l];o.call(a,s)})}}(["x","y","z","radius","angle","single"],["axisIndex","axis","index","id"]),DR=d,CR=Go,LR=function jN(t,e,n,i){this._dimName=t,this._axisIndex=e,this._valueWindow,this._percentWindow,this._dataExtent,this._minMaxSpan,this.ecModel=i,this._dataZoomModel=n};LR.prototype={"constructor":LR,"hostedBy":function hostedBy(t){return this._dataZoomModel===t},"getDataValueWindow":function getDataValueWindow(){return this._valueWindow.slice()},"getDataPercentWindow":function getDataPercentWindow(){return this._percentWindow.slice()},"getTargetSeriesModels":function getTargetSeriesModels(){var t=[],e=this.ecModel;return e.eachSeries(function(n){if(function Py(t){return l(TR,t)>=0}(n.get("coordinateSystem"))){var i=this._dimName,o=e.queryComponents({"mainType":i+"Axis","index":n.get(i+"AxisIndex"),"id":n.get(i+"AxisId")})[0];this._axisIndex===(o&&o.componentIndex)&&t.push(n)}},this),t},"getAxisModel":function getAxisModel(){return this.ecModel.getComponent(this._dimName+"Axis",this._axisIndex)},"getOtherAxisModel":function getOtherAxisModel(){var t,e,n,i=this._dimName,o=this.ecModel,a=this.getAxisModel();return"x"===i||"y"===i?(e="gridIndex",t="x"===i?"y":"x"):(e="polarIndex",t="angle"===i?"radius":"angle"),o.eachComponent(t+"Axis",function(t){(t.get(e)||0)===(a.get(e)||0)&&(n=t)}),n},"getMinMaxSpan":function getMinMaxSpan(){return i(this._minMaxSpan)},"calculateDataWindow":function calculateDataWindow(t){var e=this._dataExtent,n=this.getAxisModel().axis.scale,i=this._dataZoomModel.getRangePropMode(),o=[0,100],a=[t.start,t.end],r=[];return DR(["startValue","endValue"],function(e){r.push(null!=t[e]?n.parse(t[e]):null)}),DR([0,1],function(t){var s=r[t],l=a[t];"percent"===i[t]?(null==l&&(l=o[t]),s=n.parse(zo(l,o,e,!0))):l=zo(s,e,o,!0),r[t]=s,a[t]=l}),{"valueWindow":CR(r),"percentWindow":CR(a)}},"reset":function reset(t){if(t===this._dataZoomModel){var e=this.getTargetSeriesModels();this._dataExtent=Oy(this,this._dimName,e);var n=this.calculateDataWindow(t.option);this._valueWindow=n.valueWindow,this._percentWindow=n.percentWindow,function zy(t){var e=t._minMaxSpan={},n=t._dataZoomModel;DR(["min","max"],function(i){e[i+"Span"]=n.get(i+"Span");var o=n.get(i+"ValueSpan");if(null!=o&&(e[i+"ValueSpan"]=o,null!=(o=t.getAxisModel().axis.scale.parse(o)))){var a=t._dataExtent;e[i+"Span"]=zo(a[0]+o,a,[0,100],!0)}})}(this),Ry(this)}},"restore":function restore(t){t===this._dataZoomModel&&(this._valueWindow=this._percentWindow=null,Ry(this,!0))},"filterData":function filterData(t,e){if(t===this._dataZoomModel){var n=this._dimName,o=this.getTargetSeriesModels(),a=t.get("filterMode"),r=this._valueWindow;"none"!==a&&DR(o,function(t){var e=t.getData(),i=e.mapDimension(n,!0);i.length&&("weakFilter"===a?e.filterSelf(function(t){for(var n,o,a,s=0;s<i.length;s++){var l=e.get(i[s],t),u=!isNaN(l),h=l<r[0],c=l>r[1];if(u&&!h&&!c)return!0;u&&(a=!0),h&&(n=!0),c&&(o=!0)}return a&&n&&o}):DR(i,function(n){if("empty"===a)t.setData(e.map(n,function(t){return function i(t){return t>=r[0]&&t<=r[1]}(t)?t:NaN}));else{var i={};i[n]=r,e.selectRange(i)}}),DR(i,function(t){e.setApproximateExtent(r,t)}))})}}};var kR=d,PR=AR,OR=Gs({"type":"dataZoom","dependencies":["xAxis","yAxis","zAxis","radiusAxis","angleAxis","singleAxis","series"],"defaultOption":{"zlevel":0,"z":4,"orient":null,"xAxisIndex":null,"yAxisIndex":null,"filterMode":"filter","throttle":null,"start":0,"end":100,"startValue":null,"endValue":null,"minSpan":null,"maxSpan":null,"minValueSpan":null,"maxValueSpan":null,"rangeMode":null},"init":function init(t,e,n){this._dataIntervalByAxis={},this._dataInfo={},this._axisProxies={},this.textStyleModel,this._autoThrottle=!0,this._rangePropMode=["percent","percent"];var i=By(t);this.mergeDefaultAndTheme(t,n),this.doInit(i)},"mergeOption":function mergeOption(t){var e=By(t);n(this.option,t,!0),this.doInit(e)},"doInit":function doInit(t){var e=this.option;be.canvasSupported||(e.realtime=!1),this._setDefaultThrottle(t),Vy(this,t),kR([["start","startValue"],["end","endValue"]],function(t,n){"value"===this._rangePropMode[n]&&(e[t[0]]=null)},this),this.textStyleModel=this.getModel("textStyle"),this._resetTarget(),this._giveAxisProxies()},"_giveAxisProxies":function _giveAxisProxies(){var t=this._axisProxies;this.eachTargetAxis(function(e,n,i,o){var a=this.dependentModels[e.axis][n],r=a.__dzAxisProxy||(a.__dzAxisProxy=new LR(e.name,n,this,o));t[e.name+"_"+n]=r},this)},"_resetTarget":function _resetTarget(){var t=this.option,e=this._judgeAutoMode();PR(function(e){var n=e.axisIndex;t[n]=Di(t[n])},this),"axisIndex"===e?this._autoSetAxisIndex():"orient"===e&&this._autoSetOrient()},"_judgeAutoMode":function _judgeAutoMode(){var t=this.option,e=!1;PR(function(n){null!=t[n.axisIndex]&&(e=!0)},this);var n=t.orient;return null==n&&e?"orient":e?void 0:(null==n&&(t.orient="horizontal"),"axisIndex")},"_autoSetAxisIndex":function _autoSetAxisIndex(){var t=!0,e=this.get("orient",!0),n=this.option,i=this.dependentModels;if(t){var o="vertical"===e?"y":"x";i[o+"Axis"].length?(n[o+"AxisIndex"]=[0],t=!1):kR(i.singleAxis,function(i){t&&i.get("orient",!0)===e&&(n.singleAxisIndex=[i.componentIndex],t=!1)})}t&&PR(function(e){if(t){var i=[],o=this.dependentModels[e.axis];if(o.length&&!i.length)for(var a=0,r=o.length;a<r;a++)"category"===o[a].get("type")&&i.push(a);n[e.axisIndex]=i,i.length&&(t=!1)}},this),t&&this.ecModel.eachSeries(function(t){this._isSeriesHasAllAxesTypeOf(t,"value")&&PR(function(e){var i=n[e.axisIndex],o=t.get(e.axisIndex),a=t.get(e.axisId);l(i,o=t.ecModel.queryComponents({"mainType":e.axis,"index":o,"id":a})[0].componentIndex)<0&&i.push(o)})},this)},"_autoSetOrient":function _autoSetOrient(){var t;this.eachTargetAxis(function(e){!t&&(t=e.name)},this),this.option.orient="y"===t?"vertical":"horizontal"},"_isSeriesHasAllAxesTypeOf":function _isSeriesHasAllAxesTypeOf(t,e){var n=!0;return PR(function(i){var o=t.get(i.axisIndex),a=this.dependentModels[i.axis][o];a&&a.get("type")===e||(n=!1)},this),n},"_setDefaultThrottle":function _setDefaultThrottle(t){if(t.hasOwnProperty("throttle")&&(this._autoThrottle=!1),this._autoThrottle){var e=this.ecModel.option;this.option.throttle=e.animation&&e.animationDurationUpdate>0?100:20}},"getFirstTargetAxisModel":function getFirstTargetAxisModel(){var t;return PR(function(e){if(null==t){var n=this.get(e.axisIndex);n.length&&(t=this.dependentModels[e.axis][n[0]])}},this),t},"eachTargetAxis":function eachTargetAxis(t,e){var n=this.ecModel;PR(function(i){kR(this.get(i.axisIndex),function(o){t.call(e,i,o,this,n)},this)},this)},"getAxisProxy":function getAxisProxy(t,e){return this._axisProxies[t+"_"+e]},"getAxisModel":function getAxisModel(t,e){var n=this.getAxisProxy(t,e);return n&&n.getAxisModel()},"setRawRange":function setRawRange(t,e){var n=this.option;kR([["start","startValue"],["end","endValue"]],function(e){null==t[e[0]]&&null==t[e[1]]||(n[e[0]]=t[e[0]],n[e[1]]=t[e[1]])},this),!e&&Vy(this,t)},"getPercentRange":function getPercentRange(){var t=this.findRepresentativeAxisProxy();if(t)return t.getDataPercentWindow()},"getValueRange":function getValueRange(t,e){if(null!=t||null!=e)return this.getAxisProxy(t,e).getDataValueWindow();var n=this.findRepresentativeAxisProxy();return n?n.getDataValueWindow():void 0},"findRepresentativeAxisProxy":function findRepresentativeAxisProxy(t){if(t)return t.__dzAxisProxy;var e=this._axisProxies;for(var n in e)if(e.hasOwnProperty(n)&&e[n].hostedBy(this))return e[n];for(var n in e)if(e.hasOwnProperty(n)&&!e[n].hostedBy(this))return e[n]},"getRangePropMode":function getRangePropMode(){return this._rangePropMode.slice()}}),RR=aT.extend({"type":"dataZoom","render":function render(t,e,n,i){this.dataZoomModel=t,this.ecModel=e,this.api=n},"getTargetCoordInfo":function getTargetCoordInfo(){var e=this.dataZoomModel,n=this.ecModel,i={};return e.eachTargetAxis(function(e,o){var a=n.getComponent(e.axis,o);if(a){var r=a.getCoordSysModel();r&&function t(e,n,i,o){for(var a,r=0;r<i.length;r++)if(i[r].model===e){a=i[r];break}a||i.push(a={"model":e,"axisModels":[],"coordIndex":o}),a.axisModels.push(n)}(r,a,i[r.mainType]||(i[r.mainType]=[]),r.componentIndex)}},this),i}}),NR=(OR.extend({"type":"dataZoom.slider","layoutMode":"box","defaultOption":{"show":!0,"right":"ph","top":"ph","width":"ph","height":"ph","left":null,"bottom":null,"backgroundColor":"rgba(47,69,84,0)","dataBackground":{"lineStyle":{"color":"#2f4554","width":.5,"opacity":.3},"areaStyle":{"color":"rgba(47,69,84,0.3)","opacity":.3}},"borderColor":"#ddd","fillerColor":"rgba(167,183,204,0.4)","handleIcon":"M8.2,13.6V3.9H6.3v9.7H3.1v14.9h3.3v9.7h1.8v-9.7h3.3V13.6H8.2z M9.7,24.4H4.8v-1.4h4.9V24.4z M9.7,19.1H4.8v-1.4h4.9V19.1z","handleSize":"100%","handleStyle":{"color":"#a7b7cc"},"labelPrecision":null,"labelFormatter":null,"showDetail":!0,"showDataShadow":"auto","realtime":!0,"zoomLock":!1,"textStyle":{"color":"#333"}}}),bM),ER=zo,zR=Go,BR=m,VR=d,GR="horizontal",FR=5,HR=["line","bar","candlestick","scatter"],WR=RR.extend({"type":"dataZoom.slider","init":function init(t,e){this._displayables={},this._orient,this._range,this._handleEnds,this._size,this._handleWidth,this._handleHeight,this._location,this._dragging,this._dataShadowInfo,this.api=e},"render":function render(t,e,n,i){WR.superApply(this,"render",arguments),Pr(this,"_dispatchZoomAction",this.dataZoomModel.get("throttle"),"fixRate"),this._orient=t.get("orient"),!1!==this.dataZoomModel.get("show")?(i&&"dataZoom"===i.type&&i.from===this.uid||this._buildView(),this._updateView()):this.group.removeAll()},"remove":function remove(){WR.superApply(this,"remove",arguments),Nr(this,"_dispatchZoomAction")},"dispose":function dispose(){WR.superApply(this,"dispose",arguments),Nr(this,"_dispatchZoomAction")},"_buildView":function _buildView(){var t=this.group;t.removeAll(),this._resetLocation(),this._resetInterval();var e=this._displayables.barGroup=new Zb;this._renderBackground(),this._renderHandle(),this._renderDataShadow(),t.add(e),this._positionGroup()},"_resetLocation":function _resetLocation(){var t=this.dataZoomModel,e=this.api,n=this._findCoordRect(),i={"width":e.getWidth(),"height":e.getHeight()},o=this._orient===GR?{"right":i.width-n.x-n.width,"top":i.height-30-7,"width":n.width,"height":30}:{"right":7,"top":n.y,"width":30,"height":n.height},a=pa(t.option);d(["right","top","width","height"],function(t){"ph"===a[t]&&(a[t]=o[t])});var r=ha(a,i,t.padding);this._location={"x":r.x,"y":r.y},this._size=[r.width,r.height],"vertical"===this._orient&&this._size.reverse()},"_positionGroup":function _positionGroup(){var t=this.group,e=this._location,n=this._orient,i=this.dataZoomModel.getFirstTargetAxisModel(),o=i&&i.get("inverse"),a=this._displayables.barGroup,r=(this._dataShadowInfo||{}).otherAxisInverse;a.attr(n!==GR||o?n===GR&&o?{"scale":r?[-1,1]:[-1,-1]}:"vertical"!==n||o?{"scale":r?[-1,-1]:[-1,1],"rotation":Math.PI/2}:{"scale":r?[1,-1]:[1,1],"rotation":Math.PI/2}:{"scale":r?[1,1]:[1,-1]});var s=t.getBoundingRect([a]);t.attr("position",[e.x-s.x,e.y-s.y])},"_getViewExtent":function _getViewExtent(){return[0,this._size[0]]},"_renderBackground":function _renderBackground(){var t=this.dataZoomModel,e=this._size,n=this._displayables.barGroup;n.add(new NR({"silent":!0,"shape":{"x":0,"y":0,"width":e[0],"height":e[1]},"style":{"fill":t.get("backgroundColor")},"z2":-40})),n.add(new NR({"shape":{"x":0,"y":0,"width":e[0],"height":e[1]},"style":{"fill":"transparent"},"z2":0,"onclick":m(this._onClickPanelClick,this)}))},"_renderDataShadow":function _renderDataShadow(){var t=this._dataShadowInfo=this._prepareDataShadowInfo();if(t){var e=this._size,n=t.series,i=n.getRawData(),o=n.getShadowDim?n.getShadowDim():t.otherDim;if(null!=o){var a=i.getDataExtent(o),s=.3*(a[1]-a[0]);a=[a[0]-s,a[1]+s];var l,u=[0,e[1]],h=[0,e[0]],c=[[e[0],0],[0,0]],d=[],f=h[1]/(i.count()-1),p=0,g=Math.round(i.count()/e[0]);i.each([o],function(t,e){if(g>0&&e%g)p+=f;else{var n=null==t||isNaN(t)||""===t,i=n?0:ER(t,a,u,!0);n&&!l&&e?(c.push([c[c.length-1][0],0]),d.push([d[d.length-1][0],0])):!n&&l&&(c.push([p,0]),d.push([p,0])),c.push([p,i]),d.push([p,i]),p+=f,l=n}});var m=this.dataZoomModel;this._displayables.barGroup.add(new vM({"shape":{"points":c},"style":r({"fill":m.get("dataBackgroundColor")},m.getModel("dataBackground.areaStyle").getAreaStyle()),"silent":!0,"z2":-20})),this._displayables.barGroup.add(new yM({"shape":{"points":d},"style":m.getModel("dataBackground.lineStyle").getLineStyle(),"silent":!0,"z2":-19}))}}},"_prepareDataShadowInfo":function _prepareDataShadowInfo(){var t=this.dataZoomModel,e=t.get("showDataShadow");if(!1!==e){var n,i=this.ecModel;return t.eachTargetAxis(function(o,a){d(t.getAxisProxy(o.name,a).getTargetSeriesModels(),function(t){if(!(n||!0!==e&&l(HR,t.get("type"))<0)){var r,s=i.getComponent(o.axis,a).axis,u=function Gy(t){return{"x":"y","y":"x","radius":"angle","angle":"radius"}[t]}(o.name),h=t.coordinateSystem;null!=u&&h.getOtherAxis&&(r=h.getOtherAxis(s).inverse),u=t.getData().mapDimension(u),n={"thisAxis":s,"series":t,"thisDim":o.name,"otherDim":u,"otherAxisInverse":r}}},this)},this),n}},"_renderHandle":function _renderHandle(){var t=this._displayables,e=t.handles=[],n=t.handleLabels=[],i=this._displayables.barGroup,o=this._size,a=this.dataZoomModel;i.add(t.filler=new NR({"draggable":!0,"cursor":Fy(this._orient),"drift":BR(this._onDragMove,this,"all"),"onmousemove":function onmousemove(t){ib(t.event)},"ondragstart":BR(this._showDataInfo,this,!0),"ondragend":BR(this._onDragEnd,this),"onmouseover":BR(this._showDataInfo,this,!0),"onmouseout":BR(this._showDataInfo,this,!1),"style":{"fill":a.get("fillerColor"),"textPosition":"inside"}})),i.add(new NR(Kn({"silent":!0,"shape":{"x":0,"y":0,"width":o[0],"height":o[1]},"style":{"stroke":a.get("dataBackgroundColor")||a.get("borderColor"),"lineWidth":1,"fill":"rgba(0,0,0,0)"}}))),VR([0,1],function(t){var o=ko(a.get("handleIcon"),{"cursor":Fy(this._orient),"draggable":!0,"drift":BR(this._onDragMove,this,t),"onmousemove":function onmousemove(t){ib(t.event)},"ondragend":BR(this._onDragEnd,this),"onmouseover":BR(this._showDataInfo,this,!0),"onmouseout":BR(this._showDataInfo,this,!1)},{"x":-1,"y":0,"width":2,"height":2}),r=o.getBoundingRect();this._handleHeight=Bo(a.get("handleSize"),this._size[1]),this._handleWidth=r.width/r.height*this._handleHeight,o.setStyle(a.getModel("handleStyle").getItemStyle());var s=a.get("handleColor");null!=s&&(o.style.fill=s),i.add(e[t]=o);var l=a.textStyleModel;this.group.add(n[t]=new rM({"silent":!0,"invisible":!0,"style":{"x":0,"y":0,"text":"","textVerticalAlign":"middle","textAlign":"center","textFill":l.getTextColor(),"textFont":l.getFont()},"z2":10}))},this)},"_resetInterval":function _resetInterval(){var t=this._range=this.dataZoomModel.getPercentRange(),e=this._getViewExtent();this._handleEnds=[ER(t[0],[0,100],e,!0),ER(t[1],[0,100],e,!0)]},"_updateInterval":function _updateInterval(t,e){var n=this.dataZoomModel,i=this._handleEnds,o=this._getViewExtent(),a=n.findRepresentativeAxisProxy().getMinMaxSpan(),r=[0,100];Sk(e,i,o,n.get("zoomLock")?"all":t,null!=a.minSpan?ER(a.minSpan,r,o,!0):null,null!=a.maxSpan?ER(a.maxSpan,r,o,!0):null);var s=this._range,l=this._range=zR([ER(i[0],o,r,!0),ER(i[1],o,r,!0)]);return!s||s[0]!==l[0]||s[1]!==l[1]},"_updateView":function _updateView(t){var e=this._displayables,n=this._handleEnds,i=zR(n.slice()),o=this._size;VR([0,1],function(t){var i=e.handles[t],a=this._handleHeight;i.attr({"scale":[a/2,a/2],"position":[n[t],o[1]/2-a/2]})},this),e.filler.setShape({"x":i[0],"y":0,"width":i[1]-i[0],"height":o[1]}),this._updateDataInfo(t)},"_updateDataInfo":function _updateDataInfo(t){function e(t){var e=To(i.handles[t].parent,this.group),n=Do(0===t?"right":"left",e),s=this._handleWidth/2+FR,l=Ao([c[t]+(0===t?-s:s),this._size[1]/2],e);o[t].setStyle({"x":l[0],"y":l[1],"textVerticalAlign":a===GR?"middle":n,"textAlign":a===GR?n:"center","text":r[t]})}var n=this.dataZoomModel,i=this._displayables,o=i.handleLabels,a=this._orient,r=["",""];if(n.get("showDetail")){var s=n.findRepresentativeAxisProxy();if(s){var l=s.getAxisModel().axis,u=this._range,h=t?s.calculateDataWindow({"start":u[0],"end":u[1]}).valueWindow:s.getDataValueWindow();r=[this._formatLabel(h[0],l),this._formatLabel(h[1],l)]}}var c=zR(this._handleEnds.slice());e.call(this,0),e.call(this,1)},"_formatLabel":function _formatLabel(t,e){var n=this.dataZoomModel,i=n.get("labelFormatter"),o=n.get("labelPrecision");null!=o&&"auto"!==o||(o=e.getPixelPrecision());var a=null==t||isNaN(t)?"":"category"===e.type||"time"===e.type?e.scale.getLabel(Math.round(t)):t.toFixed(Math.min(o,20));return x(i)?i(t,a):_(i)?i.replace("{value}",a):a},"_showDataInfo":function _showDataInfo(t){t=this._dragging||t;var e=this._displayables.handleLabels;e[0].attr("invisible",!t),e[1].attr("invisible",!t)},"_onDragMove":function _onDragMove(t,e,n){this._dragging=!0;var i=Ao([e,n],this._displayables.barGroup.getLocalTransform(),!0),o=this._updateInterval(t,i[0]),a=this.dataZoomModel.get("realtime");this._updateView(!a),o&&a&&this._dispatchZoomAction()},"_onDragEnd":function _onDragEnd(){this._dragging=!1,this._showDataInfo(!1),!this.dataZoomModel.get("realtime")&&this._dispatchZoomAction()},"_onClickPanelClick":function _onClickPanelClick(t){var e=this._size,n=this._displayables.barGroup.transformCoordToLocal(t.offsetX,t.offsetY);if(!(n[0]<0||n[0]>e[0]||n[1]<0||n[1]>e[1])){var i=this._handleEnds,o=(i[0]+i[1])/2,a=this._updateInterval("all",n[0]-o);this._updateView(),a&&this._dispatchZoomAction()}},"_dispatchZoomAction":function _dispatchZoomAction(){var t=this._range;this.api.dispatchAction({"type":"dataZoom","from":this.uid,"dataZoomId":this.dataZoomModel.id,"start":t[0],"end":t[1]})},"_findCoordRect":function _findCoordRect(){var t;if(VR(this.getTargetCoordInfo(),function(e){if(!t&&e.length){var n=e[0].model.coordinateSystem;t=n.getRect&&n.getRect()}}),!t){var e=this.api.getWidth(),n=this.api.getHeight();t={"x":.2*e,"y":.2*n,"width":.6*e,"height":.6*n}}return t}});OR.extend({"type":"dataZoom.inside","defaultOption":{"disabled":!1,"zoomLock":!1,"zoomOnMouseWheel":!0,"moveOnMouseMove":!0,"moveOnMouseWheel":!1,"preventDefaultMouseMove":!0}});var jR="\0_ec_dataZoom_roams",ZR=m,UR=RR.extend({"type":"dataZoom.inside","init":function init(t,e){this._range},"render":function render(t,e,n,i){UR.superApply(this,"render",arguments),this._range=t.getPercentRange(),d(this.getTargetCoordInfo(),function(e,i){var o=f(e,function(t){return Zy(t.model)});d(e,function(e){var a=e.model,r={};d(["pan","zoom","scrollMove"],function(t){r[t]=ZR(XR[t],this,e,i)},this),Wy(n,{"coordId":Zy(a),"allCoordIds":o,"containsPoint":function containsPoint(t,e,n){return a.coordinateSystem.containPoint([e,n])},"dataZoomId":t.id,"dataZoomModel":t,"getRange":r})},this)},this)},"dispose":function dispose(){(function Hy(t,e){var n=Uy(t);d(n,function(t){t.controller.dispose();var n=t.dataZoomInfos;n[e]&&(delete n[e],t.count--)}),jy(n)})(this.api,this.dataZoomModel.id),UR.superApply(this,"dispose",arguments),this._range=null}}),XR={"zoom":function zoom(t,e,n,i){var o=this._range,a=o.slice(),r=t.axisModels[0];if(r){var s=YR[e](null,[i.originX,i.originY],r,n,t),l=(s.signal>0?s.pixelStart+s.pixelLength-s.pixel:s.pixel-s.pixelStart)/s.pixelLength*(a[1]-a[0])+a[0],u=Math.max(1/i.scale,0);a[0]=(a[0]-l)*u+l,a[1]=(a[1]-l)*u+l;var h=this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();return Sk(0,a,[0,100],0,h.minSpan,h.maxSpan),this._range=a,o[0]!==a[0]||o[1]!==a[1]?a:void 0}},"pan":Ky(function(t,e,n,i,o,a){var r=YR[i]([a.oldX,a.oldY],[a.newX,a.newY],e,o,n);return r.signal*(t[1]-t[0])*r.pixel/r.pixelLength}),"scrollMove":Ky(function(t,e,n,i,o,a){return YR[i]([0,0],[a.scrollDelta,a.scrollDelta],e,o,n).signal*(t[1]-t[0])*a.scrollDelta})},YR={"grid":function grid(t,e,n,i,o){var a=n.axis,r={},s=o.model.coordinateSystem.getRect();return t=t||[0,0],"x"===a.dim?(r.pixel=e[0]-t[0],r.pixelLength=s.width,r.pixelStart=s.x,r.signal=a.inverse?1:-1):(r.pixel=e[1]-t[1],r.pixelLength=s.height,r.pixelStart=s.y,r.signal=a.inverse?-1:1),r},"polar":function polar(t,e,n,i,o){var a=n.axis,r={},s=o.model.coordinateSystem,l=s.getRadiusAxis().getExtent(),u=s.getAngleAxis().getExtent();return t=t?s.pointToCoord(t):[0,0],e=s.pointToCoord(e),"radiusAxis"===n.mainType?(r.pixel=e[0]-t[0],r.pixelLength=l[1]-l[0],r.pixelStart=l[0],r.signal=a.inverse?1:-1):(r.pixel=e[1]-t[1],r.pixelLength=u[1]-u[0],r.pixelStart=u[0],r.signal=a.inverse?-1:1),r},"singleAxis":function singleAxis(t,e,n,i,o){var a=n.axis,r=o.model.coordinateSystem.getRect(),s={};return t=t||[0,0],"horizontal"===a.orient?(s.pixel=e[0]-t[0],s.pixelLength=r.width,s.pixelStart=r.x,s.signal=a.inverse?1:-1):(s.pixel=e[1]-t[1],s.pixelLength=r.height,s.pixelStart=r.y,s.signal=a.inverse?-1:1),s}};Ns({"getTargetSeries":function getTargetSeries(t){var e=R();return t.eachComponent("dataZoom",function(t){t.eachTargetAxis(function(t,n,i){d(i.getAxisProxy(t.name,n).getTargetSeriesModels(),function(t){e.set(t.uid,t)})})}),e},"modifyOutputEnd":!0,"overallReset":function overallReset(t,e){t.eachComponent("dataZoom",function(t){t.eachTargetAxis(function(t,n,i){i.getAxisProxy(t.name,n).reset(i,e)}),t.eachTargetAxis(function(t,n,i){i.getAxisProxy(t.name,n).filterData(i,e)})}),t.eachComponent("dataZoom",function(t){var e=t.findRepresentativeAxisProxy(),n=e.getDataPercentWindow(),i=e.getDataValueWindow();t.setRawRange({"start":n[0],"end":n[1],"startValue":i[0],"endValue":i[1]},!0)})}}),Os("dataZoom",function(t,e){var n=function Ny(t,e,i){function n(t,e){return l(e.nodes,t)>=0}function o(t,n){var o=!1;return e(function(e){d(i(t,e)||[],function(t){n.records[e.name][t]&&(o=!0)})}),o}function a(t,n){n.nodes.push(t),e(function(e){d(i(t,e)||[],function(t){n.records[e.name][t]=!0})})}return function(i){var r,s={"nodes":[],"records":{}};if(e(function(t){s.records[t.name]={}}),!i)return s;a(i,s);do{r=!1,t(function(t){!n(t,s)&&o(t,s)&&(a(t,s),r=!0)})}while(r);return s}}(m(e.eachComponent,e,"dataZoom"),AR,function(t,e){return t.get(e.axisIndex)}),i=[];e.eachComponent({"mainType":"dataZoom","query":t},function(t,e){i.push.apply(i,n(t).nodes)}),d(i,function(e,n){e.setRawRange({"start":t.start,"end":t.end,"startValue":t.startValue,"endValue":t.endValue})})});var qR=d,$R=function fO(t){var e=t&&t.visualMap;y(e)||(e=e?[e]:[]),qR(e,function(t){if(t){$y(t,"splitList")&&!$y(t,"pieces")&&(t.pieces=t.splitList,delete t.splitList);var e=t.pieces;e&&y(e)&&qR(e,function(t){w(t)&&($y(t,"start")&&!$y(t,"min")&&(t.min=t.start),$y(t,"end")&&!$y(t,"max")&&(t.max=t.end))})}})};pI.registerSubTypeDefaulter("visualMap",function(t){return t.categories||(t.pieces?t.pieces.length>0:t.splitNumber>0)&&!t.calculable?"piecewise":"continuous"});var KR=qT.VISUAL.COMPONENT;zs(KR,{"createOnAllSeries":!0,"reset":function reset(t,e){var n=[];return e.eachComponent("visualMap",function(e){var i=t.pipelineContext;!e.isTargetSeries(t)||i&&i.large||n.push(function ny(t,e,n,i){var o={};return d(t,function(t){var n=PL.prepareVisualTypes(e[t]);o[t]=n}),{"progress":function progress(t,a){null!=i&&(i=a.getDimension(i));for(var r;null!=(r=t.next());){var s=a.getRawDataItem(r);if(!s||!1!==s.visualMap)for(var l=null!=i?a.get(i,r,!0):r,u=n(l),h=e[u],c=o[u],d=0,f=c.length;d<f;d++){var p=c[d];h[p]&&h[p].applyVisual(l,function(t){return a.getItemVisual(r,t)},function(t,e){a.setItemVisual(r,t,e)})}}}}}(e.stateList,e.targetVisuals,m(e.getValueState,e),e.getDataDimension(t.getData())))}),n}}),zs(KR,{"createOnAllSeries":!0,"reset":function reset(t,e){var n=t.getData(),i=[];e.eachComponent("visualMap",function(e){if(e.isTargetSeries(t)){var o=e.getVisualMeta(m(Jy,null,t,e))||{"stops":[],"outerColors":[]},a=e.getDataDimension(n),r=n.getDimensionInfo(a);null!=r&&(o.dimension=r.index,i.push(o))}}),t.getData().setVisual("visualMeta",i)}});var QR={"get":function get(t,e,n){var o=i((JR[t]||{})[e]);return n&&y(o)?o[o.length-1]:o}},JR={"color":{"active":["#006edd","#e0ffff"],"inactive":["rgba(0,0,0,0)"]},"colorHue":{"active":[0,360],"inactive":[0,0]},"colorSaturation":{"active":[.3,1],"inactive":[0,0]},"colorLightness":{"active":[.9,.5],"inactive":[0,0]},"colorAlpha":{"active":[.3,1],"inactive":[0,0]},"opacity":{"active":[.3,1],"inactive":[0,0]},"symbol":{"active":["circle","roundRect","diamond"],"inactive":["none"]},"symbolSize":{"active":[10,50],"inactive":[0,0]}},tN=PL.mapVisual,eN=PL.eachVisual,nN=y,iN=d,oN=Go,aN=zo,rN=Gs({"type":"visualMap","dependencies":["series"],"stateList":["inRange","outOfRange"],"replacableOptionKeys":["inRange","outOfRange","target","controller","color"],"dataBound":[-1/0,1/0],"layoutMode":{"type":"box","ignoreSize":!0},"defaultOption":{"show":!0,"zlevel":0,"z":4,"seriesIndex":"all","min":0,"max":200,"dimension":null,"inRange":null,"outOfRange":null,"left":0,"right":null,"top":null,"bottom":0,"itemWidth":null,"itemHeight":null,"inverse":!1,"orient":"vertical","backgroundColor":"rgba(0,0,0,0)","borderColor":"#ccc","contentColor":"#5793f3","inactiveColor":"#aaa","borderWidth":0,"padding":5,"textGap":10,"precision":0,"color":null,"formatter":null,"text":null,"textStyle":{"color":"#333"}},"init":function init(t,e,n){this._dataExtent,this.targetVisuals={},this.controllerVisuals={},this.textStyleModel,this.itemSize,this.mergeDefaultAndTheme(t,n)},"optionUpdated":function optionUpdated(t,e){var n=this.option;be.canvasSupported||(n.realtime=!1),!e&&ey(n,t,this.replacableOptionKeys),this.textStyleModel=this.getModel("textStyle"),this.resetItemSize(),this.completeVisualOption()},"resetVisual":function resetVisual(t){var e=this.stateList;t=m(t,this),this.controllerVisuals=ty(this.option.controller,e,t),this.targetVisuals=ty(this.option.target,e,t)},"getTargetSeriesIndices":function getTargetSeriesIndices(){var t=this.option.seriesIndex,e=[];return null==t||"all"===t?this.ecModel.eachSeries(function(t,n){e.push(n)}):e=Di(t),e},"eachTargetSeries":function eachTargetSeries(t,e){d(this.getTargetSeriesIndices(),function(n){t.call(e,this.ecModel.getSeriesByIndex(n))},this)},"isTargetSeries":function isTargetSeries(t){var e=!1;return this.eachTargetSeries(function(n){n===t&&(e=!0)}),e},"formatValueText":function formatValueText(t,e,i){function n(t){return t===l[0]?"min":t===l[1]?"max":(+t).toFixed(Math.min(s,20))}var o,a,r=this.option,s=r.precision,l=this.dataBound,u=r.formatter;return i=i||["<",">"],y(t)&&(t=t.slice(),o=!0),a=e?t:o?[n(t[0]),n(t[1])]:n(t),_(u)?u.replace("{value}",o?a[0]:a).replace("{value2}",o?a[1]:a):x(u)?o?u(t[0],t[1]):u(t):o?t[0]===l[0]?i[0]+" "+a[1]:t[1]===l[1]?i[1]+" "+a[0]:a[0]+" - "+a[1]:a},"resetExtent":function resetExtent(){var t=this.option,e=oN([t.min,t.max]);this._dataExtent=e},"getDataDimension":function getDataDimension(t){var e=this.option.dimension,n=t.dimensions;if(null!=e||n.length){if(null!=e)return t.getDimension(e);for(var i=t.dimensions,o=i.length-1;o>=0;o--){var a=i[o];if(!t.getDimensionInfo(a).isCalculationCoord)return a}}},"getExtent":function getExtent(){return this._dataExtent.slice()},"completeVisualOption":function completeVisualOption(){function t(t){nN(o.color)&&!t.inRange&&(t.inRange={"color":o.color.slice().reverse()}),t.inRange=t.inRange||{"color":e.get("gradientColor")},iN(this.stateList,function(e){var n=t[e];if(_(n)){var i=QR.get(n,"active",l);i?(t[e]={},t[e][n]=i):delete t[e]}},this)}var e=this.ecModel,o=this.option,a={"inRange":o.inRange,"outOfRange":o.outOfRange},r=o.target||(o.target={}),s=o.controller||(o.controller={});n(r,a),n(s,a);var l=this.isCategory();t.call(this,r),t.call(this,s),function(t,e,n){var i=t[e],o=t[n];i&&!o&&(o=t[n]={},iN(i,function(t,e){if(PL.isValidType(e)){var n=QR.get(e,"inactive",l);null!=n&&(o[e]=n,"color"!==e||o.hasOwnProperty("opacity")||o.hasOwnProperty("colorAlpha")||(o.opacity=[0,0]))}}))}.call(this,r,"inRange","outOfRange"),function(t){var e=(t.inRange||{}).symbol||(t.outOfRange||{}).symbol,n=(t.inRange||{}).symbolSize||(t.outOfRange||{}).symbolSize,o=this.get("inactiveColor");iN(this.stateList,function(a){var r=this.itemSize,s=t[a];s||(s=t[a]={"color":l?o:[o]}),null==s.symbol&&(s.symbol=e&&i(e)||(l?"roundRect":["roundRect"])),null==s.symbolSize&&(s.symbolSize=n&&i(n)||(l?r[0]:[r[0],r[0]])),s.symbol=tN(s.symbol,function(t){return"none"===t||"square"===t?"roundRect":t});var u=s.symbolSize;if(null!=u){var h=-1/0;eN(u,function(t){t>h&&(h=t)}),s.symbolSize=tN(u,function(t){return aN(t,[0,h],[0,r[0]],!0)})}},this)}.call(this,s)},"resetItemSize":function resetItemSize(){this.itemSize=[parseFloat(this.get("itemWidth")),parseFloat(this.get("itemHeight"))]},"isCategory":function isCategory(){return!!this.option.categories},"setSelected":B,"getValueState":B,"getVisualMeta":B}),sN=[20,140],uN=rN.extend({"type":"visualMap.continuous","defaultOption":{"align":"auto","calculable":!1,"range":null,"realtime":!0,"itemHeight":null,"itemWidth":null,"hoverLink":!0,"hoverLinkDataSize":null,"hoverLinkOnHandle":null},"optionUpdated":function optionUpdated(t,e){uN.superApply(this,"optionUpdated",arguments),this.resetExtent(),this.resetVisual(function(t){t.mappingMethod="linear",t.dataExtent=this.getExtent()}),this._resetRange()},"resetItemSize":function resetItemSize(){uN.superApply(this,"resetItemSize",arguments);var t=this.itemSize;"horizontal"===this._orient&&t.reverse(),(null==t[0]||isNaN(t[0]))&&(t[0]=sN[0]),(null==t[1]||isNaN(t[1]))&&(t[1]=sN[1])},"_resetRange":function _resetRange(){var t=this.getExtent(),e=this.option.range;!e||e.auto?(t.auto=1,this.option.range=t):y(e)&&(e[0]>e[1]&&e.reverse(),e[0]=Math.max(e[0],t[0]),e[1]=Math.min(e[1],t[1]))},"completeVisualOption":function completeVisualOption(){rN.prototype.completeVisualOption.apply(this,arguments),d(this.stateList,function(t){var e=this.option.controller[t].symbolSize;e&&e[0]!==e[1]&&(e[0]=0)},this)},"setSelected":function setSelected(t){this.option.range=t.slice(),this._resetRange()},"getSelected":function getSelected(){var t=this.getExtent(),e=Go((this.get("range")||[]).slice());return e[0]>t[1]&&(e[0]=t[1]),e[1]>t[1]&&(e[1]=t[1]),e[0]<t[0]&&(e[0]=t[0]),e[1]<t[0]&&(e[1]=t[0]),e},"getValueState":function getValueState(t){var e=this.option.range,n=this.getExtent();return(e[0]<=n[0]||e[0]<=t)&&(e[1]>=n[1]||t<=e[1])?"inRange":"outOfRange"},"findTargetDataIndices":function findTargetDataIndices(t){var e=[];return this.eachTargetSeries(function(n){var i=[],o=n.getData();o.each(this.getDataDimension(o),function(e,n){t[0]<=e&&e<=t[1]&&i.push(n)},this),e.push({"seriesId":n.id,"dataIndex":i})},this),e},"getVisualMeta":function getVisualMeta(t){function e(e,n){o.push({"value":e,"color":t(e,n)})}for(var n=Qy(0,0,this.getExtent()),i=Qy(0,0,this.option.range.slice()),o=[],a=0,r=0,s=i.length,l=n.length;r<l&&(!i.length||n[r]<=i[0]);r++)n[r]<i[a]&&e(n[r],"outOfRange");for(u=1;a<s;a++,u=0)u&&o.length&&e(i[a],"outOfRange"),e(i[a],"inRange");for(var u=1;r<l;r++)(!i.length||i[i.length-1]<n[r])&&(u&&(o.length&&e(o[o.length-1].value,"outOfRange"),u=0),e(n[r],"outOfRange"));var h=o.length;return{"stops":o,"outerColors":[h?o[0].color:"transparent",h?o[h-1].color:"transparent"]}}}),hN=Fs({"type":"visualMap","autoPositionValues":{"left":1,"right":1,"top":1,"bottom":1},"init":function init(t,e){this.ecModel=t,this.api=e,this.visualMapModel},"render":function render(t,e,n,i){this.visualMapModel=t,!1!==t.get("show")?this.doRender.apply(this,arguments):this.group.removeAll()},"renderBackground":function renderBackground(t){var e=this.visualMapModel,n=eI(e.get("padding")||0),i=t.getBoundingRect();t.add(new bM({"z2":-1,"silent":!0,"shape":{"x":i.x-n[3],"y":i.y-n[0],"width":i.width+n[3]+n[1],"height":i.height+n[0]+n[2]},"style":{"fill":e.get("backgroundColor"),"stroke":e.get("borderColor"),"lineWidth":e.get("borderWidth")}}))},"getControllerVisual":function getControllerVisual(t,e,i){function n(t){return s[t]}function o(t,e){s[t]=e}var a=(i=i||{}).forceState,r=this.visualMapModel,s={};if("symbol"===e&&(s.symbol=r.get("itemSymbol")),"color"===e){var l=r.get("contentColor");s.color=l}var u=r.controllerVisuals[a||r.getValueState(t)];return d(PL.prepareVisualTypes(u),function(a){var r=u[a];i.convertOpacityToAlpha&&"opacity"===a&&(a="colorAlpha",r=u.__alphaForOpacity),PL.dependsOn(a,e)&&r&&r.applyVisual(t,n,o)}),s[e]},"positionGroup":function positionGroup(t){var e=this.visualMapModel,n=this.api;ca(t,e.getBoxLayoutParams(),{"width":n.getWidth(),"height":n.getHeight()})},"doRender":B}),cN=zo,dN=d,fN=Math.min,pN=Math.max,gN=12,mN=6,vN=hN.extend({"type":"visualMap.continuous","init":function init(){vN.superApply(this,"init",arguments),this._shapes={},this._dataInterval=[],this._handleEnds=[],this._orient,this._useHandle,this._hoverLinkDataIndices=[],this._dragging,this._hovering},"doRender":function doRender(t,e,n,i){i&&"selectDataRange"===i.type&&i.from===this.uid||this._buildView()},"_buildView":function _buildView(){this.group.removeAll();var t=this.visualMapModel,e=this.group;this._orient=t.get("orient"),this._useHandle=t.get("calculable"),this._resetInterval(),this._renderBar(e);var n=t.get("text");this._renderEndsText(e,n,0),this._renderEndsText(e,n,1),this._updateView(!0),this.renderBackground(e),this._updateView(),this._enableHoverLinkToSeries(),this._enableHoverLinkFromSeries(),this.positionGroup(e)},"_renderEndsText":function _renderEndsText(t,e,n){if(e){var i=e[1-n];i=null!=i?i+"":"";var o=this.visualMapModel,a=o.get("textGap"),r=o.itemSize,s=this._shapes.barGroup,l=this._applyTransform([r[0]/2,0===n?-a:r[1]+a],s),u=this._applyTransform(0===n?"bottom":"top",s),h=this._orient,c=this.visualMapModel.textStyleModel;this.group.add(new rM({"style":{"x":l[0],"y":l[1],"textVerticalAlign":"horizontal"===h?"middle":u,"textAlign":"horizontal"===h?u:"center","text":i,"textFont":c.getFont(),"textFill":c.getTextColor()}}))}},"_renderBar":function _renderBar(t){var e=this.visualMapModel,n=this._shapes,i=e.itemSize,o=this._orient,a=this._useHandle,r=tx(e,this.api,i),s=n.barGroup=this._createBarGroup(r);s.add(n.outOfRange=ix()),s.add(n.inRange=ix(null,a?sx(this._orient):null,m(this._dragHandle,this,"all",!1),m(this._dragHandle,this,"all",!0)));var l=e.textStyleModel.getTextRect("国"),u=pN(l.width,l.height);a&&(n.handleThumbs=[],n.handleLabels=[],n.handleLabelPoints=[],this._createHandle(s,0,i,u,o,r),this._createHandle(s,1,i,u,o,r)),this._createIndicator(s,i,u,o),t.add(s)},"_createHandle":function _createHandle(t,e,n,i,o){var a=m(this._dragHandle,this,e,!1),r=m(this._dragHandle,this,e,!0),s=ix(function nx(t,e){return 0===t?[[0,0],[e,0],[e,-e]]:[[0,0],[e,0],[e,e]]}(e,i),sx(this._orient),a,r);s.position[0]=n[0],t.add(s);var l=this.visualMapModel.textStyleModel,u=new rM({"draggable":!0,"drift":a,"onmousemove":function onmousemove(t){ib(t.event)},"ondragend":r,"style":{"x":0,"y":0,"text":"","textFont":l.getFont(),"textFill":l.getTextColor()}});this.group.add(u);var h=["horizontal"===o?i/2:1.5*i,"horizontal"===o?0===e?-1.5*i:1.5*i:0===e?-i/2:i/2],c=this._shapes;c.handleThumbs[e]=s,c.handleLabelPoints[e]=h,c.handleLabels[e]=u},"_createIndicator":function _createIndicator(t,e,n,i){var o=ix([[0,0]],"move");o.position[0]=e[0],o.attr({"invisible":!0,"silent":!0}),t.add(o);var a=this.visualMapModel.textStyleModel,r=new rM({"silent":!0,"invisible":!0,"style":{"x":0,"y":0,"text":"","textFont":a.getFont(),"textFill":a.getTextColor()}});this.group.add(r);var s=["horizontal"===i?n/2:mN+3,0],l=this._shapes;l.indicator=o,l.indicatorLabel=r,l.indicatorLabelPoint=s},"_dragHandle":function _dragHandle(t,e,n,i){if(this._useHandle){if(this._dragging=!e,!e){var o=this._applyTransform([n,i],this._shapes.barGroup,!0);this._updateInterval(t,o[1]),this._updateView()}e===!this.visualMapModel.get("realtime")&&this.api.dispatchAction({"type":"selectDataRange","from":this.uid,"visualMapId":this.visualMapModel.id,"selected":this._dataInterval.slice()}),e?!this._hovering&&this._clearHoverLinkToSeries():rx(this.visualMapModel)&&this._doHoverLinkToSeries(this._handleEnds[t],!1)}},"_resetInterval":function _resetInterval(){var t=this.visualMapModel,e=this._dataInterval=t.getSelected(),n=t.getExtent(),i=[0,t.itemSize[1]];this._handleEnds=[cN(e[0],n,i,!0),cN(e[1],n,i,!0)]},"_updateInterval":function _updateInterval(t,e){e=e||0;var n=this.visualMapModel,i=this._handleEnds,o=[0,n.itemSize[1]];Sk(e,i,o,t,0);var a=n.getExtent();this._dataInterval=[cN(i[0],o,a,!0),cN(i[1],o,a,!0)]},"_updateView":function _updateView(t){var e=this.visualMapModel,n=e.getExtent(),i=this._shapes,o=[0,e.itemSize[1]],a=t?o:this._handleEnds,r=this._createBarVisual(this._dataInterval,n,a,"inRange"),s=this._createBarVisual(n,n,o,"outOfRange");i.inRange.setStyle({"fill":r.barColor,"opacity":r.opacity}).setShape("points",r.barPoints),i.outOfRange.setStyle({"fill":s.barColor,"opacity":s.opacity}).setShape("points",s.barPoints),this._updateHandle(a,r)},"_createBarVisual":function _createBarVisual(t,e,n,i){var o={"forceState":i,"convertOpacityToAlpha":!0},a=this._makeColorGradient(t,o),r=[this.getControllerVisual(t[0],"symbolSize",o),this.getControllerVisual(t[1],"symbolSize",o)],s=this._createBarPoints(n,r);return{"barColor":new kM(0,0,0,1,a),"barPoints":s,"handlesColor":[a[0].color,a[a.length-1].color]}},"_makeColorGradient":function _makeColorGradient(t,e){var n=[],i=(t[1]-t[0])/100;n.push({"color":this.getControllerVisual(t[0],"color",e),"offset":0});for(var o=1;o<100;o++){var a=t[0]+i*o;if(a>t[1])break;n.push({"color":this.getControllerVisual(a,"color",e),"offset":o/100})}return n.push({"color":this.getControllerVisual(t[1],"color",e),"offset":1}),n},"_createBarPoints":function _createBarPoints(t,e){var n=this.visualMapModel.itemSize;return[[n[0]-e[0],t[0]],[n[0],t[0]],[n[0],t[1]],[n[0]-e[1],t[1]]]},"_createBarGroup":function _createBarGroup(t){var e=this._orient,n=this.visualMapModel.get("inverse");return new Zb("horizontal"!==e||n?"horizontal"===e&&n?{"scale":"bottom"===t?[-1,1]:[1,1],"rotation":-Math.PI/2}:"vertical"!==e||n?{"scale":"left"===t?[1,1]:[-1,1]}:{"scale":"left"===t?[1,-1]:[-1,-1]}:{"scale":"bottom"===t?[1,1]:[-1,1],"rotation":Math.PI/2})},"_updateHandle":function _updateHandle(t,e){if(this._useHandle){var n=this._shapes,i=this.visualMapModel,o=n.handleThumbs,a=n.handleLabels;dN([0,1],function(r){var s=o[r];s.setStyle("fill",e.handlesColor[r]),s.position[1]=t[r];var l=Ao(n.handleLabelPoints[r],To(s,this.group));a[r].setStyle({"x":l[0],"y":l[1],"text":i.formatValueText(this._dataInterval[r]),"textVerticalAlign":"middle","textAlign":this._applyTransform("horizontal"===this._orient?0===r?"bottom":"top":"left",n.barGroup)})},this)}},"_showIndicator":function _showIndicator(t,e,n,i){var o=this.visualMapModel,a=o.getExtent(),r=o.itemSize,s=[0,r[1]],l=cN(t,a,s,!0),u=this._shapes,h=u.indicator;if(h){h.position[1]=l,h.attr("invisible",!1),h.setShape("points",function ox(t,e,n,i){return t?[[0,-fN(e,pN(n,0))],[mN,0],[0,fN(e,pN(i-n,0))]]:[[0,0],[5,-5],[5,5]]}(!!n,i,l,r[1]));var c=this.getControllerVisual(t,"color",{"convertOpacityToAlpha":!0});h.setStyle("fill",c);var d=Ao(u.indicatorLabelPoint,To(h,this.group)),f=u.indicatorLabel;f.attr("invisible",!1);var p=this._applyTransform("left",u.barGroup),g=this._orient;f.setStyle({"text":(n||"")+o.formatValueText(e),"textVerticalAlign":"horizontal"===g?p:"middle","textAlign":"horizontal"===g?"center":p,"x":d[0],"y":d[1]})}},"_enableHoverLinkToSeries":function _enableHoverLinkToSeries(){var t=this;this._shapes.barGroup.on("mousemove",function(e){if(t._hovering=!0,!t._dragging){var n=t.visualMapModel.itemSize,i=t._applyTransform([e.offsetX,e.offsetY],t._shapes.barGroup,!0,!0);i[1]=fN(pN(0,i[1]),n[1]),t._doHoverLinkToSeries(i[1],0<=i[0]&&i[0]<=n[0])}}).on("mouseout",function(){t._hovering=!1,!t._dragging&&t._clearHoverLinkToSeries()})},"_enableHoverLinkFromSeries":function _enableHoverLinkFromSeries(){var t=this.api.getZr();this.visualMapModel.option.hoverLink?(t.on("mouseover",this._hoverLinkFromSeriesMouseOver,this),t.on("mouseout",this._hideIndicator,this)):this._clearHoverLinkFromSeries()},"_doHoverLinkToSeries":function _doHoverLinkToSeries(t,e){var n=this.visualMapModel,i=n.itemSize;if(n.option.hoverLink){var o=[0,i[1]],a=n.getExtent();t=fN(pN(o[0],t),o[1]);var r=function ax(t,e,n){var i=gN/2,o=t.get("hoverLinkDataSize");return o&&(i=cN(o,e,n,!0)/2),i}(n,a,o),s=[t-r,t+r],l=cN(t,o,a,!0),u=[cN(s[0],o,a,!0),cN(s[1],o,a,!0)];s[0]<o[0]&&(u[0]=-1/0),s[1]>o[1]&&(u[1]=1/0),e&&(u[0]===-1/0?this._showIndicator(l,u[1],"< ",r):u[1]===1/0?this._showIndicator(l,u[0],"> ",r):this._showIndicator(l,l,"≈ ",r));var h=this._hoverLinkDataIndices,c=[];(e||rx(n))&&(c=this._hoverLinkDataIndices=n.findTargetDataIndices(u));var d=function Ri(t,e){function i(t,e,n){for(var i=0,o=t.length;i<o;i++)for(var a=t[i].seriesId,r=Di(t[i].dataIndex),s=n&&n[a],l=0,u=r.length;l<u;l++){var h=r[l];s&&s[h]?s[h]=null:(e[a]||(e[a]={}))[h]=1}}function n(t,e){var i=[];for(var o in t)if(t.hasOwnProperty(o)&&null!=t[o])if(e)i.push(+o);else{var a=n(t[o],!0);a.length&&i.push({"seriesId":o,"dataIndex":a})}return i}var o={},a={};return i(t||[],o),i(e||[],a,o),[n(o),n(a)]}(h,c);this._dispatchHighDown("downplay",ex(d[0])),this._dispatchHighDown("highlight",ex(d[1]))}},"_hoverLinkFromSeriesMouseOver":function _hoverLinkFromSeriesMouseOver(t){var e=t.target,n=this.visualMapModel;if(e&&null!=e.dataIndex){var i=this.ecModel.getSeriesByIndex(e.seriesIndex);if(n.isTargetSeries(i)){var o=i.getData(e.dataType),a=o.get(n.getDataDimension(o),e.dataIndex,!0);isNaN(a)||this._showIndicator(a,a)}}},"_hideIndicator":function _hideIndicator(){var t=this._shapes;t.indicator&&t.indicator.attr("invisible",!0),t.indicatorLabel&&t.indicatorLabel.attr("invisible",!0)},"_clearHoverLinkToSeries":function _clearHoverLinkToSeries(){this._hideIndicator();var t=this._hoverLinkDataIndices;this._dispatchHighDown("downplay",ex(t)),t.length=0},"_clearHoverLinkFromSeries":function _clearHoverLinkFromSeries(){this._hideIndicator();var t=this.api.getZr();t.off("mouseover",this._hoverLinkFromSeriesMouseOver),t.off("mouseout",this._hideIndicator)},"_applyTransform":function _applyTransform(t,e,n,i){var o=To(e,i?null:this.group);return WM[y(t)?"applyTransform":"transformDirection"](t,o,n)},"_dispatchHighDown":function _dispatchHighDown(t,e){e&&e.length&&this.api.dispatchAction({"type":t,"batch":e})},"dispose":function dispose(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()},"remove":function remove(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()}});Os({"type":"selectDataRange","event":"dataRangeSelected","update":"update"},function(t,e){e.eachComponent({"mainType":"visualMap","query":t},function(e){e.setSelected(t.selected)})}),Ps($R);var yN=rN.extend({"type":"visualMap.piecewise","defaultOption":{"selected":null,"minOpen":!1,"maxOpen":!1,"align":"auto","itemWidth":20,"itemHeight":14,"itemSymbol":"roundRect","pieceList":null,"categories":null,"splitNumber":5,"selectedMode":"multiple","itemGap":10,"hoverLink":!0,"showLabel":null},"optionUpdated":function optionUpdated(t,e){yN.superApply(this,"optionUpdated",arguments),this._pieceList=[],this.resetExtent();var n=this._mode=this._determineMode();xN[this._mode].call(this),this._resetSelected(t,e);var o=this.option.categories;this.resetVisual(function(t,e){"categories"===n?(t.mappingMethod="category",t.categories=i(o)):(t.dataExtent=this.getExtent(),t.mappingMethod="piecewise",t.pieceList=f(this._pieceList,function(t){t=i(t);return"inRange"!==e&&(t.visual=null),t}))})},"completeVisualOption":function completeVisualOption(){function t(t,e,n){return t&&t[e]&&(w(t[e])?t[e].hasOwnProperty(n):t[e]===n)}var e=this.option,n={},i=PL.listVisualTypes(),o=this.isCategory();d(e.pieces,function(t){d(i,function(e){t.hasOwnProperty(e)&&(n[e]=1)})}),d(n,function(n,i){var a=0;d(this.stateList,function(n){a|=t(e,n,i)||t(e.target,n,i)},this),!a&&d(this.stateList,function(t){(e[t]||(e[t]={}))[i]=QR.get(i,"inRange"===t?"active":"inactive",o)})},this),rN.prototype.completeVisualOption.apply(this,arguments)},"_resetSelected":function _resetSelected(t,e){var n=this.option,i=this._pieceList,o=(e?n:t).selected||{};if(n.selected=o,d(i,function(t,e){var n=this.getSelectedMapKey(t);o.hasOwnProperty(n)||(o[n]=!0)},this),"single"===n.selectedMode){var a=!1;d(i,function(t,e){var n=this.getSelectedMapKey(t);o[n]&&(a?o[n]=!1:a=!0)},this)}},"getSelectedMapKey":function getSelectedMapKey(t){return"categories"===this._mode?t.value+"":t.index+""},"getPieceList":function getPieceList(){return this._pieceList},"_determineMode":function _determineMode(){var t=this.option;return t.pieces&&t.pieces.length>0?"pieces":this.option.categories?"categories":"splitNumber"},"setSelected":function setSelected(t){this.option.selected=i(t)},"getValueState":function getValueState(t){var e=PL.findPieceIndex(t,this._pieceList);return null!=e&&this.option.selected[this.getSelectedMapKey(this._pieceList[e])]?"inRange":"outOfRange"},"findTargetDataIndices":function findTargetDataIndices(t){var e=[];return this.eachTargetSeries(function(n){var i=[],o=n.getData();o.each(this.getDataDimension(o),function(e,n){PL.findPieceIndex(e,this._pieceList)===t&&i.push(n)},this),e.push({"seriesId":n.id,"dataIndex":i})},this),e},"getRepresentValue":function getRepresentValue(t){var e;if(this.isCategory())e=t.value;else if(null!=t.value)e=t.value;else{var n=t.interval||[];e=n[0]===-1/0&&n[1]===1/0?0:(n[0]+n[1])/2}return e},"getVisualMeta":function getVisualMeta(t){function e(e,a){var r=o.getRepresentValue({"interval":e});a||(a=o.getValueState(r));var s=t(r,a);e[0]===-1/0?i[0]=s:e[1]===1/0?i[1]=s:n.push({"value":e[0],"color":s},{"value":e[1],"color":s})}if(!this.isCategory()){var n=[],i=[],o=this,a=this._pieceList.slice();if(a.length){var r=a[0].interval[0];r!==-1/0&&a.unshift({"interval":[-1/0,r]}),(r=a[a.length-1].interval[1])!==1/0&&a.push({"interval":[r,1/0]})}else a.push({"interval":[-1/0,1/0]});var s=-1/0;return d(a,function(t){var n=t.interval;n&&(n[0]>s&&e([s,n[0]],"outOfRange"),e(n.slice()),s=n[1])},this),{"stops":n,"outerColors":i}}}}),xN={"splitNumber":function splitNumber(){var t=this.option,e=this._pieceList,n=Math.min(t.precision,20),i=this.getExtent(),o=t.splitNumber;o=Math.max(parseInt(o,10),1),t.splitNumber=o;for(var a=(i[1]-i[0])/o;+a.toFixed(n)!==a&&n<5;)n++;t.precision=n,a=+a.toFixed(n);var r=0;t.minOpen&&e.push({"index":r++,"interval":[-1/0,i[0]],"close":[0,0]});for(var s=i[0],l=r+o;r<l;s+=a){var u=r===o-1?i[1]:s+a;e.push({"index":r++,"interval":[s,u],"close":[1,1]})}t.maxOpen&&e.push({"index":r++,"interval":[i[1],1/0],"close":[0,0]}),$o(e),d(e,function(t){t.text=this.formatValueText(t.interval)},this)},"categories":function categories(){var t=this.option;d(t.categories,function(t){this._pieceList.push({"text":this.formatValueText(t,!0),"value":t})},this),lx(t,this._pieceList)},"pieces":function pieces(){var t=this.option,e=this._pieceList;d(t.pieces,function(t,n){w(t)||(t={"value":t});var i={"text":"","index":n};if(null!=t.label&&(i.text=t.label),t.hasOwnProperty("value")){var o=i.value=t.value;i.interval=[o,o],i.close=[1,1]}else{for(var a=i.interval=[],r=i.close=[0,0],s=[1,0,1],l=[-1/0,1/0],u=[],h=0;h<2;h++){for(var c=[["gte","gt","min"],["lte","lt","max"]][h],d=0;d<3&&null==a[h];d++)a[h]=t[c[d]],r[h]=s[d],u[h]=2===d;null==a[h]&&(a[h]=l[h])}u[0]&&a[1]===1/0&&(r[0]=0),u[1]&&a[0]===-1/0&&(r[1]=0),a[0]===a[1]&&r[0]&&r[1]&&(i.value=a[0])}i.visual=PL.retrieveVisuals(t),e.push(i)},this),lx(t,e),$o(e),d(e,function(t){var e=t.close,n=[["<","≤"][e[1]],[">","≥"][e[0]]];t.text=t.text||this.formatValueText(null!=t.value?t.value:t.interval,!1,n)},this)}};hN.extend({"type":"visualMap.piecewise","doRender":function doRender(){var t=this.group;t.removeAll();var e=this.visualMapModel,n=e.get("textGap"),i=e.textStyleModel,o=i.getFont(),a=i.getTextColor(),r=this._getItemAlign(),s=e.itemSize,l=this._getViewData(),u=l.endsText,h=T(e.get("showLabel",!0),!u);u&&this._renderEndsText(t,u[0],s,h,r),d(l.viewPieceList,function(i){var l=i.piece,u=new Zb;u.onclick=m(this._onItemClick,this,l),this._enableHoverLink(u,i.indexInModelPieceList);var c=e.getRepresentValue(l);if(this._createItemSymbol(u,c,[0,0,s[0],s[1]]),h){var d=this.visualMapModel.getValueState(c);u.add(new rM({"style":{"x":"right"===r?-n:s[0]+n,"y":s[1]/2,"text":l.text,"textVerticalAlign":"middle","textAlign":r,"textFont":o,"textFill":a,"opacity":"outOfRange"===d?.5:1}}))}t.add(u)},this),u&&this._renderEndsText(t,u[1],s,h,r),dI(e.get("orient"),t,e.get("itemGap")),this.renderBackground(t),this.positionGroup(t)},"_enableHoverLink":function _enableHoverLink(t,e){function i(t){var n=this.visualMapModel;n.option.hoverLink&&this.api.dispatchAction({"type":t,"batch":ex(n.findTargetDataIndices(e))})}t.on("mouseover",m(i,this,"highlight")).on("mouseout",m(i,this,"downplay"))},"_getItemAlign":function _getItemAlign(){var t=this.visualMapModel,e=t.option;if("vertical"===e.orient)return tx(t,this.api,t.itemSize);var n=e.align;return n&&"auto"!==n||(n="left"),n},"_renderEndsText":function _renderEndsText(t,e,n,i,o){if(e){var a=new Zb,r=this.visualMapModel.textStyleModel;a.add(new rM({"style":{"x":i?"right"===o?n[0]:0:n[0]/2,"y":n[1]/2,"textVerticalAlign":"middle","textAlign":i?o:"center","text":e,"textFont":r.getFont(),"textFill":r.getTextColor()}})),t.add(a)}},"_getViewData":function _getViewData(){var t=this.visualMapModel,e=f(t.getPieceList(),function(t,e){return{"piece":t,"indexInModelPieceList":e}}),n=t.get("text"),i=t.get("orient"),o=t.get("inverse");return("horizontal"===i?o:!o)?e.reverse():n&&(n=n.slice().reverse()),{"viewPieceList":e,"endsText":n}},"_createItemSymbol":function _createItemSymbol(t,e,n){t.add($l(this.getControllerVisual(e,"symbol"),n[0],n[1],n[2],n[3],this.getControllerVisual(e,"color")))},"_onItemClick":function _onItemClick(t){var e=this.visualMapModel,n=e.option,o=i(n.selected),a=e.getSelectedMapKey(t);"single"===n.selectedMode?(o[a]=!0,d(o,function(t,e){o[e]=e===a})):o[a]=!o[a],this.api.dispatchAction({"type":"selectDataRange","from":this.uid,"visualMapId":this.visualMapModel.id,"selected":o})}}),Ps($R);var _N=Qo,bN=ea,wN=Gs({"type":"marker","dependencies":["series","grid","polar","geo"],"init":function init(t,e,n,i){this.mergeDefaultAndTheme(t,n),this.mergeOption(t,n,i.createdBySelf,!0)},"isAnimationEnabled":function isAnimationEnabled(){if(be.node)return!1;var t=this.__hostSeries;return this.getShallow("animation")&&t&&t.isAnimationEnabled()},"mergeOption":function mergeOption(t,e,n,i){var o=this.constructor,r=this.mainType+"Model";n||e.eachSeries(function(t){var n=t.get(this.mainType,!0),s=t[r];n&&n.data?(s?s.mergeOption(n,e,!0):(i&&ux(n),d(n.data,function(t){t instanceof Array?(ux(t[0]),ux(t[1])):ux(t)}),a(s=new o(n,this,e),{"mainType":this.mainType,"seriesIndex":t.seriesIndex,"name":t.name,"createdBySelf":!0}),s.__hostSeries=t),t[r]=s):t[r]=null},this)},"formatTooltip":function formatTooltip(t){var e=this.getData(),n=this.getRawValue(t),i=y(n)?f(n,_N).join(", "):_N(n),o=e.getName(t),a=bN(this.name);return(null!=n||o)&&(a+="<br />"),o&&(a+=bN(o),null!=n&&(a+=" : ")),null!=n&&(a+=bN(i)),a},"getData":function getData(){return this._data},"setData":function setData(t){this._data=t}});h(wN,tT),wN.extend({"type":"markPoint","defaultOption":{"zlevel":0,"z":5,"symbol":"pin","symbolSize":50,"tooltip":{"trigger":"item"},"label":{"show":!0,"position":"inside"},"itemStyle":{"borderWidth":2},"emphasis":{"label":{"show":!0}}}});var SN=l,MN=v,IN={"min":MN(dx,"min"),"max":MN(dx,"max"),"average":MN(dx,"average")},TN=Fs({"type":"marker","init":function init(){this.markerGroupMap=R()},"render":function render(t,e,n){var i=this.markerGroupMap;i.each(function(t){t.__keep=!1});var o=this.type+"Model";e.eachSeries(function(t){var i=t[o];i&&this.renderSeries(t,i,e,n)},this),i.each(function(t){!t.__keep&&this.group.remove(t.group)},this)},"renderSeries":function renderSeries(){}});TN.extend({"type":"markPoint","updateTransform":function updateTransform(t,e,n){e.eachSeries(function(t){var e=t.markPointModel;e&&(xx(e.getData(),t,n),this.markerGroupMap.get(t.id).updateLayout(e))},this)},"renderSeries":function renderSeries(t,e,n,i){var o=t.coordinateSystem,a=t.id,r=t.getData(),s=this.markerGroupMap,l=s.get(a)||s.set(a,new Au),u=_x(o,t,e);e.setData(u),xx(e.getData(),t,i),u.each(function(t){var n=u.getItemModel(t),i=n.getShallow("symbolSize");"function"==typeof i&&(i=i(e.getRawValue(t),e.getDataParams(t))),u.setItemVisual(t,{"symbolSize":i,"color":n.get("itemStyle.color")||r.getVisual("color"),"symbol":n.getShallow("symbol")})}),l.updateData(u),this.group.add(l.group),u.eachItemGraphicEl(function(t){t.traverse(function(t){t.dataModel=e})}),l.__keep=!0,l.group.silent=e.get("silent")||t.get("silent")}}),Ps(function(t){t.markPoint=t.markPoint||{}}),wN.extend({"type":"markLine","defaultOption":{"zlevel":0,"z":5,"symbol":["circle","arrow"],"symbolSize":[8,16],"precision":2,"tooltip":{"trigger":"item"},"label":{"show":!0,"position":"end"},"lineStyle":{"type":"dashed"},"emphasis":{"label":{"show":!0},"lineStyle":{"width":3}},"animationEasing":"linear"}});var AN=function ZO(t,e,o,r){var s=t.getData(),l=r.type;if(!y(r)&&("min"===l||"max"===l||"average"===l||"median"===l||null!=r.xAxis||null!=r.yAxis)){var u,h;if(null!=r.yAxis||null!=r.xAxis)u=null!=r.yAxis?"y":"x",e.getAxis(u),h=T(r.yAxis,r.xAxis);else{var c=px(r,s,e,t);u=c.valueDataDim,c.valueAxis,h=yx(s,u,l)}var d="x"===u?0:1,f=1-d,p=i(r),g={};p.type=null,p.coord=[],g.coord=[],p.coord[f]=-1/0,g.coord[f]=1/0;var m=o.get("precision");m>=0&&"number"==typeof h&&(h=+h.toFixed(Math.min(m,20))),p.coord[d]=g.coord[d]=h,r=[p,g,{"type":l,"valueIndex":r.valueIndex,"value":h}]}return(r=[fx(t,r[0]),fx(t,r[1]),a({},r[2])])[2].type=r[2].type||"",n(r[2],r[0]),n(r[2],r[1]),r};TN.extend({"type":"markLine","updateTransform":function updateTransform(t,e,n){e.eachSeries(function(t){var e=t.markLineModel;if(e){var i=e.getData(),o=e.__from,a=e.__to;o.each(function(e){Ix(o,e,!0,t,n),Ix(a,e,!1,t,n)}),i.each(function(t){i.setItemLayout(t,[o.getItemLayout(t),a.getItemLayout(t)])}),this.markerGroupMap.get(t.id).updateLayout()}},this)},"renderSeries":function renderSeries(t,e,n,i){function o(e,n,o){var a=e.getItemModel(n);Ix(e,n,o,t,i),e.setItemVisual(n,{"symbolSize":a.get("symbolSize")||g[o?0:1],"symbol":a.get("symbol",!0)||p[o?0:1],"color":a.get("itemStyle.color")||s.getVisual("color")})}var a=t.coordinateSystem,r=t.id,s=t.getData(),l=this.markerGroupMap,u=l.get(r)||l.set(r,new rf);this.group.add(u.group);var h=Tx(a,t,e),c=h.from,d=h.to,f=h.line;e.__from=c,e.__to=d,e.setData(f);var p=e.get("symbol"),g=e.get("symbolSize");y(p)||(p=[p,p]),"number"==typeof g&&(g=[g,g]),h.from.each(function(t){o(c,t,!0),o(d,t,!1)}),f.each(function(t){var e=f.getItemModel(t).get("lineStyle.color");f.setItemVisual(t,{"color":e||c.getItemVisual(t,"color")}),f.setItemLayout(t,[c.getItemLayout(t),d.getItemLayout(t)]),f.setItemVisual(t,{"fromSymbolSize":c.getItemVisual(t,"symbolSize"),"fromSymbol":c.getItemVisual(t,"symbol"),"toSymbolSize":d.getItemVisual(t,"symbolSize"),"toSymbol":d.getItemVisual(t,"symbol")})}),u.updateData(f),h.line.eachItemGraphicEl(function(t,n){t.traverse(function(t){t.dataModel=e})}),u.__keep=!0,u.group.silent=e.get("silent")||t.get("silent")}}),Ps(function(t){t.markLine=t.markLine||{}}),wN.extend({"type":"markArea","defaultOption":{"zlevel":0,"z":1,"tooltip":{"trigger":"item"},"animation":!1,"label":{"show":!0,"position":"top"},"itemStyle":{"borderWidth":0},"emphasis":{"label":{"show":!0,"position":"top"}}}});var DN=function UO(t,e,n,i){var a=fx(t,i[0]),r=fx(t,i[1]),s=T,l=a.coord,u=r.coord;l[0]=s(l[0],-1/0),l[1]=s(l[1],-1/0),u[0]=s(u[0],1/0),u[1]=s(u[1],1/0);var h=o([{},a,r]);return h.coord=[a.coord,r.coord],h.x0=a.x,h.y0=a.y,h.x1=r.x,h.y1=r.y,h},CN=[["x0","y0"],["x1","y0"],["x1","y1"],["x0","y1"]];TN.extend({"type":"markArea","updateTransform":function updateTransform(t,e,n){e.eachSeries(function(t){var e=t.markAreaModel;if(e){var i=e.getData();i.each(function(e){var o=f(CN,function(o){return Lx(i,e,o,t,n)});i.setItemLayout(e,o),i.getItemGraphicEl(e).setShape("points",o)})}},this)},"renderSeries":function renderSeries(t,e,n,i){var o=t.coordinateSystem,a=t.id,s=t.getData(),l=this.markerGroupMap,u=l.get(a)||l.set(a,{"group":new Zb});this.group.add(u.group),u.__keep=!0;var h=function kx(t,e,n){var i,o;t?(i=f(t&&t.dimensions,function(t){var n=e.getData();return r({"name":t},n.getDimensionInfo(n.mapDimension(t))||{})}),o=new DA(f(["x0","y0","x1","y1"],function(t,e){return{"name":t,"type":i[e%2].type}}),n)):o=new DA(i=[{"name":"value","type":"float"}],n);var a=f(n.get("data"),v(DN,e,t,n));t&&(a=g(a,v(Cx,t)));var s=t?function(t,e,n,i){return t.coord[Math.floor(i/2)][i%2]}:function(t){return t.value};return o.initData(a,null,s),o.hasItemOption=!0,o}(o,t,e);e.setData(h),h.each(function(e){h.setItemLayout(e,f(CN,function(n){return Lx(h,e,n,t,i)})),h.setItemVisual(e,{"color":s.getVisual("color")})}),h.diff(u.__data).add(function(t){var e=new vM({"shape":{"points":h.getItemLayout(t)}});h.setItemGraphicEl(t,e),u.group.add(e)}).update(function(t,n){var i=u.__data.getItemGraphicEl(n);Mo(i,{"shape":{"points":h.getItemLayout(t)}},e,t),u.group.add(i),h.setItemGraphicEl(t,i)}).remove(function(t){var e=u.__data.getItemGraphicEl(t);u.group.remove(e)}).execute(),h.eachItemGraphicEl(function(t,n){var i=h.getItemModel(n),o=i.getModel("label"),a=i.getModel("emphasis.label"),s=h.getItemVisual(n,"color");t.useStyle(r(i.getModel("itemStyle").getItemStyle(),{"fill":Yt(s,.4),"stroke":s})),t.hoverStyle=i.getModel("emphasis.itemStyle").getItemStyle(),po(t.style,t.hoverStyle,o,a,{"labelFetcher":e,"labelDataIndex":n,"defaultText":h.getName(n)||"","isRectText":!0,"autoColor":s}),co(t,{}),t.dataModel=e}),u.__data=h,u.group.silent=e.get("silent")||t.get("silent")}}),Ps(function(t){t.markArea=t.markArea||{}}),pI.registerSubTypeDefaulter("timeline",function(){return"slider"}),Os({"type":"timelineChange","event":"timelineChanged","update":"prepareAndUpdate"},function(t,e){var n=e.getComponent("timeline");return n&&null!=t.currentIndex&&(n.setCurrentIndex(t.currentIndex),!n.get("loop",!0)&&n.isIndexMax()&&n.setPlayState(!1)),e.resetOption("timeline"),r({"currentIndex":n.option.currentIndex},t)}),Os({"type":"timelinePlayChange","event":"timelinePlayChanged","update":"update"},function(t,e){var n=e.getComponent("timeline");n&&null!=t.playState&&n.setPlayState(t.playState)});var LN=pI.extend({"type":"timeline","layoutMode":"box","defaultOption":{"zlevel":0,"z":4,"show":!0,"axisType":"time","realtime":!0,"left":"20%","top":null,"right":"20%","bottom":0,"width":null,"height":40,"padding":5,"controlPosition":"left","autoPlay":!1,"rewind":!1,"loop":!0,"playInterval":2e3,"currentIndex":0,"itemStyle":{},"label":{"color":"#000"},"data":[]},"init":function init(t,e,n){this._data,this._names,this.mergeDefaultAndTheme(t,n),this._initData()},"mergeOption":function mergeOption(t){LN.superApply(this,"mergeOption",arguments),this._initData()},"setCurrentIndex":function setCurrentIndex(t){null==t&&(t=this.option.currentIndex);var e=this._data.count();this.option.loop?t=(t%e+e)%e:(t>=e&&(t=e-1),t<0&&(t=0)),this.option.currentIndex=t},"getCurrentIndex":function getCurrentIndex(){return this.option.currentIndex},"isIndexMax":function isIndexMax(){return this.getCurrentIndex()>=this._data.count()-1},"setPlayState":function setPlayState(t){this.option.autoPlay=!!t},"getPlayState":function getPlayState(){return!!this.option.autoPlay},"_initData":function _initData(){var t=this.option,e=t.data||[],n=t.axisType,o=this._names=[];if("category"===n){var a=[];d(e,function(t,e){var n,r=Li(t);w(t)?(n=i(t)).value=e:n=e,a.push(n),_(r)||null!=r&&!isNaN(r)||(r=""),o.push(r+"")}),e=a}var r={"category":"ordinal","time":"time"}[n]||"number";(this._data=new DA([{"name":"value","type":r}],this)).initData(e,o)},"getData":function getData(){return this._data},"getCategories":function getCategories(){if("category"===this.get("axisType"))return this._names.slice()}});h(LN.extend({"type":"timeline.slider","defaultOption":{"backgroundColor":"rgba(0,0,0,0)","borderColor":"#ccc","borderWidth":0,"orient":"horizontal","inverse":!1,"tooltip":{"trigger":"item"},"symbol":"emptyCircle","symbolSize":10,"lineStyle":{"show":!0,"width":2,"color":"#304654"},"label":{"position":"auto","show":!0,"interval":"auto","rotate":0,"color":"#304654"},"itemStyle":{"color":"#304654","borderWidth":1},"checkpointStyle":{"symbol":"circle","symbolSize":13,"color":"#c23531","borderWidth":5,"borderColor":"rgba(194,53,49, 0.5)","animation":!0,"animationDuration":300,"animationEasing":"quinticInOut"},"controlStyle":{"show":!0,"showPlayBtn":!0,"showPrevBtn":!0,"showNextBtn":!0,"itemSize":22,"itemGap":12,"position":"left","playIcon":"path://M31.6,53C17.5,53,6,41.5,6,27.4S17.5,1.8,31.6,1.8C45.7,1.8,57.2,13.3,57.2,27.4S45.7,53,31.6,53z M31.6,3.3 C18.4,3.3,7.5,14.1,7.5,27.4c0,13.3,10.8,24.1,24.1,24.1C44.9,51.5,55.7,40.7,55.7,27.4C55.7,14.1,44.9,3.3,31.6,3.3z M24.9,21.3 c0-2.2,1.6-3.1,3.5-2l10.5,6.1c1.899,1.1,1.899,2.9,0,4l-10.5,6.1c-1.9,1.1-3.5,0.2-3.5-2V21.3z","stopIcon":"path://M30.9,53.2C16.8,53.2,5.3,41.7,5.3,27.6S16.8,2,30.9,2C45,2,56.4,13.5,56.4,27.6S45,53.2,30.9,53.2z M30.9,3.5C17.6,3.5,6.8,14.4,6.8,27.6c0,13.3,10.8,24.1,24.101,24.1C44.2,51.7,55,40.9,55,27.6C54.9,14.4,44.1,3.5,30.9,3.5z M36.9,35.8c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H36c0.5,0,0.9,0.4,0.9,1V35.8z M27.8,35.8 c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H27c0.5,0,0.9,0.4,0.9,1L27.8,35.8L27.8,35.8z","nextIcon":"path://M18.6,50.8l22.5-22.5c0.2-0.2,0.3-0.4,0.3-0.7c0-0.3-0.1-0.5-0.3-0.7L18.7,4.4c-0.1-0.1-0.2-0.3-0.2-0.5 c0-0.4,0.3-0.8,0.8-0.8c0.2,0,0.5,0.1,0.6,0.3l23.5,23.5l0,0c0.2,0.2,0.3,0.4,0.3,0.7c0,0.3-0.1,0.5-0.3,0.7l-0.1,0.1L19.7,52 c-0.1,0.1-0.3,0.2-0.5,0.2c-0.4,0-0.8-0.3-0.8-0.8C18.4,51.2,18.5,51,18.6,50.8z","prevIcon":"path://M43,52.8L20.4,30.3c-0.2-0.2-0.3-0.4-0.3-0.7c0-0.3,0.1-0.5,0.3-0.7L42.9,6.4c0.1-0.1,0.2-0.3,0.2-0.5 c0-0.4-0.3-0.8-0.8-0.8c-0.2,0-0.5,0.1-0.6,0.3L18.3,28.8l0,0c-0.2,0.2-0.3,0.4-0.3,0.7c0,0.3,0.1,0.5,0.3,0.7l0.1,0.1L41.9,54 c0.1,0.1,0.3,0.2,0.5,0.2c0.4,0,0.8-0.3,0.8-0.8C43.2,53.2,43.1,53,43,52.8z","color":"#304654","borderColor":"#304654","borderWidth":1},"emphasis":{"label":{"show":!0,"color":"#c23531"},"itemStyle":{"color":"#c23531"},"controlStyle":{"color":"#c23531","borderColor":"#c23531","borderWidth":2}},"data":[]}}),tT);var kN=aT.extend({"type":"timeline"}),PN=function qO(t,e,n,i){vD.call(this,t,e,n),this.type=i||"value",this.model=null};PN.prototype={"constructor":PN,"getLabelModel":function getLabelModel(){return this.model.getModel("label")},"isHorizontal":function isHorizontal(){return"horizontal"===this.model.get("orient")}},u(PN,vD);var ON=m,RN=d,NN=Math.PI;kN.extend({"type":"timeline.slider","init":function init(t,e){this.api=e,this._axis,this._viewRect,this._timer,this._currentPointer,this._mainGroup,this._labelGroup},"render":function render(t,e,n,i){if(this.model=t,this.api=n,this.ecModel=e,this.group.removeAll(),t.get("show",!0)){var o=this._layout(t,n),a=this._createGroup("mainGroup"),r=this._createGroup("labelGroup"),s=this._axis=this._createAxis(o,t);t.formatTooltip=function(t){return ea(s.scale.getLabel(t))},RN(["AxisLine","AxisTick","Control","CurrentPointer"],function(e){this["_render"+e](o,a,s,t)},this),this._renderAxisLabel(o,r,s,t),this._position(o,t)}this._doPlayStop()},"remove":function remove(){this._clearTimer(),this.group.removeAll()},"dispose":function dispose(){this._clearTimer()},"_layout":function _layout(t,e){var n=t.get("label.position"),i=t.get("orient"),o=function Ex(t,e){return ha(t.getBoxLayoutParams(),{"width":e.getWidth(),"height":e.getHeight()},t.get("padding"))}(t,e);null==n||"auto"===n?n="horizontal"===i?o.y+o.height/2<e.getHeight()/2?"-":"+":o.x+o.width/2<e.getWidth()/2?"+":"-":isNaN(n)&&(n={"horizontal":{"top":"-","bottom":"+"},"vertical":{"left":"-","right":"+"}}[i][n]);var a={"horizontal":"center","vertical":n>=0||"+"===n?"left":"right"},r={"horizontal":n>=0||"+"===n?"top":"bottom","vertical":"middle"},s={"horizontal":0,"vertical":NN/2},l="vertical"===i?o.height:o.width,u=t.getModel("controlStyle"),h=u.get("show",!0),c=h?u.get("itemSize"):0,d=h?u.get("itemGap"):0,f=c+d,p=t.get("label.rotate")||0;p=p*NN/180;var g,m,v,y,x=u.get("position",!0),_=h&&u.get("showPlayBtn",!0),b=h&&u.get("showPrevBtn",!0),w=h&&u.get("showNextBtn",!0),S=0,M=l;return"left"===x||"bottom"===x?(_&&(g=[0,0],S+=f),b&&(m=[S,0],S+=f),w&&(v=[M-c,0],M-=f)):(_&&(g=[M-c,0],M-=f),b&&(m=[0,0],S+=f),w&&(v=[M-c,0],M-=f)),y=[S,M],t.get("inverse")&&y.reverse(),{"viewRect":o,"mainLength":l,"orient":i,"rotation":s[i],"labelRotation":p,"labelPosOpt":n,"labelAlign":t.get("label.align")||a[i],"labelBaseline":t.get("label.verticalAlign")||t.get("label.baseline")||r[i],"playPosition":g,"prevBtnPosition":m,"nextBtnPosition":v,"axisExtent":y,"controlSize":c,"controlGap":d}},"_position":function _position(t,e){function i(t){var e=t.position;t.origin=[c[0][0]-e[0],c[1][0]-e[1]]}function n(t){return[[t.x,t.x+t.width],[t.y,t.y+t.height]]}function o(t,e,n,i,o){t[i]+=n[i][o]-e[i][o]}var a=this._mainGroup,r=this._labelGroup,s=t.viewRect;if("vertical"===t.orient){var l=xt(),u=s.x,h=s.y+s.height;St(l,l,[-u,-h]),Mt(l,l,-NN/2),St(l,l,[u,h]),(s=s.clone()).applyTransform(l)}var c=n(s),d=n(a.getBoundingRect()),f=n(r.getBoundingRect()),p=a.position,g=r.position;g[0]=p[0]=c[0][0];var m=t.labelPosOpt;if(isNaN(m))o(p,d,c,1,v="+"===m?0:1),o(g,f,c,1,1-v);else{var v=m>=0?0:1;o(p,d,c,1,v),g[1]=p[1]+m}a.attr("position",p),r.attr("position",g),a.rotation=r.rotation=t.rotation,i(a),i(r)},"_createAxis":function _createAxis(t,e){var n=e.getData(),i=e.get("axisType"),o=Wl(e,i);o.getTicks=function(){return n.mapArray(["value"],function(t){return t})};var a=n.getDataExtent("value");o.setExtent(a[0],a[1]),o.niceTicks();var r=new PN("value",o,t.axisExtent,i);return r.model=e,r},"_createGroup":function _createGroup(t){var e=this["_"+t]=new Zb;return this.group.add(e),e},"_renderAxisLine":function _renderAxisLine(t,e,n,i){var o=n.getExtent();i.get("lineStyle.show")&&e.add(new SM({"shape":{"x1":o[0],"y1":0,"x2":o[1],"y2":0},"style":a({"lineCap":"round"},i.getModel("lineStyle").getLineStyle()),"silent":!0,"z2":1}))},"_renderAxisTick":function _renderAxisTick(t,e,n,i){var o=i.getData(),a=n.scale.getTicks();RN(a,function(t){var a=n.dataToCoord(t),r=o.getItemModel(t),s=r.getModel("itemStyle"),l=r.getModel("emphasis.itemStyle"),u={"position":[a,0],"onclick":ON(this._changeTimeline,this,t)},h=zx(r,s,e,u);co(h,l.getItemStyle()),r.get("tooltip")?(h.dataIndex=t,h.dataModel=i):h.dataIndex=h.dataModel=null},this)},"_renderAxisLabel":function _renderAxisLabel(t,e,n,i){if(n.getLabelModel().get("show")){var o=i.getData(),a=n.getViewLabels();RN(a,function(i){var a=i.tickValue,r=o.getItemModel(a),s=r.getModel("label"),l=r.getModel("emphasis.label"),u=n.dataToCoord(i.tickValue),h=new rM({"position":[u,0],"rotation":t.labelRotation-t.rotation,"onclick":ON(this._changeTimeline,this,a),"silent":!1});go(h.style,s,{"text":i.formattedLabel,"textAlign":t.labelAlign,"textVerticalAlign":t.labelBaseline}),e.add(h),co(h,go({},l))},this)}},"_renderControl":function _renderControl(t,e,n,i){function o(t,n,o,h){if(t){var c=Rx(i,n,u,{"position":t,"origin":[a/2,0],"rotation":h?-r:0,"rectHover":!0,"style":s,"onclick":o});e.add(c),co(c,l)}}var a=t.controlSize,r=t.rotation,s=i.getModel("controlStyle").getItemStyle(),l=i.getModel("emphasis.controlStyle").getItemStyle(),u=[0,-a/2,a,a],h=i.getPlayState(),c=i.get("inverse",!0);o(t.nextBtnPosition,"controlStyle.nextIcon",ON(this._changeTimeline,this,c?"-":"+")),o(t.prevBtnPosition,"controlStyle.prevIcon",ON(this._changeTimeline,this,c?"+":"-")),o(t.playPosition,"controlStyle."+(h?"stopIcon":"playIcon"),ON(this._handlePlayClick,this,!h),!0)},"_renderCurrentPointer":function _renderCurrentPointer(t,e,n,i){var o=i.getData(),a=i.getCurrentIndex(),r=o.getItemModel(a).getModel("checkpointStyle"),s=this,l={"onCreate":function onCreate(t){t.draggable=!0,t.drift=ON(s._handlePointerDrag,s),t.ondragend=ON(s._handlePointerDragend,s),Bx(t,a,n,i,!0)},"onUpdate":function onUpdate(t){Bx(t,a,n,i)}};this._currentPointer=zx(r,r,this._mainGroup,{},this._currentPointer,l)},"_handlePlayClick":function _handlePlayClick(t){this._clearTimer(),this.api.dispatchAction({"type":"timelinePlayChange","playState":t,"from":this.uid})},"_handlePointerDrag":function _handlePointerDrag(t,e,n){this._clearTimer(),this._pointerChangeTimeline([n.offsetX,n.offsetY])},"_handlePointerDragend":function _handlePointerDragend(t){this._pointerChangeTimeline([t.offsetX,t.offsetY],!0)},"_pointerChangeTimeline":function _pointerChangeTimeline(t,e){var n=this._toAxisCoord(t)[0],i=Go(this._axis.getExtent().slice());n>i[1]&&(n=i[1]),n<i[0]&&(n=i[0]),this._currentPointer.position[0]=n,this._currentPointer.dirty();var o=this._findNearestTick(n),a=this.model;(e||o!==a.getCurrentIndex()&&a.get("realtime"))&&this._changeTimeline(o)},"_doPlayStop":function _doPlayStop(){this._clearTimer(),this.model.getPlayState()&&(this._timer=setTimeout(ON(function(){var t=this.model;this._changeTimeline(t.getCurrentIndex()+(t.get("rewind",!0)?-1:1))},this),this.model.get("playInterval")))},"_toAxisCoord":function _toAxisCoord(t){return Ao(t,this._mainGroup.getLocalTransform(),!0)},"_findNearestTick":function _findNearestTick(t){var e,n=this.model.getData(),i=1/0,o=this._axis;return n.each(["value"],function(n,a){var r=o.dataToCoord(n),s=Math.abs(r-t);s<i&&(i=s,e=a)}),e},"_clearTimer":function _clearTimer(){this._timer&&(clearTimeout(this._timer),this._timer=null)},"_changeTimeline":function _changeTimeline(t){var e=this.model.getCurrentIndex();"+"===t?t=e+1:"-"===t&&(t=e-1),this.api.dispatchAction({"type":"timelineChange","currentIndex":t,"from":this.uid})}}),Ps(function(t){var e=t&&t.timeline;y(e)||(e=e?[e]:[]),d(e,function(t){t&&function Px(t){var e=t.type,n={"number":"value","time":"time"};if(n[e]&&(t.axisType=n[e],delete t.type),Nx(t),Ox(t,"controlPosition")){var i=t.controlStyle||(t.controlStyle={});Ox(i,"position")||(i.position=t.controlPosition),"none"!==i.position||Ox(i,"show")||(i.show=!1,delete i.position),delete t.controlPosition}d(t.data||[],function(t){w(t)&&!y(t)&&(!Ox(t,"value")&&Ox(t,"name")&&(t.value=t.name),Nx(t))})}(t)})});var EN=Gs({"type":"toolbox","layoutMode":{"type":"box","ignoreSize":!0},"optionUpdated":function optionUpdated(){EN.superApply(this,"optionUpdated",arguments),d(this.option.feature,function(t,e){var i=Ay(e);i&&n(t,i.defaultOption)})},"defaultOption":{"show":!0,"z":6,"zlevel":0,"orient":"horizontal","left":"right","top":"top","backgroundColor":"transparent","borderColor":"#ccc","borderRadius":0,"borderWidth":0,"padding":5,"itemSize":15,"itemGap":8,"showTitle":!0,"iconStyle":{"borderColor":"#666","color":"none"},"emphasis":{"iconStyle":{"borderColor":"#3E98C5"}}}});Fs({"type":"toolbox","render":function render(t,e,n,i){function o(o,r){var s,c=h[o],d=h[r],f=new Po(l[c],t,t.ecModel);if(c&&!d){if(function Vx(t){return 0===t.indexOf("my")}(c))s={"model":f,"onclick":f.option.onclick,"featureName":c};else{var p=Ay(c);if(!p)return;s=new p(f,e,n)}u[c]=s}else{if(!(s=u[d]))return;s.model=f,s.ecModel=e,s.api=n}c||!d?f.get("show")&&!s.unusable?(a(f,s,c),f.setIconStatus=function(t,e){var n=this.option,i=this.iconPaths;n.iconStatus=n.iconStatus||{},n.iconStatus[t]=e,i[t]&&i[t].trigger(e)},s.render&&s.render(f,e,n,i)):s.remove&&s.remove(e,n):s.dispose&&s.dispose(e,n)}function a(i,o,a){var l=i.getModel("iconStyle"),u=i.getModel("emphasis.iconStyle"),h=o.getIcons?o.getIcons():i.get("icon"),c=i.get("title")||{};if("string"==typeof h){var f=h,p=c;c={},(h={})[a]=f,c[a]=p}var g=i.iconPaths={};d(h,function(a,h){var d=ko(a,{},{"x":-s/2,"y":-s/2,"width":s,"height":s});d.setStyle(l.getItemStyle()),d.hoverStyle=u.getItemStyle(),co(d),t.get("showTitle")&&(d.__title=c[h],d.on("mouseover",function(){var t=u.getItemStyle();d.setStyle({"text":c[h],"textPosition":t.textPosition||"bottom","textFill":t.fill||t.stroke||"#000","textAlign":t.textAlign||"center"})}).on("mouseout",function(){d.setStyle({"textFill":null})})),d.trigger(i.get("iconStatus."+h)||"normal"),r.add(d),d.on("click",m(o.onclick,o,e,n,h)),g[h]=d})}var r=this.group;if(r.removeAll(),t.get("show")){var s=+t.get("itemSize"),l=t.get("feature")||{},u=this._features||(this._features={}),h=[];d(l,function(t,e){h.push(e)}),new Us(this._featureNames||[],h).add(o).update(o).remove(v(o,null)).execute(),this._featureNames=h,function _v(t,e,n){var i=e.getBoxLayoutParams(),o=e.get("padding"),a={"width":n.getWidth(),"height":n.getHeight()},r=ha(i,a,o);dI(e.get("orient"),t,e.get("itemGap"),r.width,r.height),ca(t,i,a,o)}(r,t,n),r.add(wv(r.getBoundingRect(),t)),r.eachChild(function(t){var e=t.__title,i=t.hoverStyle;if(i&&e){var o=ke(e,Xe(i)),a=t.position[0]+r.position[0],l=!1;t.position[1]+r.position[1]+s+o.height>n.getHeight()&&(i.textPosition="top",l=!0);var u=l?-5-o.height:s+8;a+o.width/2>n.getWidth()?(i.textPosition=["100%",u],i.textAlign="right"):a-o.width/2<0&&(i.textPosition=[0,u],i.textAlign="left")}})}},"updateView":function updateView(t,e,n,i){d(this._features,function(t){t.updateView&&t.updateView(t.model,e,n,i)})},"remove":function remove(t,e){d(this._features,function(n){n.remove&&n.remove(t,e)}),this.group.removeAll()},"dispose":function dispose(t,e){d(this._features,function(n){n.dispose&&n.dispose(t,e)})}});var zN=vT.toolbox.saveAsImage;Gx.defaultOption={"show":!0,"icon":"M4.7,22.9L29.3,45.5L54.7,23.4M4.6,43.6L4.6,58L53.8,58L53.8,43.6M29.2,45.1L29.2,0","title":zN.title,"type":"png","name":"","excludeComponents":["toolbox"],"pixelRatio":1,"lang":zN.lang.slice()},Gx.prototype.unusable=!be.canvasSupported,Gx.prototype.onclick=function(t,e){var n=this.model,i=n.get("name")||t.get("title.0.text")||"echarts",o=document.createElement("a"),a=n.get("type",!0)||"png";o.download=i+"."+a,o.target="_blank";var r=e.getConnectedDataURL({"type":a,"backgroundColor":n.get("backgroundColor",!0)||t.get("backgroundColor")||"#fff","excludeComponents":n.get("excludeComponents"),"pixelRatio":n.get("pixelRatio")});if(o.href=r,"function"!=typeof MouseEvent||be.browser.ie||be.browser.edge)if(window.navigator.msSaveOrOpenBlob){for(var s=atob(r.split(",")[1]),l=s.length,u=new Uint8Array(l);l--;)u[l]=s.charCodeAt(l);var h=new Blob([u]);window.navigator.msSaveOrOpenBlob(h,i+"."+a)}else{var c=n.get("lang"),d='<body style="margin:0;"><img src="'+r+'" style="max-width:100%;" title="'+(c&&c[0]||"")+'" /></body>';window.open().document.write(d)}else{var f=new MouseEvent("click",{"view":window,"bubbles":!0,"cancelable":!1});o.dispatchEvent(f)}},Ty("saveAsImage",Gx);var BN=vT.toolbox.magicType;Fx.defaultOption={"show":!0,"type":[],"icon":{"line":"M4.1,28.9h7.1l9.3-22l7.4,38l9.7-19.7l3,12.8h14.9M4.1,58h51.4","bar":"M6.7,22.9h10V48h-10V22.9zM24.9,13h10v35h-10V13zM43.2,2h10v46h-10V2zM3.1,58h53.7","stack":"M8.2,38.4l-8.4,4.1l30.6,15.3L60,42.5l-8.1-4.1l-21.5,11L8.2,38.4z M51.9,30l-8.1,4.2l-13.4,6.9l-13.9-6.9L8.2,30l-8.4,4.2l8.4,4.2l22.2,11l21.5-11l8.1-4.2L51.9,30z M51.9,21.7l-8.1,4.2L35.7,30l-5.3,2.8L24.9,30l-8.4-4.1l-8.3-4.2l-8.4,4.2L8.2,30l8.3,4.2l13.9,6.9l13.4-6.9l8.1-4.2l8.1-4.1L51.9,21.7zM30.4,2.2L-0.2,17.5l8.4,4.1l8.3,4.2l8.4,4.2l5.5,2.7l5.3-2.7l8.1-4.2l8.1-4.2l8.1-4.1L30.4,2.2z","tiled":"M2.3,2.2h22.8V25H2.3V2.2z M35,2.2h22.8V25H35V2.2zM2.3,35h22.8v22.8H2.3V35z M35,35h22.8v22.8H35V35z"},"title":i(BN.title),"option":{},"seriesIndex":{}};var VN=Fx.prototype;VN.getIcons=function(){var t=this.model,e=t.get("icon"),n={};return d(t.get("type"),function(t){e[t]&&(n[t]=e[t])}),n};var GN={"line":function line(t,e,i,o){if("bar"===t)return n({"id":e,"type":"line","data":i.get("data"),"stack":i.get("stack"),"markPoint":i.get("markPoint"),"markLine":i.get("markLine")},o.get("option.line")||{},!0)},"bar":function bar(t,e,i,o){if("line"===t)return n({"id":e,"type":"bar","data":i.get("data"),"stack":i.get("stack"),"markPoint":i.get("markPoint"),"markLine":i.get("markLine")},o.get("option.bar")||{},!0)},"stack":function stack(t,e,i,o){if("line"===t||"bar"===t)return n({"id":e,"stack":"__ec_magicType_stack__"},o.get("option.stack")||{},!0)},"tiled":function tiled(t,e,i,o){if("line"===t||"bar"===t)return n({"id":e,"stack":""},o.get("option.tiled")||{},!0)}},FN=[["line","bar"],["stack","tiled"]];VN.onclick=function(t,e,n){var i=this.model,o=i.get("seriesIndex."+n);if(GN[n]){var a={"series":[]};d(FN,function(t){l(t,n)>=0&&d(t,function(t){i.setIconStatus(t,"normal")})}),i.setIconStatus(n,"emphasis"),t.eachComponent({"mainType":"series","query":null==o?null:{"seriesIndex":o}},function(e){var o=e.subType,s=e.id,l=GN[n](o,s,e,i);l&&(r(l,e.option),a.series.push(l));var u=e.coordinateSystem;if(u&&"cartesian2d"===u.type&&("line"===n||"bar"===n)){var h=u.getAxesByScale("ordinal")[0];if(h){var c=h.dim+"Axis",d=t.queryComponents({"mainType":c,"index":e.get(name+"Index"),"id":e.get(name+"Id")})[0].componentIndex;a[c]=a[c]||[];for(var f=0;f<=d;f++)a[c][d]=a[c][d]||{};a[c][d].boundaryGap="bar"===n}}}),e.dispatchAction({"type":"changeMagicType","currentType":n,"newOption":a})}},Os({"type":"changeMagicType","event":"magicTypeChanged","update":"prepareAndUpdate"},function(t,e){e.mergeOption(t.newOption)}),Ty("magicType",Fx);var HN=vT.toolbox.dataView,WN=new Array(60).join("-"),jN="\t",ZN=new RegExp("["+jN+"]+","g");$x.defaultOption={"show":!0,"readOnly":!1,"optionToContent":null,"contentToOption":null,"icon":"M17.5,17.3H33 M17.5,17.3H33 M45.4,29.5h-28 M11.5,2v56H51V14.8L38.4,2H11.5z M38.4,2.2v12.7H51 M45.4,41.7h-28","title":i(HN.title),"lang":i(HN.lang),"backgroundColor":"#fff","textColor":"#000","textareaColor":"#fff","textareaBorderColor":"#333","buttonColor":"#c23531","buttonTextColor":"#fff"},$x.prototype.onclick=function(t,e){function i(){n.removeChild(a),x._dom=null}var n=e.getDom(),o=this.model;this._dom&&n.removeChild(this._dom);var a=document.createElement("div");a.style.cssText="position:absolute;left:5px;top:5px;bottom:5px;right:5px;",a.style.backgroundColor=o.get("backgroundColor")||"#fff";var r=document.createElement("h4"),s=o.get("lang")||[];r.innerHTML=s[0]||o.get("title"),r.style.cssText="margin: 10px 20px;",r.style.color=o.get("textColor");var l=document.createElement("div"),u=document.createElement("textarea");l.style.cssText="display:block;width:100%;overflow:auto;";var h=o.get("optionToContent"),c=o.get("contentToOption"),d=Ux(t);if("function"==typeof h){var f=h(e.getOption());"string"==typeof f?l.innerHTML=f:M(f)&&l.appendChild(f)}else l.appendChild(u),u.readOnly=o.get("readOnly"),u.style.cssText="width:100%;height:100%;font-family:monospace;font-size:14px;line-height:1.6rem;",u.style.color=o.get("textColor"),u.style.borderColor=o.get("textareaBorderColor"),u.style.backgroundColor=o.get("textareaColor"),u.value=d.value;var p=d.meta,g=document.createElement("div");g.style.cssText="position:absolute;bottom:0;left:0;right:0;";var m="float:right;margin-right:20px;border:none;cursor:pointer;padding:2px 5px;font-size:12px;border-radius:3px",v=document.createElement("div"),y=document.createElement("div");m+=";background-color:"+o.get("buttonColor"),m+=";color:"+o.get("buttonTextColor");var x=this;ht(v,"click",i),ht(y,"click",function(){var t;try{t="function"==typeof c?c(l,e.getOption()):Kx(u.value,p)}catch(t){throw i(),new Error("Data view format error "+t)}t&&e.dispatchAction({"type":"changeDataView","newOption":t}),i()}),v.innerHTML=s[1],y.innerHTML=s[2],y.style.cssText=m,v.style.cssText=m,!o.get("readOnly")&&g.appendChild(y),g.appendChild(v),ht(u,"keydown",function(t){if(9===(t.keyCode||t.which)){var e=this.value,n=this.selectionStart,i=this.selectionEnd;this.value=e.substring(0,n)+jN+e.substring(i),this.selectionStart=this.selectionEnd=n+1,ib(t)}}),a.appendChild(r),a.appendChild(l),a.appendChild(g),l.style.height=n.clientHeight-80+"px",n.appendChild(a),this._dom=a},$x.prototype.remove=function(t,e){this._dom&&e.getDom().removeChild(this._dom)},$x.prototype.dispose=function(t,e){this.remove(t,e)},Ty("dataView",$x),Os({"type":"changeDataView","event":"dataViewChanged","update":"prepareAndUpdate"},function(t,e){var n=[];d(t.newOption.series,function(t){var i=e.getSeriesByName(t.name)[0];if(i){var o=i.get("data");n.push({"name":t.name,"data":function Jx(t,e){return f(t,function(t,n){var i=e&&e[n];return w(i)&&!y(i)?(w(t)&&!y(t)&&(t=t.value),r({"value":t},i)):t})}(t.data,o)})}else n.push(a({"type":"scatter"},t))}),e.mergeOption(r({"series":n},t.newOption))});var UN=d,XN="\0_ec_hist_store";OR.extend({"type":"dataZoom.select"}),RR.extend({"type":"dataZoom.select"});var YN=vT.toolbox.dataZoom,qN=d,$N="\0_ec_\0toolbox-dataZoom_";o_.defaultOption={"show":!0,"icon":{"zoom":"M0,13.5h26.9 M13.5,26.9V0 M32.1,13.5H58V58H13.5 V32.1","back":"M22,1.4L9.9,13.5l12.3,12.3 M10.3,13.5H54.9v44.6 H10.3v-26"},"title":i(YN.title)};var KN=o_.prototype;KN.render=function(t,e,n,i){this.model=t,this.ecModel=e,this.api=n,function s_(t,e,n,i,o){var a=n._isZoomActive;i&&"takeGlobalCursor"===i.type&&(a="dataZoomSelect"===i.key&&i.dataZoomSelectActive),n._isZoomActive=a,t.setIconStatus("zoom",a?"emphasis":"normal");var r=new hy(a_(t.option),e,{"include":["grid"]});n._brushController.setPanels(r.makePanelOpts(o,function(t){return t.xAxisDeclared&&!t.yAxisDeclared?"lineX":!t.xAxisDeclared&&t.yAxisDeclared?"lineY":"rect"})).enableBrush(!!a&&{"brushType":"auto","brushStyle":{"lineWidth":0,"fill":"rgba(0,0,0,0.2)"}})}(t,e,this,i,n),r_(t,e)},KN.onclick=function(t,e,n){QN[n].call(this)},KN.remove=function(t,e){this._brushController.unmount()},KN.dispose=function(t,e){this._brushController.dispose()};var QN={"zoom":function zoom(){var t=!this._isZoomActive;this.api.dispatchAction({"type":"takeGlobalCursor","key":"dataZoomSelect","dataZoomSelectActive":t})},"back":function back(){this._dispatchZoomAction(function t_(t){var e=n_(t),n=e[e.length-1];e.length>1&&e.pop();var i={};return UN(n,function(t,n){for(var o=e.length-1;o>=0;o--)if(t=e[o][n]){i[n]=t;break}}),i}(this.ecModel))}};KN._onBrush=function(t,e){function i(t,e,i){var r=e.getAxis(t),s=r.model,l=function n(t,e,i){var o;return i.eachComponent({"mainType":"dataZoom","subType":"select"},function(n){n.getAxisModel(t,e.componentIndex)&&(o=n)}),o}(t,s,a),u=l.findRepresentativeAxisProxy(s).getMinMaxSpan();null==u.minValueSpan&&null==u.maxValueSpan||(i=Sk(0,i.slice(),r.scale.getExtent(),0,u.minValueSpan,u.maxValueSpan)),l&&(o[l.id]={"dataZoomId":l.id,"startValue":i[0],"endValue":i[1]})}if(e.isEnd&&t.length){var o={},a=this.ecModel;this._brushController.updateCovers([]),new hy(a_(this.model.option),a,{"include":["grid"]}).matchOutputRanges(t,a,function(t,e,n){if("cartesian2d"===n.type){var o=t.brushType;"rect"===o?(i("x",n,e[0]),i("y",n,e[1])):i({"lineX":"x","lineY":"y"}[o],n,e)}}),function Qx(t,e){var n=n_(t);UN(e,function(e,i){for(var o=n.length-1;o>=0&&!n[o][i];o--);if(o<0){var a=t.queryComponents({"mainType":"dataZoom","subType":"select","id":i})[0];if(a){var r=a.getPercentRange();n[0][i]={"dataZoomId":i,"start":r[0],"end":r[1]}}}}),n.push(e)}(a,o),this._dispatchZoomAction(o)}},KN._dispatchZoomAction=function(t){var e=[];qN(t,function(t,n){e.push(i(t))}),e.length&&this.api.dispatchAction({"type":"dataZoom","from":this.uid,"batch":e})},Ty("dataZoom",o_),Ps(function(t){function e(t,e){if(e){var o=t+"Index",a=e[o];null==a||"all"===a||y(a)||(a=!1===a||"none"===a?[]:[a]),i(t,function(e,i){if(null==a||"all"===a||-1!==l(a,i)){var r={"type":"select","$fromToolbox":!0,"id":$N+t+i};r[o]=i,n.push(r)}})}}function i(e,n){var i=t[e];y(i)||(i=i?[i]:[]),qN(i,n)}if(t){var n=t.dataZoom||(t.dataZoom=[]);y(n)||(t.dataZoom=n=[n]);var o=t.toolbox;if(o&&(y(o)&&(o=o[0]),o&&o.feature)){var a=o.feature.dataZoom;e("xAxis",a),e("yAxis",a)}}});var JN=vT.toolbox.restore;l_.defaultOption={"show":!0,"icon":"M3.8,33.4 M47,18.9h9.8V8.7 M56.3,20.1 C52.1,9,40.5,0.6,26.8,2.1C12.6,3.7,1.6,16.2,2.1,30.6 M13,41.1H3.1v10.2 M3.7,39.9c4.2,11.1,15.8,19.5,29.5,18 c14.2-1.6,25.2-14.1,24.7-28.5","title":JN.title},l_.prototype.onclick=function(t,e,n){(function e_(t){t[XN]=null})(t),e.dispatchAction({"type":"restore","from":this.uid})},Ty("restore",l_),Os({"type":"restore","event":"restore","update":"prepareAndUpdate"},function(t,e){e.resetOption("recreate")});var tE,eE="urn:schemas-microsoft-com:vml",nE="undefined"==typeof window?null:window,iE=!1,oE=nE&&nE.document;if(oE&&!be.canvasSupported)try{!oE.namespaces.zrvml&&oE.namespaces.add("zrvml",eE),tE=function vE(t){return oE.createElement("<zrvml:"+t+' class="zrvml">')}}catch(ot){tE=function vE(t){return oE.createElement("<"+t+' xmlns="'+eE+'" class="zrvml">')}}var aE=kS.CMD,rE=Math.round,sE=Math.sqrt,lE=Math.abs,uE=Math.cos,hE=Math.sin,cE=Math.max;if(!be.canvasSupported){var dE=21600,fE=dE/2,pE=function kE(t){t.style.cssText="position:absolute;left:0;top:0;width:1px;height:1px;",t.coordsize=dE+","+dE,t.coordorigin="0,0"},gE=function PE(t){return String(t).replace(/&/g,"&amp;").replace(/"/g,"&quot;")},mE=function NE(t,e,n){return"rgb("+[t,e,n].join(",")+")"},yE=function OE(t,e){e&&t&&e.parentNode!==t&&t.appendChild(e)},xE=function EE(t,e){e&&t&&e.parentNode===t&&t.removeChild(e)},_E=function RE(t,e,n){return 1e5*(parseFloat(t)||0)+1e3*(parseFloat(e)||0)+n},bE=function zE(t,e){return"string"==typeof t?t.lastIndexOf("%")>=0?parseFloat(t)/100*e:parseFloat(t):t},wE=function BE(t,e,n){var i=Gt(e);n=+n,isNaN(n)&&(n=1),i&&(t.color=mE(i[0],i[1],i[2]),t.opacity=n*i[3])},SE=function VE(t){var e=Gt(t);return[mE(e[0],e[1],e[2]),e[3]]},ME=function WE(t,e,n,i){var o="fill"===e,a=t.getElementsByTagName(e)[0];null!=n[e]&&"none"!==n[e]&&(o||!o&&n.lineWidth)?(t[o?"filled":"stroked"]="true",n[e]instanceof LM&&xE(t,a),a||(a=u_(e)),o?function GE(t,e,n){var i=e.fill;if(null!=i)if(i instanceof LM){var o,a=0,r=[0,0],s=0,l=1,u=n.getBoundingRect(),h=u.width,c=u.height;if("linear"===i.type){o="gradient";var d=n.transform,f=[i.x*h,i.y*c],p=[i.x2*h,i.y2*c];d&&(Q(f,f,d),Q(p,p,d));var g=p[0]-f[0],m=p[1]-f[1];(a=180*Math.atan2(g,m)/Math.PI)<0&&(a+=360),a<1e-6&&(a=0)}else{o="gradientradial",f=[i.x*h,i.y*c],d=n.transform;var v=n.scale,y=h,x=c;r=[(f[0]-u.x)/y,(f[1]-u.y)/x],d&&Q(f,f,d),y/=v[0]*dE,x/=v[1]*dE;var _=cE(y,x);s=0/_,l=2*i.r/_-s}var b=i.colorStops.slice();b.sort(function(t,e){return t.offset-e.offset});for(var w=b.length,S=[],M=[],I=0;I<w;I++){var T=b[I],A=SE(T.color);M.push(T.offset*l+s+" "+A[0]),0!==I&&I!==w-1||S.push(A)}if(w>=2){var D=S[0][0],C=S[1][0],L=S[0][1]*e.opacity,k=S[1][1]*e.opacity;t.type=o,t.method="none",t.focus="100%",t.angle=a,t.color=D,t.color2=C,t.colors=M.join(","),t.opacity=k,t.opacity2=L}"radial"===o&&(t.focusposition=r.join(","))}else wE(t,i,e.opacity)}(a,n,i):function FE(t,e){null!=e.lineDash&&(t.dashstyle=e.lineDash.join(" ")),null==e.stroke||e.stroke instanceof LM||wE(t,e.stroke,e.opacity)}(a,n),yE(t,a)):(t[o?"filled":"stroked"]="false",xE(t,a))},IE=[[],[],[]];kn.prototype.brushVML=function(t){var e=this.style,n=this._vmlEl;n||(n=u_("shape"),pE(n),this._vmlEl=n),ME(n,"fill",e,this),ME(n,"stroke",e,this);var i=this.transform,o=null!=i,a=n.getElementsByTagName("stroke")[0];if(a){var r=e.lineWidth;if(o&&!e.strokeNoScale){var s=i[0]*i[3]-i[1]*i[2];r*=sE(lE(s))}a.weight=r+"px"}var l=this.path||(this.path=new kS);this.__dirtyPath&&(l.beginPath(),l.subPixelOptimize=!1,this.buildPath(l,this.shape),l.toStatic(),this.__dirtyPath=!1),n.path=function ZE(t,e){var n,i,o,a,r,s,l=aE.M,u=aE.C,h=aE.L,c=aE.A,d=aE.Q,f=[],p=t.data,g=t.len();for(a=0;a<g;){switch(i="",n=0,o=p[a++]){case l:i=" m ",n=1,r=p[a++],s=p[a++],IE[0][0]=r,IE[0][1]=s;break;case h:i=" l ",n=1,r=p[a++],s=p[a++],IE[0][0]=r,IE[0][1]=s;break;case d:case u:i=" c ",n=3;var m,v,y=p[a++],x=p[a++],_=p[a++],b=p[a++];o===d?(m=_,v=b,_=(_+2*y)/3,b=(b+2*x)/3,y=(r+2*y)/3,x=(s+2*x)/3):(m=p[a++],v=p[a++]),IE[0][0]=y,IE[0][1]=x,IE[1][0]=_,IE[1][1]=b,IE[2][0]=m,IE[2][1]=v,r=m,s=v;break;case c:var w=0,S=0,M=1,I=1,T=0;e&&(w=e[4],S=e[5],M=sE(e[0]*e[0]+e[1]*e[1]),I=sE(e[2]*e[2]+e[3]*e[3]),T=Math.atan2(-e[1]/I,e[0]/M));var A=p[a++],D=p[a++],C=p[a++],L=p[a++],k=p[a++]+T,P=p[a++]+k+T;a++;var O=p[a++],R=A+uE(k)*C,N=D+hE(k)*L,E=(y=A+uE(P)*C,x=D+hE(P)*L,O?" wa ":" at ");Math.abs(R-y)<1e-4&&(Math.abs(P-k)>.01?O&&(R+=.0125):Math.abs(N-D)<1e-4?O&&R<A||!O&&R>A?x-=.0125:x+=.0125:O&&N<D||!O&&N>D?y+=.0125:y-=.0125),f.push(E,rE(((A-C)*M+w)*dE-fE),",",rE(((D-L)*I+S)*dE-fE),",",rE(((A+C)*M+w)*dE-fE),",",rE(((D+L)*I+S)*dE-fE),",",rE((R*M+w)*dE-fE),",",rE((N*I+S)*dE-fE),",",rE((y*M+w)*dE-fE),",",rE((x*I+S)*dE-fE)),r=y,s=x;break;case aE.R:var z=IE[0],B=IE[1];z[0]=p[a++],z[1]=p[a++],B[0]=z[0]+p[a++],B[1]=z[1]+p[a++],e&&(Q(z,z,e),Q(B,B,e)),z[0]=rE(z[0]*dE-fE),B[0]=rE(B[0]*dE-fE),z[1]=rE(z[1]*dE-fE),B[1]=rE(B[1]*dE-fE),f.push(" m ",z[0],",",z[1]," l ",B[0],",",z[1]," l ",B[0],",",B[1]," l ",z[0],",",B[1]);break;case aE.Z:f.push(" x ")}if(n>0){f.push(i);for(var V=0;V<n;V++){var G=IE[V];e&&Q(G,G,e),f.push(rE(G[0]*dE-fE),",",rE(G[1]*dE-fE),V<n-1?",":"")}}}return f.join("")}(l,this.transform),n.style.zIndex=_E(this.zlevel,this.z,this.z2),yE(t,n),null!=e.text?this.drawRectText(t,this.getBoundingRect()):this.removeRectText(t)},kn.prototype.onRemove=function(t){xE(t,this._vmlEl),this.removeRectText(t)},kn.prototype.onAdd=function(t){yE(t,this._vmlEl),this.appendRectText(t)};fi.prototype.brushVML=function(t){var e,n,i=this.style,o=i.image;if(function UE(t){return"object"==(void 0===t?"undefined":se(t))&&t.tagName&&"IMG"===t.tagName.toUpperCase()}(o)){var a=o.src;if(a===this._imageSrc)e=this._imageWidth,n=this._imageHeight;else{var r=o.runtimeStyle,s=r.width,l=r.height;r.width="auto",r.height="auto",e=o.width,n=o.height,r.width=s,r.height=l,this._imageSrc=a,this._imageWidth=e,this._imageHeight=n}o=a}else o===this._imageSrc&&(e=this._imageWidth,n=this._imageHeight);if(o){var u=i.x||0,h=i.y||0,c=i.width,d=i.height,f=i.sWidth,p=i.sHeight,g=i.sx||0,m=i.sy||0,v=f&&p,y=this._vmlEl;y||(y=oE.createElement("div"),pE(y),this._vmlEl=y);var x,_=y.style,b=!1,w=1,S=1;if(this.transform&&(x=this.transform,w=sE(x[0]*x[0]+x[1]*x[1]),S=sE(x[2]*x[2]+x[3]*x[3]),b=x[1]||x[2]),b){var M=[u,h],I=[u+c,h],T=[u,h+d],A=[u+c,h+d];Q(M,M,x),Q(I,I,x),Q(T,T,x),Q(A,A,x);var D=cE(M[0],I[0],T[0],A[0]),C=cE(M[1],I[1],T[1],A[1]),L=[];L.push("M11=",x[0]/w,",","M12=",x[2]/S,",","M21=",x[1]/w,",","M22=",x[3]/S,",","Dx=",rE(u*w+x[4]),",","Dy=",rE(h*S+x[5])),_.padding="0 "+rE(D)+"px "+rE(C)+"px 0",_.filter="progid:DXImageTransform.Microsoft.Matrix("+L.join("")+", SizingMethod=clip)"}else x&&(u=u*w+x[4],h=h*S+x[5]),_.filter="",_.left=rE(u)+"px",_.top=rE(h)+"px";var k=this._imageEl,P=this._cropEl;k||(k=oE.createElement("div"),this._imageEl=k);var O=k.style;if(v){if(e&&n)O.width=rE(w*e*c/f)+"px",O.height=rE(S*n*d/p)+"px";else{var R=new Image,N=this;R.onload=function(){R.onload=null,e=R.width,n=R.height,O.width=rE(w*e*c/f)+"px",O.height=rE(S*n*d/p)+"px",N._imageWidth=e,N._imageHeight=n,N._imageSrc=o},R.src=o}P||((P=oE.createElement("div")).style.overflow="hidden",this._cropEl=P);var E=P.style;E.width=rE((c+g*c/f)*w),E.height=rE((d+m*d/p)*S),E.filter="progid:DXImageTransform.Microsoft.Matrix(Dx="+-g*c/f*w+",Dy="+-m*d/p*S+")",P.parentNode||y.appendChild(P),k.parentNode!==P&&P.appendChild(k)}else O.width=rE(w*c)+"px",O.height=rE(S*d)+"px",y.appendChild(k),P&&P.parentNode&&(y.removeChild(P),this._cropEl=null);var z="",B=i.opacity;B<1&&(z+=".Alpha(opacity="+rE(100*B)+") "),z+="progid:DXImageTransform.Microsoft.AlphaImageLoader(src="+o+", SizingMethod=scale)",O.filter=z,y.style.zIndex=_E(this.zlevel,this.z,this.z2),yE(t,y),null!=i.text&&this.drawRectText(t,this.getBoundingRect())}},fi.prototype.onRemove=function(t){xE(t,this._vmlEl),this._vmlEl=null,this._cropEl=null,this._imageEl=null,this.removeRectText(t)},fi.prototype.onAdd=function(t){yE(t,this._vmlEl),this.appendRectText(t)};var TE,AE={},DE=0,CE=document.createElement("div"),LE=function KE(t){var e=AE[t];if(!e){DE>100&&(DE=0,AE={});var n,i=CE.style;try{i.font=t,n=i.fontFamily.split(",")[0]}catch(t){}e={"style":i.fontStyle||"normal","variant":i.fontVariant||"normal","weight":i.fontWeight||"normal","size":0|parseFloat(i.fontSize||12),"family":n||"Microsoft YaHei"},AE[t]=e,DE++}return e};gw.measureText=function(t,e){var n=oE;TE||((TE=n.createElement("div")).style.cssText="position:absolute;top:-20000px;left:0;padding:0;margin:0;border:none;white-space:pre;",oE.body.appendChild(TE));try{TE.style.font=e}catch(t){}return TE.innerHTML="",TE.appendChild(n.createTextNode(t)),{"width":TE.offsetWidth}};for(var PE=new de,OE=[_w,di,fi,kn,rM],RE=0;RE<OE.length;RE++){var NE=OE[RE].prototype;NE.drawRectText=function(t,e,n,i){var o=this.style;this.__dirty&&Ye(o);var a=o.text;if(null!=a&&(a+=""),a){if(o.rich){var r=Ze(a,o);a=[];for(var s=0;s<r.lines.length;s++){for(var l=r.lines[s].tokens,u=[],h=0;h<l.length;h++)u.push(l[h].text);a.push(u.join(""))}a=a.join("\n")}var c,d,f=o.textAlign,p=o.textVerticalAlign,g=LE(o.font),m=g.style+" "+g.variant+" "+g.weight+" "+g.size+'px "'+g.family+'"';n=n||ke(a,m,f,p,o.textPadding,o.textLineHeight);var v=this.transform;if(v&&!i&&(PE.copy(e),PE.applyTransform(v),e=PE),i)c=e.x,d=e.y;else{var y=o.textPosition,x=o.textDistance;if(y instanceof Array)c=e.x+bE(y[0],e.width),d=e.y+bE(y[1],e.height),f=f||"left";else{var _=Re(y,e,x);c=_.x,d=_.y,f=f||_.textAlign,p=p||_.textVerticalAlign}}c=Oe(c,n.width,f),d=Ee(d,n.height,p),d+=n.height/2;var b,w,S,M=u_,I=this._textVmlEl;I?w=(b=(S=I.firstChild).nextSibling).nextSibling:(I=M("line"),b=M("path"),w=M("textpath"),S=M("skew"),w.style["v-text-align"]="left",pE(I),b.textpathok=!0,w.on=!0,I.from="0 0",I.to="1000 0.05",yE(I,S),yE(I,b),yE(I,w),this._textVmlEl=I);var T=[c,d],A=I.style;v&&i?(Q(T,T,v),S.on=!0,S.matrix=v[0].toFixed(3)+","+v[2].toFixed(3)+","+v[1].toFixed(3)+","+v[3].toFixed(3)+",0,0",S.offset=(rE(T[0])||0)+","+(rE(T[1])||0),S.origin="0 0",A.left="0px",A.top="0px"):(S.on=!1,A.left=rE(c)+"px",A.top=rE(d)+"px"),w.string=gE(a);try{w.style.font=m}catch(t){}ME(I,"fill",{"fill":o.textFill,"opacity":o.opacity},this),ME(I,"stroke",{"stroke":o.textStroke,"opacity":o.opacity,"lineDash":o.lineDash},this),I.style.zIndex=_E(this.zlevel,this.z,this.z2),yE(t,I)}},NE.removeRectText=function(t){xE(t,this._textVmlEl),this._textVmlEl=null},NE.appendRectText=function(t){yE(t,this._textVmlEl)}}rM.prototype.brushVML=function(t){var e=this.style;null!=e.text?this.drawRectText(t,{"x":e.x||0,"y":e.y||0,"width":0,"height":0},this.getBoundingRect(),!0):this.removeRectText(t)},rM.prototype.onRemove=function(t){this.removeRectText(t)},rM.prototype.onAdd=function(t){this.appendRectText(t)}}d_.prototype={"constructor":d_,"getType":function getType(){return"vml"},"getViewportRoot":function getViewportRoot(){return this._vmlViewport},"getViewportRootOffset":function getViewportRootOffset(){var t=this.getViewportRoot();if(t)return{"offsetLeft":t.offsetLeft||0,"offsetTop":t.offsetTop||0}},"refresh":function refresh(){var t=this.storage.getDisplayList(!0,!0);this._paintList(t)},"_paintList":function _paintList(t){for(var e=this._vmlRoot,n=0;n<t.length;n++){var i=t[n];i.invisible||i.ignore?(i.__alreadyNotVisible||i.onRemove(e),i.__alreadyNotVisible=!0):(i.__alreadyNotVisible&&i.onAdd(e),i.__alreadyNotVisible=!1,i.__dirty&&(i.beforeBrush&&i.beforeBrush(),(i.brushVML||i.brush).call(i,e),i.afterBrush&&i.afterBrush())),i.__dirty=!1}this._firstPaint&&(this._vmlViewport.appendChild(e),this._firstPaint=!1)},"resize":function resize(t,e){t=null==t?this._getWidth():t,e=null==e?this._getHeight():e;if(this._width!==t||this._height!==e){this._width=t,this._height=e;var n=this._vmlViewport.style;n.width=t+"px",n.height=e+"px"}},"dispose":function dispose(){this.root.innerHTML="",this._vmlRoot=this._vmlViewport=this.storage=null},"getWidth":function getWidth(){return this._width},"getHeight":function getHeight(){return this._height},"clear":function clear(){this._vmlViewport&&this.root.removeChild(this._vmlViewport)},"_getWidth":function _getWidth(){var t=this.root,e=t.currentStyle;return(t.clientWidth||c_(e.width))-c_(e.paddingLeft)-c_(e.paddingRight)|0},"_getHeight":function _getHeight(){var t=this.root,e=t.currentStyle;return(t.clientHeight||c_(e.height))-c_(e.paddingTop)-c_(e.paddingBottom)|0}},d(["getLayer","insertLayer","eachLayer","eachBuiltinLayer","eachOtherLayer","getLayers","modLayer","delLayer","clearLayer","toDataURL","pathToImage"],function(t){d_.prototype[t]=function f_(t){return function(){Bb('In IE8.0 VML mode painter not support method "'+t+'"')}}(t)}),Ti("vml",d_);var EE="http://www.w3.org/2000/svg",zE=kS.CMD,HE=Array.prototype.join,jE="none",UE=Math.round,XE=Math.sin,YE=Math.cos,qE=Math.PI,$E=2*Math.PI,QE=180/qE,JE=1e-4,tz={};tz.brush=function(t){var e=t.style,n=t.__svgEl;n||(n=p_("path"),t.__svgEl=n),t.path||t.createPathProxy();var i=t.path;if(t.__dirtyPath){i.beginPath(),i.subPixelOptimize=!1,t.buildPath(i,t.shape),t.__dirtyPath=!1;var o=function S_(t){for(var e=[],n=t.data,i=t.len(),o=0;o<i;){var a="",r=0;switch(n[o++]){case zE.M:a="M",r=2;break;case zE.L:a="L",r=2;break;case zE.Q:a="Q",r=4;break;case zE.C:a="C",r=6;break;case zE.A:var s=n[o++],l=n[o++],u=n[o++],h=n[o++],c=n[o++],d=n[o++],f=n[o++],p=n[o++],g=Math.abs(d),m=m_(g-$E)&&!m_(g),v=!1;v=g>=$E||!m_(g)&&(d>-qE&&d<0||d>qE)==!!p;var y=g_(s+u*YE(c)),x=g_(l+h*XE(c));m&&(d=p?$E-1e-4:1e-4-$E,v=!0,9===o&&e.push("M",y,x));var _=g_(s+u*YE(c+d)),b=g_(l+h*XE(c+d));e.push("A",g_(u),g_(h),UE(f*QE),+v,+p,_,b);break;case zE.Z:a="Z";break;case zE.R:_=g_(n[o++]),b=g_(n[o++]);var w=g_(n[o++]),S=g_(n[o++]);e.push("M",_,b,"L",_+w,b,"L",_+w,b+S,"L",_,b+S,"L",_,b)}a&&e.push(a);for(var M=0;M<r;M++)e.push(g_(n[o++]))}return e.join(" ")}(i);o.indexOf("NaN")<0&&__(n,"d",o)}b_(n,e,!1,t),x_(n,t.transform),null!=e.text&&oz(t,t.getBoundingRect())};var ez={"brush":function(t){var e=t.style,n=e.image;if(n instanceof HTMLImageElement&&(n=n.src),n){var i=e.x||0,o=e.y||0,a=e.width,r=e.height,s=t.__svgEl;s||(s=p_("image"),t.__svgEl=s),n!==t.__imageSrc&&(function w_(t,e,n){t.setAttributeNS("http://www.w3.org/1999/xlink",e,n)}(s,"href",n),t.__imageSrc=n),__(s,"width",a),__(s,"height",r),__(s,"x",i),__(s,"y",o),x_(s,t.transform),null!=e.text&&oz(t,t.getBoundingRect())}}},nz={},iz=new de,oz=function mR(t,e,n){var i=t.style;t.__dirty&&Ye(i);var o=i.text;if(null!=o){o+="";var a=t.__textSvgEl;a||(a=p_("text"),t.__textSvgEl=a);var r,s,l=i.textPosition,u=i.textDistance,h=i.textAlign||"left";"number"==typeof i.fontSize&&(i.fontSize+="px");var c=i.font||[i.fontStyle||"",i.fontWeight||"",i.fontSize||"",i.fontFamily||""].join(" ")||pw,d=M_(i.textVerticalAlign),f=(n=ke(o,c,h,d,i.textPadding,i.textLineHeight)).lineHeight;if(l instanceof Array)r=e.x+l[0],s=e.y+l[1];else{var p=Re(l,e,u);r=p.x,s=p.y,d=M_(p.textVerticalAlign),h=p.textAlign}__(a,"alignment-baseline",d),c&&(a.style.font=c);var g=i.textPadding;if(__(a,"x",r),__(a,"y",s),b_(a,i,!0,t),t instanceof rM||t.style.transformText)x_(a,t.transform);else{if(t.transform)iz.copy(e),iz.applyTransform(t.transform),e=iz;else{var m=t.transformCoordToGlobal(e.x,e.y);e.x=m[0],e.y=m[1],t.transform=_t(xt())}var v=i.textOrigin;"center"===v?(r=n.width/2+r,s=n.height/2+s):v&&(r=v[0]+r,s=v[1]+s);var y=-i.textRotation||0,x=xt();Mt(x,x,y),St(x,x,m=[t.transform[4],t.transform[5]]),x_(a,x)}var _=o.split("\n"),b=_.length,w=h;"left"===w?(w="start",g&&(r+=g[3])):"right"===w?(w="end",g&&(r-=g[1])):"center"===w&&(w="middle",g&&(r+=(g[3]-g[1])/2));var S=0;if("after-edge"===d?(S=-n.height+f,g&&(S-=g[2])):"middle"===d?(S=(-n.height+f)/2,g&&(s+=(g[0]-g[2])/2)):g&&(S+=g[0]),t.__text!==o||t.__textFont!==c){var M=t.__tspanList||[];for(t.__tspanList=M,T=0;T<b;T++)(A=M[T])?A.innerHTML="":(A=M[T]=p_("tspan"),a.appendChild(A),__(A,"alignment-baseline",d),__(A,"text-anchor",w)),__(A,"x",r),__(A,"y",s+T*f+S),A.appendChild(document.createTextNode(_[T]));for(;T<M.length;T++)a.removeChild(M[T]);M.length=b,t.__text=o,t.__textFont=c}else if(t.__tspanList.length)for(var I=t.__tspanList.length,T=0;T<I;++T){var A=t.__tspanList[T];A&&(__(A,"x",r),__(A,"y",s+T*f+S))}}};nz.drawRectText=oz,nz.brush=function(t){var e=t.style;null!=e.text&&(e.textPosition=[0,0],oz(t,{"x":e.x||0,"y":e.y||0,"width":0,"height":0},t.getBoundingRect()))},I_.prototype={"diff":function diff(t,e,n){n||(n=function i(t,e){return t===e}),this.equals=n;var i=this;t=t.slice();var o=(e=e.slice()).length,a=t.length,r=1,s=o+a,l=[{"newPos":-1,"components":[]}],u=this.extractCommon(l[0],e,t,0);if(l[0].newPos+1>=o&&u+1>=a){for(var h=[],c=0;c<e.length;c++)h.push(c);return[{"indices":h,"count":e.length}]}for(;r<=s;){var d=function(){for(var n=-1*r;n<=r;n+=2){var s,u=l[n-1],h=l[n+1],c=(h?h.newPos:0)-n;u&&(l[n-1]=void 0);var d=u&&u.newPos+1<o,f=h&&0<=c&&c<a;if(d||f){if(!d||f&&u.newPos<h.newPos?(s=A_(h),i.pushComponent(s.components,void 0,!0)):((s=u).newPos++,i.pushComponent(s.components,!0,void 0)),c=i.extractCommon(s,e,t,n),s.newPos+1>=o&&c+1>=a)return T_(0,s.components);l[n]=s}else l[n]=void 0}r++}();if(d)return d}},"pushComponent":function pushComponent(t,e,n){var i=t[t.length-1];i&&i.added===e&&i.removed===n?t[t.length-1]={"count":i.count+1,"added":e,"removed":n}:t.push({"count":1,"added":e,"removed":n})},"extractCommon":function extractCommon(t,e,n,i){for(var o=e.length,a=n.length,r=t.newPos,s=r-i,l=0;r+1<o&&s+1<a&&this.equals(e[r+1],n[s+1]);)r++,s++,l++;return l&&t.components.push({"count":l}),t.newPos=r,s},"tokenize":function tokenize(t){return t.slice()},"join":function join(t){return t.slice()}};var az=new I_;D_.prototype.createElement=p_,D_.prototype.getDefs=function(t){var e=this._svgRoot,n=this._svgRoot.getElementsByTagName("defs");return 0===n.length?t?((n=e.insertBefore(this.createElement("defs"),e.firstChild)).contains||(n.contains=function(t){var e=n.children;if(!e)return!1;for(var i=e.length-1;i>=0;--i)if(e[i]===t)return!0;return!1}),n):null:n[0]},D_.prototype.update=function(t,e){if(t){var n=this.getDefs(!1);if(t[this._domName]&&n.contains(t[this._domName]))"function"==typeof e&&e(t);else{var i=this.add(t);i&&(t[this._domName]=i)}}},D_.prototype.addDom=function(t){this.getDefs(!0).appendChild(t)},D_.prototype.removeDom=function(t){var e=this.getDefs(!1);e&&t[this._domName]&&(e.removeChild(t[this._domName]),t[this._domName]=null)},D_.prototype.getDoms=function(){var t=this.getDefs(!1);if(!t)return[];var e=[];return d(this._tagNames,function(n){var i=t.getElementsByTagName(n);e=e.concat([].slice.call(i))}),e},D_.prototype.markAllUnused=function(){var t=this;d(this.getDoms(),function(e){e[t._markLabel]="0"})},D_.prototype.markUsed=function(t){t&&(t[this._markLabel]="1")},D_.prototype.removeUnused=function(){var t=this.getDefs(!1);if(t){var e=this;d(this.getDoms(),function(n){"1"!==n[e._markLabel]&&t.removeChild(n)})}},D_.prototype.getSvgProxy=function(t){return t instanceof kn?tz:t instanceof fi?ez:t instanceof rM?nz:tz},D_.prototype.getTextSvgElement=function(t){return t.__textSvgEl},D_.prototype.getSvgElement=function(t){return t.__svgEl},u(C_,D_),C_.prototype.addWithoutUpdate=function(t,e){if(e&&e.style){var n=this;d(["fill","stroke"],function(i){if(e.style[i]&&("linear"===e.style[i].type||"radial"===e.style[i].type)){var o,a=e.style[i],r=n.getDefs(!0);a._dom?(o=a._dom,r.contains(a._dom)||n.addDom(o)):o=n.add(a),n.markUsed(e);var s=o.getAttribute("id");t.setAttribute(i,"url(#"+s+")")}})}},C_.prototype.add=function(t){var e;if("linear"===t.type)e=this.createElement("linearGradient");else{if("radial"!==t.type)return Bb("Illegal gradient type."),null;e=this.createElement("radialGradient")}return t.id=t.id||this.nextId++,e.setAttribute("id","zr"+this._zrId+"-gradient-"+t.id),this.updateDom(t,e),this.addDom(e),e},C_.prototype.update=function(t){var e=this;D_.prototype.update.call(this,t,function(){var n=t.type,i=t._dom.tagName;"linear"===n&&"linearGradient"===i||"radial"===n&&"radialGradient"===i?e.updateDom(t,t._dom):(e.removeDom(t),e.add(t))})},C_.prototype.updateDom=function(t,e){if("linear"===t.type)e.setAttribute("x1",t.x),e.setAttribute("y1",t.y),e.setAttribute("x2",t.x2),e.setAttribute("y2",t.y2);else{if("radial"!==t.type)return void Bb("Illegal gradient type.");e.setAttribute("cx",t.x),e.setAttribute("cy",t.y),e.setAttribute("r",t.r)}t.global?e.setAttribute("gradientUnits","userSpaceOnUse"):e.setAttribute("gradientUnits","objectBoundingBox"),e.innerHTML="";for(var n=t.colorStops,i=0,o=n.length;i<o;++i){var a=this.createElement("stop");a.setAttribute("offset",100*n[i].offset+"%");var r=n[i].color;if(r.indexOf(!1)){var s=Gt(r)[3],l=Zt(r);a.setAttribute("stop-color","#"+l),a.setAttribute("stop-opacity",s)}else a.setAttribute("stop-color",n[i].color);e.appendChild(a)}t._dom=e},C_.prototype.markUsed=function(t){if(t.style){var e=t.style.fill;e&&e._dom&&D_.prototype.markUsed.call(this,e._dom),(e=t.style.stroke)&&e._dom&&D_.prototype.markUsed.call(this,e._dom)}},u(L_,D_),L_.prototype.update=function(t){var e=this.getSvgElement(t);e&&this.updateDom(e,t.__clipPaths,!1);var n=this.getTextSvgElement(t);n&&this.updateDom(n,t.__clipPaths,!0),this.markUsed(t)},L_.prototype.updateDom=function(t,e,n){if(e&&e.length>0){var i,o,a=this.getDefs(!0),r=e[0],s=n?"_textDom":"_dom";r[s]?(o=r[s].getAttribute("id"),i=r[s],a.contains(i)||a.appendChild(i)):(o="zr"+this._zrId+"-clip-"+this.nextId,++this.nextId,(i=this.createElement("clipPath")).setAttribute("id",o),a.appendChild(i),r[s]=i);var l=this.getSvgProxy(r);if(r.transform&&r.parent.invTransform&&!n){var u=Array.prototype.slice.call(r.transform);bt(r.transform,r.parent.invTransform,r.transform),l.brush(r),r.transform=u}else l.brush(r);var h=this.getSvgElement(r);i.innerHTML="",i.appendChild(h.cloneNode()),t.setAttribute("clip-path","url(#"+o+")"),e.length>1&&this.updateDom(i,e.slice(1),n)}else t&&t.setAttribute("clip-path","none")},L_.prototype.markUsed=function(t){var e=this;t.__clipPaths&&t.__clipPaths.length>0&&d(t.__clipPaths,function(t){t._dom&&D_.prototype.markUsed.call(e,t._dom),t._textDom&&D_.prototype.markUsed.call(e,t._textDom)})},u(k_,D_),k_.prototype.addWithoutUpdate=function(t,e){if(e&&P_(e.style)){var n,i=e.style;i._shadowDom?(n=i._shadowDom,this.getDefs(!0).contains(i._shadowDom)||this.addDom(n)):n=this.add(e),this.markUsed(e);var o=n.getAttribute("id");t.style.filter="url(#"+o+")"}},k_.prototype.add=function(t){var e=this.createElement("filter"),n=t.style;return n._shadowDomId=n._shadowDomId||this.nextId++,e.setAttribute("id","zr"+this._zrId+"-shadow-"+n._shadowDomId),this.updateDom(t,e),this.addDom(e),e},k_.prototype.update=function(t,e){var n=e.style;if(P_(n)){var i=this;D_.prototype.update.call(this,e,function(t){i.updateDom(e,t._shadowDom)})}else this.remove(t,n)},k_.prototype.remove=function(t,e){null!=e._shadowDomId&&(this.removeDom(e),t.style.filter="")},k_.prototype.updateDom=function(t,e){var n=e.getElementsByTagName("feDropShadow");n=0===n.length?this.createElement("feDropShadow"):n[0];var i,o,a,r,s=t.style,l=t.scale&&t.scale[0]||1,u=t.scale&&t.scale[1]||1;if(s.shadowBlur||s.shadowOffsetX||s.shadowOffsetY)i=s.shadowOffsetX||0,o=s.shadowOffsetY||0,a=s.shadowBlur,r=s.shadowColor;else{if(!s.textShadowBlur)return void this.removeDom(e,s);i=s.textShadowOffsetX||0,o=s.textShadowOffsetY||0,a=s.textShadowBlur,r=s.textShadowColor}n.setAttribute("dx",i/l),n.setAttribute("dy",o/u),n.setAttribute("flood-color",r);var h=a/2/l+" "+a/2/u;n.setAttribute("stdDeviation",h),e.setAttribute("x","-100%"),e.setAttribute("y","-100%"),e.setAttribute("width",Math.ceil(a/2*200)+"%"),e.setAttribute("height",Math.ceil(a/2*200)+"%"),e.appendChild(n),s._shadowDom=e},k_.prototype.markUsed=function(t){var e=t.style;e&&e._shadowDom&&D_.prototype.markUsed.call(this,e._shadowDom)};var rz=function xR(t,e,n,i){this.root=t,this.storage=e,this._opts=n=a({},n||{});var o=p_("svg");o.setAttribute("xmlns","http://www.w3.org/2000/svg"),o.setAttribute("version","1.1"),o.setAttribute("baseProfile","full"),o.style.cssText="user-select:none;position:absolute;left:0;top:0;",this.gradientManager=new C_(i,o),this.clipPathManager=new L_(i,o),this.shadowManager=new k_(i,o);var r=document.createElement("div");r.style.cssText="overflow:hidden;position:relative",this._svgRoot=o,this._viewport=r,t.appendChild(r),r.appendChild(o),this.resize(n.width,n.height),this._visibleList=[]};rz.prototype={"constructor":rz,"getType":function getType(){return"svg"},"getViewportRoot":function getViewportRoot(){return this._viewport},"getViewportRootOffset":function getViewportRootOffset(){var t=this.getViewportRoot();if(t)return{"offsetLeft":t.offsetLeft||0,"offsetTop":t.offsetTop||0}},"refresh":function refresh(){var t=this.storage.getDisplayList(!0);this._paintList(t)},"setBackgroundColor":function setBackgroundColor(t){this._viewport.style.background=t},"_paintList":function _paintList(t){this.gradientManager.markAllUnused(),this.clipPathManager.markAllUnused(),this.shadowManager.markAllUnused();var e,n=this._svgRoot,i=this._visibleList,o=t.length,a=[];for(e=0;e<o;e++){var r=O_(f=t[e]),s=G_(f)||V_(f);f.invisible||(f.__dirty&&(r&&r.brush(f),this.clipPathManager.update(f),f.style&&(this.gradientManager.update(f.style.fill),this.gradientManager.update(f.style.stroke),this.shadowManager.update(s,f)),f.__dirty=!1),a.push(f))}var l,u=function yR(t,e,n){return az.diff(t,e,n)}(i,a);for(e=0;e<u.length;e++)if((c=u[e]).removed)for(d=0;d<c.count;d++){s=G_(f=i[c.indices[d]]);var h=V_(f);B_(n,s),B_(n,h)}for(e=0;e<u.length;e++){var c=u[e];if(c.added)for(d=0;d<c.count;d++){s=G_(f=a[c.indices[d]]),h=V_(f);l?R_(n,s,l):z_(n,s),s?R_(n,h,s):l?R_(n,h,l):z_(n,h),R_(n,h,s),l=h||s||l,this.gradientManager.addWithoutUpdate(s,f),this.shadowManager.addWithoutUpdate(l,f),this.clipPathManager.markUsed(f)}else if(!c.removed)for(var d=0;d<c.count;d++){var f=a[c.indices[d]];l=s=V_(f)||G_(f)||l,this.gradientManager.markUsed(f),this.gradientManager.addWithoutUpdate(s,f),this.shadowManager.markUsed(f),this.shadowManager.addWithoutUpdate(s,f),this.clipPathManager.markUsed(f)}}this.gradientManager.removeUnused(),this.clipPathManager.removeUnused(),this.shadowManager.removeUnused(),this._visibleList=a},"_getDefs":function _getDefs(t){var e=this._svgRoot,n=this._svgRoot.getElementsByTagName("defs");return 0===n.length?t?((n=e.insertBefore(p_("defs"),e.firstChild)).contains||(n.contains=function(t){var e=n.children;if(!e)return!1;for(var i=e.length-1;i>=0;--i)if(e[i]===t)return!0;return!1}),n):null:n[0]},"resize":function resize(t,e){var n=this._viewport;n.style.display="none";var i=this._opts;if(null!=t&&(i.width=t),null!=e&&(i.height=e),t=this._getSize(0),e=this._getSize(1),n.style.display="",this._width!==t||this._height!==e){this._width=t,this._height=e;var o=n.style;o.width=t+"px",o.height=e+"px";var a=this._svgRoot;a.setAttribute("width",t),a.setAttribute("height",e)}},"getWidth":function getWidth(){return this._width},"getHeight":function getHeight(){return this._height},"_getSize":function _getSize(t){var e=this._opts,n=["width","height"][t],i=["clientWidth","clientHeight"][t],o=["paddingLeft","paddingTop"][t],a=["paddingRight","paddingBottom"][t];if(null!=e[n]&&"auto"!==e[n])return parseFloat(e[n]);var r=this.root,s=document.defaultView.getComputedStyle(r);return(r[i]||N_(s[n])||N_(r.style[n]))-(N_(s[o])||0)-(N_(s[a])||0)|0},"dispose":function dispose(){this.root.innerHTML="",this._svgRoot=this._viewport=this.storage=null},"clear":function clear(){this._viewport&&this.root.removeChild(this._viewport)},"pathToDataUrl":function pathToDataUrl(){return this.refresh(),"data:image/svg+xml;charset=UTF-8,"+this._svgRoot.outerHTML}},d(["getLayer","insertLayer","eachLayer","eachBuiltinLayer","eachOtherLayer","getLayers","modLayer","delLayer","clearLayer","toDataURL","pathToImage"],function(t){rz.prototype[t]=function F_(t){return function(){Bb('In SVG mode painter not support method "'+t+'"')}}(t)}),Ti("svg",rz),ot.version="4.2.0",ot.dependencies={"zrender":"4.0.6"},ot.PRIORITY=qT,ot.init=function(t,e,n){var i=Ls(t);if(i)return i;var o=new ls(t,e,n);return o.id="ec_"+dA++,hA[o.id]=o,Fi(t,gA,o.id),function Ds(t){function e(t,e){for(var i=0;i<t.length;i++)t[i][n]=e}var n="__connectUpdateStatus";HT(iA,function(i,o){t._messageCenter.on(o,function(i){if(cA[t.group]&&0!==t[n]){if(i&&i.escapeConnect)return;var o=t.makeActionFromEvent(i),a=[];HT(hA,function(e){e!==t&&e.group===t.group&&a.push(e)}),e(a,0),HT(a,function(t){1!==t[n]&&t.dispatchAction(o)}),e(a,2)}})})}(o),o},ot.connect=function(t){if(y(t)){var e=t;t=null,HT(e,function(e){null!=e.group&&(t=e.group)}),t=t||"g_"+fA++,HT(e,function(e){e.group=t})}return cA[t]=!0,t},ot.disConnect=Cs,ot.disconnect=mA,ot.dispose=function(t){"string"==typeof t?t=hA[t]:t instanceof ls||(t=Ls(t)),t instanceof ls&&!t.isDisposed()&&t.dispose()},ot.getInstanceByDom=Ls,ot.getInstanceById=function(t){return hA[t]},ot.registerTheme=ks,ot.registerPreprocessor=Ps,ot.registerProcessor=Ns,ot.registerPostUpdate=function(t){rA.push(t)},ot.registerAction=Os,ot.registerCoordinateSystem=Es,ot.getCoordinateSystemDimensions=function(t){var e=Ga.get(t);if(e)return e.getDimensionsInfo?e.getDimensionsInfo():e.dimensions.slice()},ot.registerLayout=Rs,ot.registerVisual=zs,ot.registerLoading=Vs,ot.extendComponentModel=Gs,ot.extendComponentView=Fs,ot.extendSeriesModel=Ws,ot.extendChartView=Hs,ot.setCanvasCreator=function(t){e("createCanvas",t)},ot.registerMap=function(t,e,n){VT.registerMap(t,e,n)},ot.getMap=function(t){var e=VT.retrieveMap(t);return e&&e[0]&&{"geoJson":e[0].geoJSON,"specialAreas":e[0].specialAreas}},ot.dataTool={},ot.zrender=zw,ot.number=tI,ot.format=lI,ot.throttle=kr,ot.helper=cD,ot.matrix=cb,ot.vector=K_,ot.color=Ob,ot.parseGeoJSON=pD,ot.parseGeoJson=yD,ot.util=xD,ot.graphic=_D,ot.List=DA,ot.Model=Po,ot.Axis=vD,ot.env=be},"object"==se(ot)&&void 0!==t?Wt(ot):(gt=[ot],void 0===(kt="function"==typeof(pt=Wt)?pt.apply(ot,gt):pt)||(t.exports=kt))},,,,,function(t,e,n){"use strict";var i=n(0),o=n(172),a=n(95),r=n.n(a),s=n(98),l=n.n(s),u=n(2),h=n.n(u),c=n(166),d=function(){function defineProperties(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,e,n){return e&&defineProperties(t.prototype,e),n&&defineProperties(t,n),t}}();function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}var f=function(t){function Chart(){var t,e,n;!function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,Chart);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return e=n=_possibleConstructorReturn(this,(t=Chart.__proto__||Object.getPrototypeOf(Chart)).call.apply(t,[this].concat(o))),n.config={"component":!0,"usingComponents":{"ec-canvas":"../ec-canvas/ec-canvas"}},n.refreshChart=function(t){var e=n.props.option;n.chartInstance&&n.chartInstance.setOption(t||e,!0)},n.renderH5Chart=function(){var t=n.props,e=t.option,i=t.chartId,o=document.getElementById(i);n.beforeSetOption(),n.chartInstance=c.init(o),n.chartInstance.setOption(e)},n.renderWeappChart=function(){var t=n.props.option;n.chartRef.init(function(e,i,o){var a=c.init(e,null,{"width":i,"height":o});return e.setChart(a),n.beforeSetOption(),n.chartInstance=a,a.setOption(t),a})},n.beforeSetOption=function(){var t=n.props.onBeforeSetOption;t&&t(c)},n.setChartRef=function(t){return n.chartRef=t},_possibleConstructorReturn(n,e)}return function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{"constructor":{"value":t,"enumerable":!1,"writable":!0,"configurable":!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(Chart,i["Component"]),d(Chart,[{"key":"componentDidMount","value":function componentDidMount(){this.renderH5Chart()}},{"key":"componentWillReceiveProps","value":function componentWillReceiveProps(t){var e=t.option;l()(t,this.props)||this.refreshChart(e)}},{"key":"shouldComponentUpdate","value":function shouldComponentUpdate(t,e){return!l()(this.props,t)}},{"key":"render","value":function render(){var t=this.props,e=t.chartId,n=t.width,i=t.height,a=t.customStyle+"width:"+n+";height:"+i+";";return h.a.createElement(o.a,{"style":a},null,h.a.createElement(o.a,{"style":"width:"+n+";height:"+i+";","id":e}))}}]),Chart}();f.propTypes={"chartId":r.a.string.isRequired,"width":r.a.string,"height":r.a.string,"customStyle":r.a.string,"option":r.a.object.isRequired,"onBeforeSetOption":r.a.func},f.defaultProps={"width":"100%","height":"200px","customStyle":"","onBeforeSetOption":null};e.a=f},,,function(t,e,n){"use strict";n.d(e,"a",function(){return setNavigationBarTitle});var i=n(5);function setNavigationBarTitle(t){var e=Object(i.f)(t);if(!e.res){var n={"errMsg":"setNavigationBarTitle"+e.msg};return console.error(n.errMsg),Promise.reject(n)}var o=t.title,a=t.success,r=t.fail,s=t.complete,l={"errMsg":"setNavigationBarTitle:ok"};return o&&"string"==typeof o?(document.title!==o&&(document.title=o),"function"==typeof a&&a(l),"function"==typeof s&&s(l),Promise.resolve(l)):(l.errMsg=Object(i.b)({"name":"setNavigationBarTitle","para":"title","correct":"String","wrong":o}),console.error(l.errMsg),"function"==typeof r&&r(l),"function"==typeof s&&s(l),Promise.reject(l))}}]]);